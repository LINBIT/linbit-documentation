# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2020-06-06 08:52+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title ==
#, no-wrap
msgid "Common administrative tasks"
msgstr "一般的な管理作業"

#. type: Plain text
msgid ""
"This chapter outlines typical administrative tasks encountered during day-to-"
"day operations. It does not cover troubleshooting tasks, these are covered "
"in detail in <<ch-troubleshooting>>."
msgstr ""
"この章では、日常的な運用において必要な一般的な管理作業について説明します。ト"
"ラブルシューティング作業については取り上げません。これについては、<<ch-"
"troubleshooting>>を参照してください。"

#. type: Title ===
#, no-wrap
msgid "Checking DRBD status"
msgstr "DRBDの状態のチェック"

#. type: Title ====
#, no-wrap
msgid "Retrieving status with `drbd-overview`"
msgstr "`drbd-overview` で状態を取得する"

#. type: Plain text
msgid ""
"One convenient way to look at DRBD's status is the indexterm:[drbd-"
"overview]`drbd-overview` utility."
msgstr ""
"DRBDのステータスはindexterm:[drbd-overview] `drbd-overview` ユーティリティで"
"簡単に確認できます。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbd-overview\n"
"0:home                 Connected Primary/Secondary\n"
"  UpToDate/UpToDate C r--- /home        xfs  200G 158G 43G  79%\n"
"1:data                 Connected Primary/Secondary\n"
"  UpToDate/UpToDate C r--- /mnt/ha1     ext3 9.9G 618M 8.8G 7%\n"
"2:nfs-root             Connected Primary/Secondary\n"
"  UpToDate/UpToDate C r--- /mnt/netboot ext3 79G  57G  19G  76%\n"
msgstr ""
"# drbd-overview\n"
"0:home                 Connected Primary/Secondary\n"
"  UpToDate/UpToDate C r--- /home        xfs  200G 158G 43G  79%\n"
"1:data                 Connected Primary/Secondary\n"
"  UpToDate/UpToDate C r--- /mnt/ha1     ext3 9.9G 618M 8.8G 7%\n"
"2:nfs-root             Connected Primary/Secondary\n"
"  UpToDate/UpToDate C r--- /mnt/netboot ext3 79G  57G  19G  76%\n"

#. type: Title ====
#, no-wrap
msgid "Status information via `drbdadm`"
msgstr "`drbdadm` によるステータス情報"

#. type: Plain text
msgid ""
"indexterm:[drbdadm status]In its simplest invocation, we just ask for the "
"status of a single resource."
msgstr ""
"indexterm:[drbdadm status]一番シンプルなものとして、1つのリソースのステータス"
"を表示します。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm status home\n"
"home role:Secondary\n"
"  disk:UpToDate\n"
"  peer role:Secondary\n"
"    replication:Established peer-disk:UpToDate\n"
msgstr ""
"# drbdadm status home\n"
"home role:Secondary\n"
"  disk:UpToDate\n"
"  peer role:Secondary\n"
"    replication:Established peer-disk:UpToDate\n"

#. type: Plain text
msgid ""
"This here just says that the resource `home` is locally and on peer "
"_UpToDate_ and _Secondary_; so the two nodes have the same data on their "
"storage devices, and nobody is using the device currently."
msgstr ""
"ここでは、リソース `home` がローカル、対抗ノードにあり、UpToDate, Secondary "
"状態であることを示します。よって、2つのノードはストレージデバイス上で同じデー"
"タを持ち、どちらもそのデバイスを使用していません。"

#. type: Plain text
msgid ""
"You can get more information by passing the `--verbose` and/or `--"
"statistics` arguments to `drbdsetup`:"
msgstr ""
"より多くの情報を得るには `drbdsetup` に `--verbose` , `--statistics` 引数のど"
"ちらか、あるいは両方を指定します:"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdsetup status home --verbose --statistics\n"
"home role:Secondary suspended:no\n"
"    write-ordering:flush\n"
"  volume:0 minor:0 disk:UpToDate\n"
"      size:5033792 read:0 written:0 al-writes:0 bm-writes:0 upper-pending:0\n"
"      lower-pending:0 al-suspended:no blocked:no\n"
"  peer connection:Connected role:Secondary congested:no\n"
"    volume:0 replication:Established peer-disk:UpToDate\n"
"        resync-suspended:no\n"
"        received:0 sent:0 out-of-sync:0 pending:0 unacked:0\n"
msgstr ""
"# drbdsetup status home --verbose --statistics\n"
"home role:Secondary suspended:no\n"
"    write-ordering:flush\n"
"  volume:0 minor:0 disk:UpToDate\n"
"      size:5033792 read:0 written:0 al-writes:0 bm-writes:0 upper-pending:0\n"
"      lower-pending:0 al-suspended:no blocked:no\n"
"  peer connection:Connected role:Secondary congested:no\n"
"    volume:0 replication:Established peer-disk:UpToDate\n"
"        resync-suspended:no\n"
"        received:0 sent:0 out-of-sync:0 pending:0 unacked:0\n"

#. type: Plain text
msgid ""
"Every few lines in this example form a block that is repeated for every node "
"used in this resource, with small format exceptions for the local node - see "
"below for more details."
msgstr ""
"この例では、ローカルノードについては多少異なりますが、このリソースで使用して"
"いるノードすべてを数行ごとにブロックで表示しています。以下で詳細を説明しま"
"す。"

#. type: Plain text
msgid "The first line in each block shows the `role` (see <<s-roles>>)."
msgstr "各ブロックの最初の行はロール (<<s-roles>> を参照) を表示します。"

#. type: Plain text
msgid ""
"The next important line begins with the `volume` specification; normally "
"these are numbered starting by zero, but the configuration may specify other "
"IDs as well. This line shows the indexterm:[connection state] connection "
"state in the `replication` item (see <<s-connection-states>> for details) "
"and the remote indexterm:[disk state] disk state in `disk` (see <<s-disk-"
"states>>).  Then there's a line for this volume giving a bit of statistics - "
"data `received`, `sent`, `out-of-sync`, etc; please see <<s-performance-"
"indicators>> for more information."
msgstr ""
"次に重要な行は `volume` で始まる行で通常０から番号付けされますが、構成により"
"他の番号付けも可能です。この行は、 `replication` 項に indexterm:[connection "
"state] 接続状態と `disk` 項 (<<s-disk-states>> を参照) にリモートの "
"indexterm:[disk state] ディスク状態を表示します。さらに `received`, `sent`, "
"`out-of-sync` などの統計情報が続きます。詳細は <<s-performance-indicators>> "
"を参照してください。"

#. type: Plain text
msgid ""
"For the local node the first line shows the resource name, `home`, in our "
"example. As the first block always describes the local node, there is no "
"`Connection` or address information."
msgstr ""
"ローカルノードの場合、この例では、最初の行にリソース名 `home` が表示されま"
"す。最初のブロックは常にローカルノードを記述するので、 `Connection` やアドレ"
"ス情報はありません。"

#. type: Plain text
msgid "please see the `drbd.conf` manual page for more information."
msgstr "詳細は `drbd.conf` マニュアルページを参照してください。"

#. type: Plain text
msgid ""
"The other four lines in this example form a block that is repeated for every "
"DRBD device configured, prefixed by the device minor number. In this case, "
"this is `0`, corresponding to the device `/dev/drbd0`."
msgstr ""
"この例の他の6行は、構成されている各DRBDデバイスについて繰り返されるブロック"
"で、先頭にデバイスのマイナー番号が付いています。この場合、 `0` はデバイス `/"
"dev/drbd0` に対応します。"

#. type: Plain text
msgid ""
"The resource-specific output contains various pieces of information about "
"the resource:"
msgstr ""
"リソース固有の出力には、リソースについてのさまざまな情報が表示されます。"

#. type: Plain text
msgid ""
"Replication protocol used by the resource. Either `A`, `B` or `C`. See <<s-"
"replication-protocols>> for details."
msgstr ""
"Replication protocolはリソースが使用します。 `A` 、 `B` 、 `C` のいずれかで"
"す。詳細は<<s-replication-protocols>>を参照ください。"

#. type: Title ====
#, no-wrap
msgid "One-shot or realtime monitoring via `drbdsetup events2`"
msgstr "`drbdsetup events2` によるワンショットもしくはリアルタイムの監視"

#. type: Plain text
msgid ""
"This is available only with userspace versions 8.9.3 and kernel module "
"8.4.6, and up."
msgstr ""
"これは drbd-utils バージョン 8.9.3, kernel module 8.4.6 以降で利用可能です。"

#. type: Plain text
msgid ""
"This is a low-level mechanism to get information out of DRBD, suitable for "
"use in automated tools, like monitoring."
msgstr ""
"これは、監視のような自動ツールでの使用に適したもので、DRBD から情報を取得する"
"低レベルのメカニズムです。"

#. type: Plain text
msgid ""
"In its simplest invocation, showing only the current status, the output "
"looks like this (but, when running on a terminal, will include colors):"
msgstr ""
"最も単純な呼び出しでは、現在のステータスのみを表示し、出力は次のようになりま"
"す（ただし、端末で実行するとカラー属性を含みます）。"

#. type: Block title
#, no-wrap
msgid "'drbdsetup' example output (lines broken for readability)"
msgstr "'drbdsetup' の出力例（読みやすくするために改行してある）"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdsetup events2 --now r0\n"
"exists resource name:r0 role:Secondary suspended:no\n"
"exists connection name:r0 peer-node-id:1 conn-name:remote-host connection:Connected role:Secondary\n"
"exists device name:r0 volume:0 minor:7 disk:UpToDate\n"
"exists device name:r0 volume:1 minor:8 disk:UpToDate\n"
"exists peer-device name:r0 peer-node-id:1 conn-name:remote-host volume:0\n"
"\treplication:Established peer-disk:UpToDate resync-suspended:no\n"
"exists peer-device name:r0 peer-node-id:1 conn-name:remote-host volume:1\n"
"\treplication:Established peer-disk:UpToDate resync-suspended:no\n"
"exists -\n"
msgstr ""
"# drbdsetup events2 --now r0\n"
"exists resource name:r0 role:Secondary suspended:no\n"
"exists connection name:r0 peer-node-id:1 conn-name:remote-host connection:Connected role:Secondary\n"
"exists device name:r0 volume:0 minor:7 disk:UpToDate\n"
"exists device name:r0 volume:1 minor:8 disk:UpToDate\n"
"exists peer-device name:r0 peer-node-id:1 conn-name:remote-host volume:0\n"
"\treplication:Established peer-disk:UpToDate resync-suspended:no\n"
"exists peer-device name:r0 peer-node-id:1 conn-name:remote-host volume:1\n"
"\treplication:Established peer-disk:UpToDate resync-suspended:no\n"
"exists -\n"

#. type: Plain text
msgid ""
"Without the ''--now'', the process will keep running, and send continuous "
"updates like this:"
msgstr ""
"--now 引数なしではプロセスは実行し続け、このように連続的に更新し続けます:"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdsetup events2 r0\n"
"...\n"
"change connection name:r0 peer-node-id:1 conn-name:remote-host connection:StandAlone\n"
"change connection name:r0 peer-node-id:1 conn-name:remote-host connection:Unconnected\n"
"change connection name:r0 peer-node-id:1 conn-name:remote-host connection:Connecting\n"
msgstr ""
"# drbdsetup events2 r0\n"
"...\n"
"change connection name:r0 peer-node-id:1 conn-name:remote-host connection:StandAlone\n"
"change connection name:r0 peer-node-id:1 conn-name:remote-host connection:Unconnected\n"
"change connection name:r0 peer-node-id:1 conn-name:remote-host connection:Connecting\n"

#. type: Plain text
msgid ""
"Then, for monitoring purposes, there's another argument ''--statistics'', "
"that will produce some performance counters and other facts:"
msgstr ""
"監視目的のために ''--statistics'' 引数を指定すると、パフォーマンスカウンタや"
"他の事象を生成できます。"

#. type: Block title
#, no-wrap
msgid "'drbdsetup' verbose output (lines broken for readability)"
msgstr "'drbdsetup' 冗長出力（読みやすくするために改行してある"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdsetup events2 --statistics --now r0\n"
"exists resource name:r0 role:Secondary suspended:no write-ordering:drain\n"
"exists connection name:r0 peer-node-id:1 conn-name:remote-host connection:Connected role:Secondary congested:no\n"
"exists device name:r0 volume:0 minor:7 disk:UpToDate size:6291228 read:6397188 written:131844\n"
"\tal-writes:34 bm-writes:0 upper-pending:0 lower-pending:0 al-suspended:no blocked:no\n"
"exists device name:r0 volume:1 minor:8 disk:UpToDate size:104854364 read:5910680 written:6634548\n"
"\tal-writes:417 bm-writes:0 upper-pending:0 lower-pending:0 al-suspended:no blocked:no\n"
"exists peer-device name:r0 peer-node-id:1 conn-name:remote-host volume:0 replication:Established\n"
"\tpeer-disk:UpToDate resync-suspended:no received:0 sent:131844 out-of-sync:0 pending:0 unacked:0\n"
"exists peer-device name:r0 peer-node-id:1 conn-name:remote-host volume:1 replication:Established\n"
"\tpeer-disk:UpToDate resync-suspended:no received:0 sent:6634548 out-of-sync:0 pending:0 unacked:0\n"
"exists -\n"
msgstr ""
"# drbdsetup events2 --statistics --now r0\n"
"exists resource name:r0 role:Secondary suspended:no write-ordering:drain\n"
"exists connection name:r0 peer-node-id:1 conn-name:remote-host connection:Connected role:Secondary congested:no\n"
"exists device name:r0 volume:0 minor:7 disk:UpToDate size:6291228 read:6397188 written:131844\n"
"\tal-writes:34 bm-writes:0 upper-pending:0 lower-pending:0 al-suspended:no blocked:no\n"
"exists device name:r0 volume:1 minor:8 disk:UpToDate size:104854364 read:5910680 written:6634548\n"
"\tal-writes:417 bm-writes:0 upper-pending:0 lower-pending:0 al-suspended:no blocked:no\n"
"exists peer-device name:r0 peer-node-id:1 conn-name:remote-host volume:0 replication:Established\n"
"\tpeer-disk:UpToDate resync-suspended:no received:0 sent:131844 out-of-sync:0 pending:0 unacked:0\n"
"exists peer-device name:r0 peer-node-id:1 conn-name:remote-host volume:1 replication:Established\n"
"\tpeer-disk:UpToDate resync-suspended:no received:0 sent:6634548 out-of-sync:0 pending:0 unacked:0\n"
"exists -\n"

#. type: Plain text
msgid "You might also like the `--timestamp` parameter."
msgstr "`--timestamp` 引数もあります。"

#. type: Title ====
#, no-wrap
msgid "Status information in `/proc/drbd`"
msgstr "`/proc/drbd` でのステータス情報"

#. type: Plain text
msgid ""
"''/proc/drbd'' is deprecated. While it won't be removed in the 8.4 series, "
"we recommend to switch to other means, like <<s-drbdadm-status>>; or, for "
"monitoring even more convenient, <<s-drbdsetup-events2>>."
msgstr ""
"''/proc/drbd'' は非推奨です。8.4 シリーズでは削除されませんが、<<s-drbdadm-"
"status>> や監視目的の <<s-drbdsetup-events2>> などの他の手段に切り替えること"
"をお勧めします。"

#. type: Plain text
msgid ""
"indexterm:[/proc/drbd]`/proc/drbd` is a virtual file displaying real-time "
"status information about all DRBD resources currently configured. You may "
"interrogate this file's contents using this command:"
msgstr ""
"indexterm:[/proc/drbd@/proc/drbd] `/proc/drbd` は現在設定されているすべての"
"DRBDリソースに関するリアルタイムのステータス情報を表示する仮想ファイルです。"
"次のようにして、ファイルの内容を確認できます。"

#. type: delimited block -
#, no-wrap
msgid ""
"$ cat /proc/drbd\n"
"version: 8.4.0 (api:1/proto:86-100)\n"
"GIT-hash: 09b6d528b3b3de50462cd7831c0a3791abc665c3 build by linbit@buildsystem.linbit, 2011-10-12 09:07:35\n"
" 0: cs:Connected ro:Secondary/Secondary ds:UpToDate/UpToDate C r-----\n"
"    ns:0 nr:0 dw:0 dr:656 al:0 bm:0 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0\n"
" 1: cs:Connected ro:Primary/Secondary ds:UpToDate/UpToDate C r---\n"
"    ns:0 nr:0 dw:0 dr:0 al:0 bm:0 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0\n"
" 2: cs:Connected ro:Secondary/Primary ds:UpToDate/UpToDate C r---\n"
"    ns:0 nr:0 dw:0 dr:0 al:0 bm:0 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0\n"
msgstr ""
"$ cat /proc/drbd\n"
"version: 8.4.0 (api:1/proto:86-100)\n"
"GIT-hash: 09b6d528b3b3de50462cd7831c0a3791abc665c3 build by linbit@buildsystem.linbit, 2011-10-12 09:07:35\n"
" 0: cs:Connected ro:Secondary/Secondary ds:UpToDate/UpToDate C r-----\n"
"    ns:0 nr:0 dw:0 dr:656 al:0 bm:0 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0\n"
" 1: cs:Connected ro:Primary/Secondary ds:UpToDate/UpToDate C r---\n"
"    ns:0 nr:0 dw:0 dr:0 al:0 bm:0 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0\n"
" 2: cs:Connected ro:Secondary/Primary ds:UpToDate/UpToDate C r---\n"
"    ns:0 nr:0 dw:0 dr:0 al:0 bm:0 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0\n"

#. type: Plain text
msgid ""
"The first line, prefixed with +version:+, shows the DRBD version used on "
"your system. The second line contains information about this specific build."
msgstr ""
"先頭に +version:+ と記述された最初の行は、システムで使用されているDRBDのバー"
"ジョンを示します。2行目にはこのビルドに関する情報が記述されています。"

#. type: Plain text
msgid ""
"The resource-specific output from `/proc/drbd` contains various pieces of "
"information about the resource:"
msgstr ""
"`/proc/drbd` のデバイス固有の出力には、リソースについてのさまざまな情報が表示"
"されます。"

#. type: Block title
#, no-wrap
msgid "`cs` (connection state)"
msgstr "`cs` (connection state)"

#. type: Plain text
msgid ""
"indexterm:[connection state]Status of the network connection. See <<s-"
"connection-states>>for details about the various connection states."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]ネットワーク接続の状態。接続状態の種類"
"や詳細については<<s-connection-states>>を参照ください。"

#. type: Block title
#, no-wrap
msgid "`ro` (roles)"
msgstr "`ro` (roles)"

#. type: Plain text
msgid ""
"indexterm:[resource]Roles of the nodes. The role of the local node is "
"displayed first, followed by the role of the partner node shown after the "
"slash. See <<s-roles>>for details about the possible resource roles."
msgstr ""
"indexterm:[resource]ノードのロール最初にローカルノードのロールが表示され、ス"
"ラッシュの後に対向ノードのロールが表示されます。リソースロールの詳細は、<<s-"
"roles>>を参照してください。"

#. type: Block title
#, no-wrap
msgid "`ds` (disk states)"
msgstr "`ds` (disk states)"

#. type: Plain text
msgid ""
"indexterm:[disk state]State of the hard disks. Prior to the slash the state "
"of the local node is displayed, after the slash the state of the hard disk "
"of the partner node is shown. See <<s-disk-states>>for details about the "
"various disk states."
msgstr ""
"indexterm:[でぃすくじょうたい@ディスク状態]ハードディスクの状態スラッシュの前"
"にローカルノードの状態、スラッシュの後に対向ノードのハードディスクの状態が表"
"示されます。さまざまなディスク状態については<<s-disk-states>>をご参照くださ"
"い。"

#. type: Block title
#, no-wrap
msgid "Replication protocol"
msgstr "レプリケーションプロトコル"

#. type: Block title
#, no-wrap
msgid "I/O Flags"
msgstr "I/Oフラグ"

#. type: Plain text
msgid ""
"Six state flags reflecting the I/O status of this resource. See <<s-io-"
"flags>> for a detailed explanation of these flags."
msgstr ""
"リソースのI/O状態を反映する6種のフラグです。これらフラグの詳細は<<s-io-"
"flags>>を参照ください。"

#. type: Title ====
#, no-wrap
msgid "Performance indicators"
msgstr "パフォーマンス指標"

#. type: Plain text
msgid ""
"A number of counters and gauges reflecting the resource's utilization and "
"performance. See <<s-performance-indicators>> for details."
msgstr ""
"リソースの利用とパフォーマンスを反映したカウンタです。詳細は<<s-performance-"
"indicators>>を参照ください。"

#. type: Title ====
#, no-wrap
msgid "Connection states"
msgstr "接続状態"

#. type: Plain text
msgid ""
"indexterm:[connection state]A resource's connection state can be observed "
"either by monitoring `/proc/drbd`, or by issuing the `drbdadm cstate` "
"command:"
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]リソースの接続状態を確認するには、 `/"
"proc/drbd` を監視するか、 `drbdadm cstate` コマンドを実行します。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm cstate <resource>\n"
"Connected\n"
msgstr ""
"# drbdadm cstate <resource>\n"
"Connected\n"

#. type: Plain text
msgid "A resource may have one of the following connection states:"
msgstr "リソースの接続状態には次のようなものがあります。"

#. type: Block title
#, no-wrap
msgid "_StandAlone_"
msgstr "_StandAlone_"

#. type: Plain text
msgid ""
"indexterm:[connection state]No network configuration available. The resource "
"has not yet been connected, or has been administratively disconnected (using "
"`drbdadm disconnect`), or has dropped its connection due to failed "
"authentication or split brain."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]ネットワーク構成は使用できません。リ"
"ソースがまだ接続されていない、管理上の理由で切断されている(`drbdadm "
"disconnect`を使用)、認証の失敗またはスプリットブレインにより接続が解除され"
"た、のいずれかが考えられます。"

#. type: Block title
#, no-wrap
msgid "_Disconnecting_"
msgstr "_Disconnecting_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Temporary state during disconnection. The next "
"state is _StandAlone_."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]切断中の一時的な状態です。次の状態は "
"_StandAlone_ です。"

#. type: Block title
#, no-wrap
msgid "_Unconnected_"
msgstr "_Unconnected_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Temporary state, prior to a connection attempt. "
"Possible next states: _WFConnection_ and _WFReportParams_."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]接続を試行する前の一時的な状態です。次"
"に考えられる状態は、 _WFConnection_ および _WFReportParams_ です。"

#. type: Block title
#, no-wrap
msgid "_Timeout_"
msgstr "_Timeout_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Temporary state following a timeout in the "
"communication with the peer. Next state: _Unconnected_."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]対向ノードとの通信のタイムアウト後の一"
"時的な状態です。次の状態は _Unconnected_ です。"

#. type: Block title
#, no-wrap
msgid "_BrokenPipe_"
msgstr "_BrokenPipe_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Temporary state after the connection to the peer "
"was lost. Next state: _Unconnected_."
msgstr ""
"対向ノードとの接続が失われた後の一時的な状態です。indexterm:[せつぞくじょうた"
"い@接続状態]次の状態は _Unconnected_ です。"

#. type: Block title
#, no-wrap
msgid "_NetworkFailure_"
msgstr "_NetworkFailure_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Temporary state after the connection to the "
"partner was lost. Next state: _Unconnected_."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]対向ノードとの接続が失われた後の一時的"
"な状態です。次の状態は _Unconnected_ です。"

#. type: Block title
#, no-wrap
msgid "_ProtocolError_"
msgstr "_ProtocolError_"

#. type: Block title
#, no-wrap
msgid "_TearDown_"
msgstr "_TearDown_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Temporary state. The peer is closing the "
"connection. Next state: _Unconnected_."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]一時的な状態です。対向ノードが接続を閉"
"じています。次の状態は _Unconnected_ です。"

#. type: Block title
#, no-wrap
msgid "_WFConnection_"
msgstr "_WFConnection_"

#. type: Plain text
msgid ""
"indexterm:[connection state]This node is waiting until the peer node becomes "
"visible on the network."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]対向ノードノードがネットワーク上で可視"
"になるまでノードが待機します。"

#. type: Block title
#, no-wrap
msgid "_WFReportParams_"
msgstr "_WFReportParams_"

#. type: Plain text
msgid ""
"indexterm:[connection state]TCP connection has been established, this node "
"waits for the first network packet from the peer."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]TCP (伝送制御プロトコル)接続が確立さ"
"れ、ノードが対向ノードからの最初のネットワークパケットを待っています。"

#. type: Block title
#, no-wrap
msgid "_Connected_"
msgstr "_Connected_"

#. type: Plain text
msgid ""
"indexterm:[connection state]A DRBD connection has been established, data "
"mirroring is now active. This is the normal state."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]DRBDの接続が確立され、データミラー化が"
"アクティブになっています。これが正常な状態です。"

#. type: Block title
#, no-wrap
msgid "_StartingSyncS_"
msgstr "_StartingSyncS_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Full synchronization, initiated by the "
"administrator, is just starting. The local node will be the source of "
"synchronization. The next possible states are: _SyncSource_ or _PausedSyncS_."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]管理者により開始されたフル同期が始まっ"
"ています。次に考えられる状態は _SyncSource_ または _PausedSyncS_ です。"

#. type: Block title
#, no-wrap
msgid "_StartingSyncT_"
msgstr "_StartingSyncT_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Full synchronization, initiated by the "
"administrator, is just starting. The local node will be the target of "
"synchronization. Next state: _WFSyncUUID_."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]管理者により開始されたフル同期が始まっ"
"ています。次の状態は _WFSyncUUID_ です。"

#. type: Block title
#, no-wrap
msgid "_WFBitMapS_"
msgstr "_WFBitMapS_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Partial synchronization is just starting. The "
"local node will be the source of synchronization. Next possible states: "
"_SyncSource_ or _PausedSyncS_."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]部分同期が始まっています。次に考えられ"
"る状態は _SyncSource_ または _PausedSyncS_ です。"

#. type: Block title
#, no-wrap
msgid "_WFBitMapT_"
msgstr "_WFBitMapT_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Partial synchronization is just starting. The "
"local node will be the target of synchronization. Next possible state: "
"_WFSyncUUID_."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]部分同期が始まっています。次に考えられ"
"る状態は _WFSyncUUID_ です。"

#. type: Block title
#, no-wrap
msgid "_WFSyncUUID_"
msgstr "_WFSyncUUID_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Synchronization is about to begin. Next possible "
"states: _SyncTarget_ or _PausedSyncT_."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]同期が開始されるところです。次に考えら"
"れる状態は _SyncTarget_ または _PausedSyncT_ です。"

#. type: Block title
#, no-wrap
msgid "_SyncSource_"
msgstr "_SyncSource_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Synchronization is currently running, with the "
"local node being the source of synchronization."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]現在、ローカルノードを同期元にして同期"
"を実行中です。"

#. type: Block title
#, no-wrap
msgid "_SyncTarget_"
msgstr "_SyncTarget_"

#. type: Plain text
msgid ""
"indexterm:[connection state]Synchronization is currently running, with the "
"local node being the target of synchronization."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]現在、ローカルノードを同期先にして同期"
"を実行中です。"

#. type: Block title
#, no-wrap
msgid "_PausedSyncS_"
msgstr "_PausedSyncS_"

#. type: Plain text
msgid ""
"indexterm:[connection state]The local node is the source of an ongoing "
"synchronization, but synchronization is currently paused. This may be due to "
"a dependency on the completion of another synchronization process, or due to "
"synchronization having been manually interrupted by `drbdadm pause-sync`."
msgstr ""
"ローカルノードが進行中の同期の同期元ですが、現在は同期が一時停止しています。"
"indexterm:[せつぞくじょうたい@接続状態]原因として、別の同期プロセスの完了との"
"依存関係、または `drbdadm pause-sync` を使用して手動で同期が中断されたことが"
"考えられます。"

#. type: Block title
#, no-wrap
msgid "_PausedSyncT_"
msgstr "_PausedSyncT_"

#. type: Plain text
msgid ""
"indexterm:[connection state]The local node is the target of an ongoing "
"synchronization, but synchronization is currently paused. This may be due to "
"a dependency on the completion of another synchronization process, or due to "
"synchronization having been manually interrupted by `drbdadm pause-sync`."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]ローカルノードが進行中の同期の同期先で"
"すが、現在は同期が一時停止しています。原因として、別の同期プロセスの完了との"
"依存関係、または `drbdadm pause-sync` を使用して手動で同期が中断されたことが"
"考えられます。"

#. type: Block title
#, no-wrap
msgid "_VerifyS_"
msgstr "_VerifyS_"

#. type: Plain text
msgid ""
"indexterm:[connection state]On-line device verification is currently "
"running, with the local node being the source of verification."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]現在、ローカルノードを照合元にして、オ"
"ンラインデバイスの照合を実行中です。"

#. type: Block title
#, no-wrap
msgid "_VerifyT_"
msgstr "_VerifyT_"

#. type: Plain text
msgid ""
"indexterm:[connection state]On-line device verification is currently "
"running, with the local node being the target of verification."
msgstr ""
"indexterm:[せつぞくじょうたい@接続状態]現在、ローカルノードを照合先にして、オ"
"ンラインデバイスの照合を実行中です。"

#. type: Title ====
#, no-wrap
msgid "Resource roles"
msgstr "リソースのロール"

#. type: Plain text
msgid ""
"indexterm:[resource]A resource's role can be observed either by monitoring `/"
"proc/drbd`, or by issuing the indexterm:[drbdadm] `drbdadm role` command:"
msgstr ""
"indexterm:[resource]リソースのロールは、 `/proc/drbd` を監視するか、"
"indexterm:[drbdadm] `drbdadm role` コマンドを発行することのいずれかによって確"
"認できます。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm role <resource>\n"
"Primary/Secondary\n"
msgstr ""
"# drbdadm role <resource>\n"
"Primary/Secondary\n"

#. type: Plain text
msgid ""
"The local resource role is always displayed first, the remote resource role "
"last."
msgstr "左側はローカルリソースのロール、右側はリモートリソースのロールです。"

#. type: Plain text
msgid "You may see one of the following resource roles:"
msgstr "リソースロールには次のようなものがあります。"

#. type: Block title
#, no-wrap
msgid "_Primary_"
msgstr "_Primary_"

#. type: Plain text
msgid ""
"The resource is currently in the primary role, and may be read from and "
"written to. This role only occurs on one of the two nodes, unless <<s-dual-"
"primary-mode,dual-primary mode>> is enabled."
msgstr ""
"現在、リソースはプライマリロールで読み書き加能です。2つのノードの一方だけがこ"
"のロールになることができます。ただし、<<s-dual-primary-mode,デュアルプライマ"
"リモード>>が有効な場合は例外です。"

#. type: Block title
#, no-wrap
msgid "_Secondary_"
msgstr "_Secondary_"

#. type: Plain text
msgid ""
"The resource is currently in the secondary role. It normally receives "
"updates from its peer (unless running in disconnected mode), but may neither "
"be read from nor written to. This role may occur on one or both nodes."
msgstr ""
"現在、リソースがセカンダリロールです。対向ノードから正常に更新を受け取ること"
"ができますが(切断モード以外の場合)、このリソースに対して読み書きは実行できま"
"せん。1つまたは両ノードがこのロールになることができます。"

#. type: Block title
#, no-wrap
msgid "_Unknown_"
msgstr "_Unknown_"

#. type: Plain text
msgid ""
"The resource's role is currently unknown. The local resource role never has "
"this status. It is only displayed for the peer's resource role, and only in "
"disconnected mode."
msgstr ""
"現在、リソースのロールが不明です。ローカルリソースロールがこの状態になること"
"はありません。これは、切断モードの場合にのみ、対向ノードのリソースロールだけ"
"に表示されます。"

#. type: Title ====
#, no-wrap
msgid "Disk states"
msgstr "ディスク状態"

#. type: Plain text
msgid ""
"A resource's disk state can be observed either by monitoring `/proc/drbd`, "
"or by issuing the `drbdadm dstate` command:"
msgstr ""
"リソースのディスクの状態は、 `/proc/drbd` を監視することにより、または "
"`drbdadm dstate` コマンドを発行することのいずれかによって確認できます。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm dstate <resource>\n"
"UpToDate/UpToDate\n"
msgstr ""
"# drbdadm dstate <resource>\n"
"UpToDate/UpToDate\n"

#. type: Plain text
msgid ""
"The local disk state is always displayed first, the remote disk state last."
msgstr "左側はローカルディスクの状態、右側はリモートディスクの状態です。"

#. type: Plain text
msgid "Both the local and the remote disk state may be one of the following:"
msgstr ""
"ローカルディスクとリモートディスクの状態には、次のようなものがあります。"

#. type: Block title
#, no-wrap
msgid "_Diskless_"
msgstr "_Diskless_"

#. type: Plain text
msgid ""
"indexterm:[disk state]No local block device has been assigned to the DRBD "
"driver. This may mean that the resource has never attached to its backing "
"device, that it has been manually detached using `drbdadm detach`, or that "
"it automatically detached after a lower-level I/O error."
msgstr ""
"indexterm:[でぃすくじょうたい@ディスク状態]DRBDドライバにローカルブロックデバ"
"イスが割り当てられていません。原因として、リソースが下位デバイスに接続されな"
"かった、 `drbdadm detach` を使用して手動でリソースを切り離した、または下位レ"
"ベルのI/Oエラーにより自動的に切り離されたことが考えられます。"

#. type: Block title
#, no-wrap
msgid "_Attaching_"
msgstr "_Attaching_"

#. type: Plain text
msgid "indexterm:[disk state]Transient state while reading meta data."
msgstr ""
"indexterm:[でぃすくじょうたい@ディスク状態]メタデータ読み取り中の一時的な状態"
"です。"

#. type: Block title
#, no-wrap
msgid "_Failed_"
msgstr "_Failed_"

#. type: Plain text
msgid ""
"indexterm:[disk state]Transient state following an I/O failure report by the "
"local block device. Next state: _Diskless_."
msgstr ""
"indexterm:[でぃすくじょうたい@ディスク状態]ローカルブロックデバイスがI/O障害"
"を報告した後の一時的な状態です。次の状態は _Diskless_ です。"

#. type: Block title
#, no-wrap
msgid "_Negotiating_"
msgstr "_Negotiating_"

#. type: Plain text
msgid ""
"indexterm:[disk state]Transient state when an _Attach_ is carried out on an "
"already-_Connected_ DRBD device."
msgstr ""
"indexterm:[でぃすくじょうたい@ディスク状態]すでに接続しているDRBDデバイスで接"
"続が実行された場合の一時的状態です。"

#. type: Block title
#, no-wrap
msgid "_Inconsistent_"
msgstr "_Inconsistent_"

#. type: Plain text
msgid ""
"indexterm:[disk state]The data is inconsistent. This status occurs "
"immediately upon creation of a new resource, on both nodes (before the "
"initial full sync). Also, this status is found in one node (the "
"synchronization target) during synchronization."
msgstr ""
"indexterm:[でぃすくじょうたい@ディスク状態]データが一致しません。新規リソース"
"を作成した直後に(初期フル同期の前に)両方のノードがこの状態になります。また、"
"同期中には片方のノード(同期先)がこの状態になります。"

#. type: Block title
#, no-wrap
msgid "_Outdated_"
msgstr "_Outdated_"

#. type: Plain text
msgid ""
"indexterm:[disk state]Resource data is consistent, but <<s-outdate,"
"outdated>>."
msgstr ""
"indexterm:[でぃすくじょうたい@ディスク状態]リソースデータは一致していますが、"
"<<s-outdate,無効>>です。"

#. type: Block title
#, no-wrap
msgid "_DUnknown_"
msgstr "_DUnknown_"

#. type: Plain text
msgid ""
"indexterm:[disk state]This state is used for the peer disk if no network "
"connection is available."
msgstr ""
"indexterm:[でぃすくじょうたい@ディスク状態]ネットワーク接続を使用できない場合"
"に、対向ノードディスクにこの状態が使用されます。"

#. type: Block title
#, no-wrap
msgid "_Consistent_"
msgstr "_Consistent_"

#. type: Plain text
msgid ""
"indexterm:[disk state]Consistent data of a node without connection. When the "
"connection is established, it is decided whether the data is _UpToDate_ or "
"_Outdated_."
msgstr ""
"indexterm:[でぃすくじょうたい@ディスク状態]接続していない状態でノードのデータ"
"が一致しています。接続が確立すると、データが _UpToDate_ か _Outdated_ か判断"
"されます。"

#. type: Block title
#, no-wrap
msgid "_UpToDate_"
msgstr "_UpToDate_"

#. type: Plain text
msgid ""
"indexterm:[disk state]Consistent, up-to-date state of the data. This is the "
"normal state."
msgstr ""
"indexterm:[でぃすくじょうたい@ディスク状態]データが一致していて最新の状態で"
"す。これが正常な状態です。"

#. type: Title ====
#, no-wrap
msgid "I/O state flags"
msgstr "I/O状態フラグ"

#. type: Plain text
msgid ""
"The I/O state flag field in `/proc/drbd` contains information about the "
"current state of I/O operations associated with the resource. There are six "
"such flags in total, with the following possible values:"
msgstr ""
"`/proc/drbd` フィールドのI/O状態フラグは現在のリソースへのI/Oオペレーションの"
"状態に関する情報を含みます。全部で6つのフラグがあり、次の値をとります。"

#. type: Plain text
msgid ""
"I/O suspension. Either `r` for _running_ or `s` for _suspended_ I/O. "
"Normally `r`."
msgstr ""
"I/O停止。I/Oの動作中には `r` であり、停止中には `s` です。通常時は `r` です。"

#. type: Plain text
msgid ""
"Serial resynchronization. When a resource is awaiting resynchronization, but "
"has deferred this because of a `resync-after` dependency, this flag becomes "
"`a`. Normally `-`."
msgstr ""
"シリアル再同期。リソースの再同期を待ち受け中で、 再同期後の依存性があるため延"
"期されている場合、このフラグが `a` になります。通常は `-` です。"

#. type: Plain text
msgid ""
"Peer-initiated sync suspension. When resource is awaiting resynchronization, "
"but the peer node has suspended it for any reason, this flag becomes `p`. "
"Normally `-`."
msgstr ""
"対向ノードで開始された同期の停止。リソースの再同期を待ち受け中で、対向ノード"
"が何らかの理由で同期を停止した場合に、このフラグが `p` になります。通常は `-"
"` です。"

#. type: Plain text
msgid ""
"Locally initiated sync suspension. When resource is awaiting "
"resynchronization, but a user on the local node has suspended it, this flag "
"becomes `u`. Normally `-`."
msgstr ""
"ローカルで開始された同期の停止。リソースの再同期を待ち受け中で、ローカルノー"
"ドのユーザが同期を停止した場合、このノードが `u` になります。通常は `-` で"
"す。"

#. type: Plain text
msgid "Locally blocked I/O. Normally `-`. May be one of the following flags:"
msgstr ""
"ローカルでブロックされたI/O。通常は `-` です。次のいずれかのフラグになりま"
"す。"

#. type: Plain text
msgid ""
"`d`: I/O blocked for a reason internal to DRBD, such as a transient disk "
"state."
msgstr "`d` : 何らかの理由でDRBD内部でI/Oがブロックされたなどの一時的な状況"

#. type: Plain text
msgid "`b`: Backing device I/O is blocking."
msgstr "`b` : 下位デバイスのI/Oがブロックされている。"

#. type: Plain text
msgid "`n`: Congestion on the network socket."
msgstr "`n` : ネットワークソケットの輻輳。"

#. type: Plain text
msgid ""
"`a`: Simultaneous combination of blocking device I/O and network congestion."
msgstr "`a` : デバイスI/Oのブロックとネットワーク輻輳が同時に発生。"

#. type: Plain text
msgid ""
"Activity Log update suspension. When updates to the Activity Log are "
"suspended, this flag becomes `s`. Normally `-`."
msgstr ""
"アクティビティログのアップデートの停止アクティビティログへのアップデートが停"
"止された場合、このフラグが `s` になります。通常は `-` です。"

#. type: Plain text
msgid ""
"The second line of `/proc/drbd` information for each resource contains the "
"following counters and gauges:"
msgstr "`/proc/drbd` の2行目の各リソースの情報は次のカウンタを含んでいます。"

#. type: Block title
#, no-wrap
msgid "`ns` (network send)"
msgstr "`ns` (ネットワーク送信)"

#. type: Plain text
msgid ""
"Volume of net data sent to the partner via the network connection; in Kibyte."
msgstr ""
"ネットワーク接続を介して対向ノードに送信された正味データの量(単位はKibyte)。"

#. type: Block title
#, no-wrap
msgid "`nr` (network receive)"
msgstr "`nr` (ネットワーク受信)"

#. type: Plain text
msgid ""
"Volume of net data received by the partner via the network connection; in "
"Kibyte."
msgstr ""
"ネットワーク接続を介して対向ノードが受信した正味データの量(単位はKibyte)。"

#. type: Block title
#, no-wrap
msgid "`dw` (disk write)"
msgstr "`dw` (ディスク書き込み)"

#. type: Plain text
msgid "Net data written on local hard disk; in Kibyte."
msgstr "ローカルハードディスクに書き込まれた正味データ(単位はKibyte)。"

#. type: Block title
#, no-wrap
msgid "`dr` (disk read)"
msgstr "`dr` (ディスク読み取り)"

#. type: Plain text
msgid "Net data read from local hard disk; in Kibyte."
msgstr "ローカルハードディスクから読み取った正味データ(単位はKibyte)。"

#. type: Block title
#, no-wrap
msgid "`al` (activity log)"
msgstr "`al` (アクティビティログ)"

#. type: Plain text
msgid "Number of updates of the activity log area of the meta data."
msgstr "メタデータのアクティビティログ領域の更新の数。"

#. type: Block title
#, no-wrap
msgid "`bm` (bit map)"
msgstr "`bm` (ビットマップ)"

#. type: Plain text
msgid "Number of updates of the bitmap area of the meta data."
msgstr "メタデータのビットマップ領域の更新の数。"

#. type: Block title
#, no-wrap
msgid "`lo` (local count)"
msgstr "`lo` (ローカルカウント)"

#. type: Plain text
msgid "Number of open requests to the local I/O sub-system issued by DRBD."
msgstr "DRBDが発行したローカルI/Oサブシステムに対するオープン要求の数。"

#. type: Block title
#, no-wrap
msgid "`pe` (pending)"
msgstr "`pe` (保留)"

#. type: Plain text
msgid ""
"Number of requests sent to the partner, but that have not yet been answered "
"by the latter."
msgstr "対向ノードに送信されたが、対向ノードから応答がない要求の数。"

#. type: Block title
#, no-wrap
msgid "`ua` (unacknowledged)"
msgstr "`ua` (未確認)"

#. type: Plain text
msgid ""
"Number of requests received by the partner via the network connection, but "
"that have not yet been answered."
msgstr "ネットワーク接続を介して対向ノードが受信したが、応答がない要求の数。"

#. type: Block title
#, no-wrap
msgid "`ap` (application pending)"
msgstr "`ap` (アプリケーション保留)"

#. type: Plain text
msgid ""
"Number of block I/O requests forwarded to DRBD, but not yet answered by DRBD."
msgstr "DRBDに転送されたが、DRBDが応答していないブロックI/O要求の数。"

#. type: Block title
#, no-wrap
msgid "`ep` (epochs)"
msgstr "`ep` (エポック)"

#. type: Plain text
msgid ""
"Number of epoch objects. Usually 1. Might increase under I/O load when using "
"either the `barrier` or the `none` write ordering method."
msgstr ""
"エポックオブジェクトの数。通常は1。 `barrier` または `none` 書き込み順序付け"
"メソッドを使用する場合は、I/O負荷により増加する可能性があります。"

#. type: Block title
#, no-wrap
msgid "`wo` (write order)"
msgstr "`wo` (書き込み順序付け)"

#. type: Plain text
msgid ""
"Currently used write ordering method: `b`(barrier), `f`(flush), `d`(drain) "
"or `n`(none)."
msgstr ""
"現在使用されている書き込み順序付けメソッド。 `b` (バリア)、 `f` (フラッ"
"シュ)、 `d` (ドレイン)または `n` (なし)。"

#. type: Block title
#, no-wrap
msgid "`oos` (out of sync)"
msgstr "`oos` (非同期)"

#. type: Plain text
msgid "Amount of storage currently out of sync; in Kibibytes."
msgstr "現在、同期していないストレージの量(単位はKibibyte)。"

#. type: Title ===
#, no-wrap
msgid "Enabling and disabling resources"
msgstr "リソースの有効化と無効化"

#. type: Title ====
#, no-wrap
msgid "Enabling resources"
msgstr "リソースの有効化"

#. type: Plain text
msgid ""
"indexterm:[resource]Normally, all configured DRBD resources are "
"automatically enabled"
msgstr ""
"indexterm:[resource]クラスタ構成に応じたクラスタ管理アプリケーションの操作に"
"よって、通常、すべての構成されているDRBDリソースが自動的に有効になります。"

#. type: Plain text
msgid ""
"by a cluster resource management application at its discretion, based on "
"your cluster configuration, or"
msgstr ""
"by a cluster resource management application at its discretion, based on "
"your cluster configuration, or"

#. type: Plain text
msgid "by the `/etc/init.d/drbd` init script on system startup."
msgstr "またはシステム起動時の `/etc/init.d/drbd` によっても有効になります。"

#. type: Plain text
msgid ""
"If, however, you need to enable resources manually for any reason, you may "
"do so by issuing the command"
msgstr ""
"もし何らかの理由により手動でリソースを起動する必要のある場合、以下のコマンド"
"の実行によって行うことができます。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm up <resource>\n"
msgstr "# drbdadm up <resource>\n"

#. type: Plain text
msgid ""
"As always, you may use the keyword `all` instead of a specific resource name "
"if you want to enable all resources configured in `/etc/drbd.conf` at once."
msgstr ""
"他の場合と同様に、特定のリソース名の代わりにキーワード `all` を使用すれば、 "
"`/etc/drbd.conf` で構成されているすべてのリソースを一度に有効にできます。"

#. type: Title ====
#, no-wrap
msgid "Disabling resources"
msgstr "リソースを無効にする"

#. type: Plain text
msgid ""
"indexterm:[resource]You may temporarily disable specific resources by "
"issuing the command"
msgstr ""
"indexterm:[resource]特定のリソースを一時的に無効にするには、次のコマンドを実"
"行します。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm down <resource>\n"
msgstr "# drbdadm down <resource>\n"

#. type: Plain text
msgid ""
"Here, too, you may use the keyword `all` in place of a resource name if you "
"wish to temporarily disable all resources listed in `/etc/drbd.conf` at once."
msgstr ""
"ここでも、リソース名の代わりにキーワード `all` を使用して、1回で `/etc/drbd."
"conf` に記述されたすべてのリソースを一時的に無効にできます。"

#. type: Title ===
#, no-wrap
msgid "Reconfiguring resources"
msgstr "リソースの設定の動的な変更"

#. type: Plain text
msgid ""
"indexterm:[resource]DRBD allows you to reconfigure resources while they are "
"operational. To that end,"
msgstr ""
"indexterm:[resource]動作中のリソースのパラメータを変更できます。次の手順を行"
"います。"

#. type: Plain text
msgid ""
"make any necessary changes to the resource configuration in `/etc/drbd.conf`,"
msgstr "`/etc/drbd.conf` のリソース構成を変更します。"

#. type: Plain text
msgid "synchronize your `/etc/drbd.conf` file between both nodes,"
msgstr "両方のノードで `/etc/drbd.conf` ファイルを同期します。"

#. type: Plain text
msgid ""
"issue the indexterm:[drbdadm]`drbdadm adjust <resource>` command on both "
"nodes."
msgstr ""
"両ノードでindexterm:[drbdadm] `drbdadm adjust <resource>` コマンドを実行しま"
"す。"

#. type: Plain text
msgid ""
"`drbdadm adjust` then hands off to `drbdsetup` to make the necessary "
"adjustments to the configuration. As always, you are able to review the "
"pending `drbdsetup` invocations by running `drbdadm` with the `-d` (dry-run) "
"option."
msgstr ""
"`drbdadm adjust` は `drbdsetup` を通じて実行中のリソースを調整します。保留中"
"の `drbdsetup` 呼び出しを確認するには、 `drbdadm` を `-d` (予行演習)オプショ"
"ンをつけて実行します。"

#. type: Plain text
msgid ""
"When making changes to the `common` section in `/etc/drbd.conf`, you can "
"adjust the configuration for all resources in one run, by issuing `drbdadm "
"adjust all`."
msgstr ""
"`/etc/drbd.conf` の `common` セクションを変更して一度にすべてのリソースに反映"
"させたいときは、 `drbdadm adjust all` を実行します。"

#. type: Title ===
#, no-wrap
msgid "Promoting and demoting resources"
msgstr "リソースの昇格と降格"

#. type: Plain text
msgid ""
"indexterm:[resource]Manually switching a <<s-resource-roles,resource's "
"role>> from secondary to primary (promotion) or vice versa (demotion)  is "
"done using the following commands:"
msgstr ""
"indexterm:[resource]手動で<<s-resource-roles,リソースロール>>をセカンダリから"
"プライマリに切り替える(昇格)、またはその逆に切り替える(降格)には、次のコマン"
"ドを実行します。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm primary <resource>\n"
"# drbdadm secondary <resource>\n"
msgstr ""
"# drbdadm primary <resource>\n"
"# drbdadm secondary <resource>\n"

#. type: Plain text
msgid ""
"In <<s-single-primary-mode,single-primary mode>> (DRBD's default), any "
"resource can be in the primary role on only one node at any given time while "
"the <<s-connection-states,connection state>> is _Connected_. Thus, issuing "
"`drbdadm primary <resource>` on one node while _<resource>_ is still in the "
"primary role on the peer will result in an error."
msgstr ""
"DRBDが<<s-single-primary-mode,シングルプライマリモード>> (DRBDのデフォルト)"
"で、<<s-connection-states,接続状態>>が _Connected_ の場合、任意のタイミングで"
"どちらか1つのノード上でのみリソースはプライマリロールになれます。したがっ"
"て、 _<resource>_ が対向ノードがプライマリロールになっているときに `drbdadm "
"primary <resource>` を実行すると、エラーが発生します。"

#. type: Plain text
msgid ""
"A resource configured to allow <<s-dual-primary-mode,dual-primary mode>> can "
"be switched to the primary role on both nodes."
msgstr ""
"リソースが<<s-dual-primary-mode,デュアルプライマリモード>>に対応するように設"
"定されている場合は、両方のノードをプライマリロールに切り替えることができま"
"す。"

#. type: Title ===
#, no-wrap
msgid "Basic Manual Fail-over"
msgstr "基本的な手動フェイルオーバ"

#. type: Plain text
msgid ""
"If not using Pacemaker and looking to handle fail-overs manually in a "
"passive/active configuration the process is as follows."
msgstr ""
"Pacemakerを使わず、パッシブ/アクティブ構成でフェイルオーバを手動で制御するに"
"は次のようにします。"

#. type: Plain text
msgid ""
"On the current primary node stop any applications or services using the DRBD "
"device, unmount the DRBD device, and demote the resource to secondary."
msgstr ""
"現在のプライマリノードでDRBDデバイスを使用するすべてのアプリケーションとサー"
"ビスを停止し、リソースをセカンダリに降格します。"

#. type: delimited block -
#, no-wrap
msgid ""
"# umount /dev/drbd/by-res/<resource>\n"
"# drbdadm secondary <resource>\n"
msgstr ""
"# umount /dev/drbd/by-res/<resource>\n"
"# drbdadm secondary <resource>\n"

#. type: Plain text
msgid ""
"Now on the node we wish to make primary promote the resource and mount the "
"device."
msgstr "プライマリにしたいノードでリソースを昇格してデバイスをマウントします。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm primary <resource>\n"
"# mount /dev/drbd/by-res/<resource> <mountpoint>\n"
msgstr ""
"# drbdadm primary <resource>\n"
"# mount /dev/drbd/by-res/<resource> <mountpoint>\n"

#. type: Title ===
#, no-wrap
msgid "Upgrading DRBD"
msgstr "DRBDをアップグレードする"

#. type: Plain text
msgid ""
"Upgrading DRBD is a fairly simple process. This section will cover the "
"process of upgrading from 8.3.x to 8.4.x, however this process should work "
"for all upgrades."
msgstr ""
"DRBDのアップグレードは非常にシンプルな手順です。このセクションでは8.3.xから"
"8.4.xへのアップグレードを扱いますが、この手順は他のアップグレードでも使えま"
"す。"

#. type: Title ====
#, no-wrap
msgid "Updating your repository"
msgstr "リポジトリをアップデートする"

#. type: Plain text
msgid ""
"Due to the number of changes between the 8.3 and 8.4 branches we have "
"created separate repositories for each. Perform this repository update on "
"both servers."
msgstr ""
"8.3から8.4の間で多くの変更があったため、それぞれ別個のリポジトリを作りまし"
"た。両ノードでリポジトリのアップデートを行います。"

#. type: Title =====
#, no-wrap
msgid "RHEL/CentOS systems"
msgstr "RHEL/CentOSシステム"

#. type: Plain text
msgid ""
"Edit your /etc/yum.repos.d/linbit.repo file to reflect the following changes."
msgstr ""
"/etc/yum.repos.d/linbit.repos.d/linbit.repoファイルに次の変更を反映するよう編"
"集します。"

#. type: delimited block -
#, no-wrap
msgid ""
"[drbd-8.4]\n"
"name=DRBD 8.4\n"
"baseurl=http://packages.linbit.com/<hash>/8.4/rhel6/<arch>\n"
"gpgcheck=0\n"
msgstr ""
"[drbd-8.4]\n"
"name=DRBD 8.4\n"
"baseurl=http://packages.linbit.com/<hash>/8.4/rhel6/<arch>\n"
"gpgcheck=0\n"

#. type: Plain text
msgid ""
"You will have to populate the <hash> and <arch> variables. The <hash> is "
"provided by LINBIT support services."
msgstr ""
"<hash>と<arch>の部分を埋める必要があります。<hash>キーは、LINNBITサポートから"
"入手します。"

#. type: Title =====
#, no-wrap
msgid "Debian/Ubuntu systems"
msgstr "Debian/Ubuntuシステム"

#. type: Plain text
msgid "Edit /etc/apt/sources.list to reflect the following changes."
msgstr "次の変更点を/etc/apt/sources.listへ反映させるため編集します。"

#. type: delimited block -
#, no-wrap
msgid "deb http://packages.linbit.com/<hash>/8.4/debian squeeze main\n"
msgstr "deb http://packages.linbit.com/<hash>/8.4/debian squeeze main\n"

#. type: Plain text
msgid ""
"You will have to populate the <hash> variable. The <hash> is provided by "
"LINBIT support services."
msgstr ""
"<hash> の部分を埋める必要があります。<hash>キーは、LINNBITサポートから入手し"
"ます。"

#. type: Plain text
msgid "Next you will want to add the DRBD signing key to your trusted keys."
msgstr "次にDRBDの署名キーを信頼済みキーに追加します。"

#. type: delimited block -
#, no-wrap
msgid ""
"# gpg --keyserver subkeys.pgp.net --recv-keys  0x282B6E23\n"
"# gpg --export -a 282B6E23 | apt-key add -\n"
msgstr ""
"# gpg --keyserver subkeys.pgp.net --recv-keys  0x282B6E23\n"
"# gpg --export -a 282B6E23 | apt-key add -\n"

#. type: Plain text
msgid "Lastly perform an apt-get update so Debian recognizes the updated repo."
msgstr "最後にDebianに認識させるためapt-get updateを実行します。"

#. type: delimited block -
#, no-wrap
msgid "apt-get update\n"
msgstr "apt-get update\n"

#. type: Title ====
#, no-wrap
msgid "Upgrading the packages"
msgstr "パッケージをアップグレードする"

#. type: Plain text
msgid ""
"Before you begin make sure your resources are in sync. The output of 'cat /"
"proc/drbd' should show UpToDate/UpToDate."
msgstr ""
"最初に、リソースが同期している事を確認してください。'cat /proc/drbd'が"
"UpToDate/UpToDateを出力しています。"

#. type: delimited block -
#, no-wrap
msgid "bob# cat /proc/drbd\n"
msgstr "bob# cat /proc/drbd\n"

#. type: delimited block -
#, no-wrap
msgid ""
"version: 8.3.12 (api:88/proto:86-96)\n"
"GIT-hash: e2a8ef4656be026bbae540305fcb998a5991090f build by buildsystem@linbit, 2011-10-28 10:20:38\n"
" 0: cs:Connected ro:Secondary/Primary ds:UpToDate/UpToDate C r-----\n"
"    ns:0 nr:33300 dw:33300 dr:0 al:0 bm:0 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0\n"
msgstr ""
"version: 8.3.12 (api:88/proto:86-96)\n"
"GIT-hash: e2a8ef4656be026bbae540305fcb998a5991090f build by buildsystem@linbit, 2011-10-28 10:20:38\n"
" 0: cs:Connected ro:Secondary/Primary ds:UpToDate/UpToDate C r-----\n"
"    ns:0 nr:33300 dw:33300 dr:0 al:0 bm:0 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0\n"

#. type: Plain text
msgid ""
"Now that you know the resources are in sync, start by upgrading the "
"secondary node. This can be done manually or if you're using Pacemaker put "
"the node in standby mode. Both processes are covered below.  If you're "
"running Pacemaker do not use the manual method."
msgstr ""
"リソースが同期している事が確認できたので、セカンダリノードのアップグレードか"
"ら始めます。これは手動で実行できますが、Pacemakerを使用している場合にはスタン"
"バイモードにしてください。どちらの方法についても、以下をご覧ください。"
"Pacemakerを動作させている場合には、手動の方法は実施しないでください。"

#. type: Plain text
msgid "Manual Method"
msgstr "手動の方法"

#. type: delimited block -
#, no-wrap
msgid "bob# /etc/init.d/drbd stop\n"
msgstr "bob# /etc/init.d/drbd stop\n"

#. type: Plain text
msgid "Pacemaker"
msgstr "Pacemaker"

#. type: Plain text
msgid ""
"Put the secondary node into standby mode. In this example bob is secondary."
msgstr ""
"セカンダリノードをスタンバイモードにします。この例は bob がセカンダリの場合で"
"す。"

#. type: delimited block -
#, no-wrap
msgid "bob# crm node standby bob\n"
msgstr "bob# crm node standby bob\n"

#. type: Plain text
msgid ""
"You can watch the status of your cluster using 'crm_mon -rf' or watch 'cat /"
"proc/drbd' until it shows \"Unconfigured\" for your resources."
msgstr ""
"\"Unconfigured\"と表示されるまでは、クラスタの状態を'crm_mon -rf'または'cat /"
"proc/drbd'で確認できます。"

#. type: Plain text
msgid "Now update your packages with either yum or apt."
msgstr "yumまたはaptでパッケージをアップデートします。"

#. type: delimited block -
#, no-wrap
msgid "bob# yum upgrade\n"
msgstr "bob# yum upgrade\n"

#. type: delimited block -
#, no-wrap
msgid "bob# apt-get upgrade\n"
msgstr "bob# apt-get upgrade\n"

#. type: Plain text
msgid ""
"Once the upgrade is finished will now have the latest DRBD 8.4 kernel module "
"and drbd-utils on your secondary node, bob. Start DRBD."
msgstr ""
"セカンダリノードのボブでアップグレードが終わり、最新のDRBD 8.4カーネルモ"
"ジュールとdrbd-utilsになったらDRBDを開始します。"

#. type: Plain text
msgid "Manually"
msgstr "手動"

#. type: delimited block -
#, no-wrap
msgid "bob# /etc/init.d/drbd start\n"
msgstr "bob# /etc/init.d/drbd start\n"

#. type: delimited block -
#, no-wrap
msgid "# crm node online bob\n"
msgstr "# crm node online bob\n"

#. type: Plain text
msgid ""
"The output of 'cat /proc/drbd' on bob should show 8.4.x and look similar to "
"this."
msgstr "bobの'cat /proc/drbd'の出力結果が8.4.xを示し、次のようになっています。"

#. type: delimited block -
#, no-wrap
msgid ""
"version: 8.4.1 (api:1/proto:86-100)\n"
"GIT-hash: 91b4c048c1a0e06777b5f65d312b38d47abaea80 build by buildsystem@linbit, 2011-12-20 12:58:48\n"
" 0: cs:Connected ro:Secondary/Primary ds:UpToDate/UpToDate C r-----\n"
"    ns:0 nr:12 dw:12 dr:0 al:0 bm:0 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0\n"
msgstr ""
"version: 8.4.1 (api:1/proto:86-100)\n"
"GIT-hash: 91b4c048c1a0e06777b5f65d312b38d47abaea80 build by buildsystem@linbit, 2011-12-20 12:58:48\n"
" 0: cs:Connected ro:Secondary/Primary ds:UpToDate/UpToDate C r-----\n"
"    ns:0 nr:12 dw:12 dr:0 al:0 bm:0 lo:0 pe:0 ua:0 ap:0 ep:1 wo:b oos:0\n"

#. type: Plain text
msgid ""
"On the primary node, alice, 'cat /proc/drbd' will still show the prior "
"version, until you upgrade it."
msgstr ""
"プライマリノードのaliceでは、アップグレードをするまで'cat /proc/drbd'が以前の"
"バージョンを示しています。"

#. type: Plain text
msgid ""
"At this point the cluster has two different versions of DRBD. Stop any "
"service using DRBD and then DRBD on the primary node, alice, and promote "
"bob. Again this can be done either manually or via the Pacemaker shell."
msgstr ""
"この時点では異なるバージョンのDRBDが混在しています。プライマリノードのaliceで"
"DRBDを使用するすべてのサービスを停止したら、bobを昇格します。繰り返しですが、"
"この操作は手動でもPacemakerのシェルからでも行えます。"

#. type: delimited block -
#, no-wrap
msgid ""
"alice # umount /dev/drbd/by-res/r0\n"
"alice # /etc/init.d/drbd stop\n"
"bob # drbdadm primary r0\n"
"bob # mount /dev/drbd/by-res/r0/0 /mnt/drbd\n"
msgstr ""
"alice # umount /dev/drbd/by-res/r0\n"
"alice # /etc/init.d/drbd stop\n"
"bob # drbdadm primary r0\n"
"bob # mount /dev/drbd/by-res/r0/0 /mnt/drbd\n"

#. type: Plain text
msgid ""
"Please note that the mount command now references '/0' which defines the "
"volume number of a resource. See <<s-recent-changes-volumes>> for more "
"information on the new volumes feature."
msgstr ""
"マウントコマンドは現在、リソースのボリュームナンバーを定義している'/0'を参照"
"している点に注意してください。新しいボリュームの特徴の詳細については<<s-"
"recent-changes-volumes>>を参照してください。"

#. type: delimited block -
#, no-wrap
msgid "# crm node standby alice\n"
msgstr "# crm node standby alice\n"

#. type: Plain text
msgid ""
"This will interrupt running services by stopping them and migrating them to "
"the secondary server, bob."
msgstr ""
"この手順は動作中のサービスを停止させてセカンダリサーバのbobへ移行させます。"

#. type: Plain text
msgid "At this point you can safely upgrade DRBD by using yum or apt."
msgstr "この状態でDRBDをyumまたはaptを使って安全にアップグレードできます。"

#. type: delimited block -
#, no-wrap
msgid "alice# yum upgrade\n"
msgstr "alice# yum upgrade\n"

#. type: delimited block -
#, no-wrap
msgid "alice# apt-get upgrade\n"
msgstr "alice# apt-get upgrade\n"

#. type: Plain text
msgid ""
"Once the upgrade is complete you will now have the latest version of DRBD on "
"alice and can start DRBD."
msgstr ""
"アップグレードが完了したらaliceサーバは最新バージョンのDRBDとなり、起動できる"
"ようになります。"

#. type: delimited block -
#, no-wrap
msgid "alice# /etc/init.d/drbd start\n"
msgstr "alice# /etc/init.d/drbd start\n"

#. type: delimited block -
#, no-wrap
msgid "alice# crm node online alice\n"
msgstr "alice# crm node online alice\n"

#. type: Plain text
msgid ""
"Services will still be located on bob and will remain there until you "
"migrate them back."
msgstr ""
"サービスはbobサーバに残ったままであり、手動で戻さない限りそのままです。"

#. type: Plain text
msgid ""
"Both servers should now show the latest version of DRBD in a connected state."
msgstr "これで両サーバのDRBDはconnectedの状態で最新バージョンとなります。"

#. type: Title ====
#, no-wrap
msgid "Migrating your configs"
msgstr "構成の移行"

#. type: Plain text
msgid ""
"DRBD 8.4 is backward compatible with the 8.3 configs however some syntax has "
"changed. See <<s-recent-changes-config>> for a full list of changes. In the "
"meantime you can port your old configs fairly easily by using 'drbdadm dump "
"all' command. This will output both a new global config followed by the new "
"resource config files. Take this output and make changes accordingly."
msgstr ""
"DRBD 8.4は8.3の構成と後方互換性がありますが、いくつかの構文は変更になっていま"
"す。すべての変更点の一覧は<<s-recent-changes-config>>を参照してくださ"
"い。'drbdadm dump all'コマンドを使うことで、古い構成をとても簡単に移すことが"
"できます。新しいリソース構成ファイルに続いて新しいグローバル構成も両方とも出"
"力します。この出力を使って変更を適宜行ってください。"

#. type: Title ===
#, no-wrap
msgid "Downgrading DRBD 8.4 to 8.3"
msgstr "DRBD 8.4を8.3にダウングレードする。"

#. type: Plain text
msgid ""
"If you're currently running DRBD 8.4 and would like to revert to 8.3 there "
"are several steps you will have to follow. This section assumes you still "
"have the 8.4 kernel module and 8.4 utilities installed."
msgstr ""
"DRBD 8.4を使っていて8.3に戻したい場合、従わなければいけないいくつかの手順があ"
"ります。このセクションでは、現在8.4のカーネルモジュールをつかっており、8.4の"
"ユーティリティがインストールされていると仮定します。"

#. type: Plain text
msgid ""
"Stop any services accessing the DRBD resources, unmount, and demote the "
"devices to Secondary. Then perform the following commands."
msgstr ""
"DRBDリソースにアクセスしているサービスを停止し、アンマウントし、デバイスをセ"
"カンダリに降格します。それから次のコマンドを実行します。"

#. type: Plain text
msgid "These steps will have to be completed on both servers."
msgstr "これらの手順は両サーバで完了する必要があります。"

#. type: delimited block -
#, no-wrap
msgid ""
"drbdadm down all\n"
"drbdadm apply-al all\n"
"rmmod drbd\n"
msgstr ""
"drbdadm down all\n"
"drbdadm apply-al all\n"
"rmmod drbd\n"

#. type: Plain text
msgid ""
"If you're using the LINBIT repositories you can remove the packages using "
"`apt-get remove drbd8-utils drbd8-module-`uname -r`` or `yum remove drbd "
"kmod-drbd`"
msgstr ""
"LINBITリポジトリを使用している場合には `apt-get remove drbd8-utils drbd8-"
"module-`uname -r` または `yum remove drbd kmod-drbd` でパッケージを削除できま"
"す。"

#. type: Plain text
msgid ""
"Now that 8.4 is removed reinstall 8.3. You can do this either by changing "
"your repositories back to the 8.3 repos, or by following the steps located "
"http://www.drbd.org/users-guide-8.3/p-build-install-configure.html[in the "
"8.3 User's Guide]"
msgstr ""
"8.4が削除されたので8.3をインストールします。インストールはリポジトリを8.3に戻"
"すことでも、http://www.drbd.jp/users-guide/p-build-install-configure.html[8.3"
"ユーザーズガイド]の手順でも行えます。"

#. type: Plain text
msgid ""
"If you migrated your configs to the 8.4 format be sure to revert them back "
"to the 8.3 format. See <<s-recent-changes-config>> for the options you need "
"to revert."
msgstr ""
"構成を8.4フォーマットに移行した場合には8.3フォーマットに戻すのを忘れないでく"
"ださい。戻すのに必要なオプションについては<<s-recent-changes-config>>を参照く"
"ださい。"

#. type: Plain text
msgid ""
"Once 8.3 is re-installed you can start your DRBD resources either manually "
"using `drbdadm` or `/etc/init.d/drbd start`."
msgstr ""
"8.3が再インストールされたら、 `drbdadm` または `/etc/init.d/drbd start` のど"
"ちらからでも手動で起動できます。"

#. type: Title ===
#, no-wrap
msgid "Enabling dual-primary mode"
msgstr "デュアルプライマリモードを有効にする"

#. type: Plain text
msgid ""
"Dual-primary mode allows a resource to assume the primary role "
"simultaneously on both nodes. Doing so is possible on either a permanent or "
"a temporary basis."
msgstr ""
"デュアルプライマリモードではリソースが両ノードで同時にプライマリになることが"
"できます。これは永続的にも一時的なものとしても加能です。"

#. type: delimited block =
msgid ""
"Dual-primary mode requires that the resource is configured to replicate "
"synchronously (protocol C). Because of this it is latency sensitive, and ill "
"suited for WAN environments."
msgstr ""
"デュアルプライマリモードではリソースが同期レプリケート(プロトコルC)で設定され"
"ていることが必要です。そのためレイテンシに過敏となり、WAN環境には適していませ"
"ん。"

#. type: delimited block =
msgid ""
"Additionally, as both resources are always primary, any interruption in the "
"network between nodes will result in a split-brain."
msgstr ""
"さらに、両リソースが常にプライマリとなるので、どのようなノード間のネットワー"
"ク不通でもスプリットブレインが発生します。"

#. type: Title ====
#, no-wrap
msgid "Permanent dual-primary mode"
msgstr "永続的なデュアルプライマリモード"

#. type: Plain text
msgid ""
"indexterm:[dual-primary mode]To enable dual-primary mode, set the `allow-two-"
"primaries` option to `yes` in the `net` section of your resource "
"configuration:"
msgstr ""
"indexterm:[デュアルプライマリモード]デュアルプライマリモードを有効にするた"
"め、リソース設定の `net` セクションで、 `allow-two-primaries` オプションを "
"`yes` に指定します。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource>\n"
"  net {\n"
"    protocol C;\n"
"    allow-two-primaries yes;\n"
"  }\n"
"  disk {\n"
"    fencing resource-and-stonith;\n"
"  }\n"
"  handlers {\n"
"    fence-peer \"...\";\n"
"    unfence-peer \"...\";\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource>\n"
"  net {\n"
"    protocol C;\n"
"    allow-two-primaries yes;\n"
"  }\n"
"  disk {\n"
"    fencing resource-and-stonith;\n"
"  }\n"
"  handlers {\n"
"    fence-peer \"...\";\n"
"    unfence-peer \"...\";\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid ""
"After that, do not forget to synchronize the configuration between nodes. "
"Run `drbdadm adjust <resource>` on both nodes."
msgstr ""
"そして、両ノード間で設定を同期することを忘れないでください。両ノードで"
"`drbdadm adjust <resource>`を実行してください。"

#. type: Plain text
msgid ""
"You can now change both nodes to role primary at the same time with `drbdadm "
"primary <resource>`."
msgstr ""
"これで `drbdadm primary <resource>` で、両ノードを同時にプライマリのロールに"
"することができます。"

#. type: Plain text
msgid ""
"You should always implement suitable fencing policies.  Using 'allow-two-"
"primaries' without fencing is a very bad idea, even worse than using single-"
"primary without fencing."
msgstr ""
"適切なフェンシングポリシーを常に実装してください。フェンシングなしで 'allow-"
"two-primaries' を使用することは、フェンシングなしでシングルプライマリを使用す"
"るよりも悪い考えです。"

#. type: Title ====
#, no-wrap
msgid "Temporary dual-primary mode"
msgstr "一時的なデュアルプライマリモード"

#. type: Plain text
msgid ""
"To temporarily enable dual-primary mode for a resource normally running in a "
"single-primary configuration, issue the following command:"
msgstr ""
"通常はシングルプライマリで稼動しているリソースを、一時的にデュアルプライマリ"
"モードを有効にするには次のコマンドを実行してください。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm net-options --protocol=C --allow-two-primaries <resource>\n"
msgstr "# drbdadm net-options --protocol=C --allow-two-primaries <resource>\n"

#. type: Plain text
msgid ""
"To end temporary dual-primary mode, run the same command as above but with "
"`--allow-two-primaries=no` (and your desired replication protocol, if "
"applicable)."
msgstr ""
"一時的なデュアルプライマリモードを終えるには、上記と同じコマンドを実行しま"
"す。ただし、 `--allow-two-primaries=no` としてください(また、適切であれば希望"
"するレプリケーションプロトコルにも)。"

#. type: Title ====
#, no-wrap
msgid "Automating promotion on system startup"
msgstr "システム起動時の自動昇格"

#. type: Plain text
msgid ""
"When a resource is configured to support dual-primary mode, it may also be "
"desirable to automatically switch the resource into the primary role upon "
"system (or DRBD) startup."
msgstr ""
"リソースがデュアルプライマリモードをサポートするように設定されている場合は、"
"システム(またはDRBD)の起動時にリソースを自動的にプライマリロールに切り替わる"
"ように設定することをお勧めします。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource>\n"
"  startup {\n"
"    become-primary-on both;\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource>\n"
"  startup {\n"
"    become-primary-on both;\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid ""
"The `/etc/init.d/drbd` system init script parses this option on startup and "
"promotes resources accordingly."
msgstr ""
"スタートアップ時に、 `/etc/init.d/drbd` システムinitスクリプトはこのオプショ"
"ンを読み込み、これに沿ってリソースを昇格します。"

#. type: Plain text
msgid ""
"The `become-primary-on` approach *should be avoided*, we recommend to use a "
"cluster manager if at all possible.  See for example <<ch-pacemaker,"
"Pacemaker-managed>> DRBD configurations. In Pacemaker (or other cluster "
"manager)  configurations, resource promotion and demotion should always be "
"handled by the cluster manager."
msgstr ""
"`become-primary-on` の方法は避けるべきです。可能であれば、常にクラスタマネー"
"ジャを使用することをお勧めします。たとえば、<<ch-pacemaker,Pacemaker管理の"
">>DRBD設定を参照してください。Pacemaker (または他のクラスタマネージャ) 設定で"
"は、リソース昇格と降格は常にクラスタ管理システムで操作されるべきです。"

#. type: Title ===
#, no-wrap
msgid "Using on-line device verification"
msgstr "オンラインデバイス照合の使用"

#. type: Title ====
#, no-wrap
msgid "Enabling on-line verification"
msgstr "オンライン照合を有効にする"

#. type: Plain text
msgid ""
"indexterm:[on-line device verification]<<s-online-verify,On-line device "
"verification>> is not enabled for resources by default. To enable it, add "
"the following lines to your resource configuration in `/etc/drbd.conf`:"
msgstr ""
"indexterm:[おんらいんしょうごう@オンライン照合]<<s-online-verify,オンラインデ"
"バイス照合>>はデフォルトでは有効になっていません。有効にする場合は、 `/etc/"
"drbd.conf` のリソース構成に次の行を追加します。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource>\n"
"  net {\n"
"    verify-alg <algorithm>;\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource>\n"
"  net {\n"
"    verify-alg <algorithm>;\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid ""
"_<algorithm>_ may be any message digest algorithm supported by the kernel "
"crypto API in your system's kernel configuration. Normally, you should be "
"able to choose at least from `sha1`, `md5`, and `crc32c`."
msgstr ""
"_<algorithm>_ は、システムのカーネル構成内のカーネルcrypto APIでサポートされ"
"る任意のメッセージダイジェストアルゴリズムです。通常は `sha1` 、 `md5` 、 "
"`crc32c` から選択します。"

#. type: Plain text
msgid ""
"If you make this change to an existing resource, as always, synchronize your "
"`drbd.conf` to the peer, and run `drbdadm adjust <resource>` on both nodes."
msgstr ""
"既存のリソースに対してこの変更を行う場合は、 `drbd.conf` を対向ノードと同期"
"し、両方のノードで `drbdadm adjust <resource>` を実行します。"

#. type: Title ====
#, no-wrap
msgid "Invoking on-line verification"
msgstr "オンライン照合の実行"

#. type: Plain text
msgid ""
"indexterm:[on-line device verification]After you have enabled on-line "
"verification, you will be able to initiate a verification run using the "
"following command:"
msgstr ""
"indexterm:[おんらいんしょうごう@オンライン照合]オンライン照合を有効にしたら、"
"次のコマンドでオンライン照合を開始します。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm verify <resource>\n"
msgstr "# drbdadm verify <resource>\n"

#. type: Plain text
msgid ""
"When you do so, DRBD starts an online verification run for _<resource>_, and "
"if it detects any blocks not in sync, will mark those blocks as such and "
"write a message to the kernel log. Any applications using the device at that "
"time can continue to do so unimpeded, and you may also <<s-switch-resource-"
"roles,switch resource roles>> at will."
msgstr ""
"コマンドを実行すると、DRBDが _<resource>_ に対してオンライン照合を実行しま"
"す。同期していないブロックを検出した場合は、ブロックに非同期のマークを付け、"
"カーネルログにメッセージを書き込みます。このときにデバイスを使用しているアプ"
"リケーションは中断なく動作し続けます。また、<<s-switch-resource-roles,リソー"
"スロールの切り替え>>も行うことができます。"

#. type: Plain text
msgid ""
"If out-of-sync blocks were detected during the verification run, you may "
"resynchronize them using the following commands after verification has "
"completed:"
msgstr ""
"照合中に同期していないブロックが検出された場合は、照合の完了後に、次のコマン"
"ド使用して再同期できます。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm disconnect <resource>\n"
"# drbdadm connect <resource>\n"
msgstr ""
"# drbdadm disconnect <resource>\n"
"# drbdadm connect <resource>\n"

#. type: Title ====
#, no-wrap
msgid "Automating on-line verification"
msgstr "自動オンライン照合"

#. type: Plain text
msgid ""
"indexterm:[on-line device verification]Most users will want to automate on-"
"line device verification. This can be easily accomplished. Create a file "
"with the following contents, named `/etc/cron.d/drbd-verify` on _one_ of "
"your nodes:"
msgstr ""
"indexterm:[おんらいんしょうごう@オンライン照合]通常は、オンラインデバイス照合"
"を自動的に実行するほうが便利です。自動化は簡単です。一方のノードに `/etc/"
"cron.d/drbd-verify` という名前で、次のような内容のファイルを作成します。"

#. type: delimited block -
#, no-wrap
msgid "42 0 * * 0    root    /sbin/drbdadm verify <resource>\n"
msgstr "42 0 * * 0    root    /sbin/drbdadm verify <resource>\n"

#. type: Plain text
msgid ""
"This will have `cron` invoke a device verification every Sunday at 42 "
"minutes past midnight."
msgstr ""
"これにより、毎週日曜日の午前0時42分に、 `cron` がデバイス照合を呼び出します。"

#. type: Plain text
msgid ""
"If you have enabled on-line verification for all your resources (for "
"example, by adding `verify-alg <algorithm>` to the `common` section in `/etc/"
"drbd.conf`), you may also use:"
msgstr ""
"オンライン照合をすべてのリソースで有効にした場合(たとえば `/etc/drbd.conf` "
"の `common` セクションに `verify-alg <algorithm>` を追加するなど)には、次のよ"
"うにできます。"

#. type: delimited block -
#, no-wrap
msgid "42 0 * * 0    root    /sbin/drbdadm verify all\n"
msgstr "42 0 * * 0    root    /sbin/drbdadm verify all\n"

#. type: Title ===
#, no-wrap
msgid "Configuring the rate of synchronization"
msgstr "同期速度の設定"

#. type: Plain text
msgid ""
"indexterm:[synchronization]Normally, one tries to ensure that background "
"synchronization (which makes the data on the synchronization target "
"temporarily inconsistent) completes as quickly as possible. However, it is "
"also necessary to keep background synchronization from hogging all bandwidth "
"otherwise available for foreground replication, which would be detrimental "
"to application performance. Thus, you must configure the synchronization "
"bandwidth to match your hardware -- which you may do in a permanent fashion "
"or on-the-fly."
msgstr ""
"indexterm:[どうき@同期]バックグラウンド同期中は同期先のデータとの一貫性が一時"
"的に失われるため、同期をできるだけ早く完了したいと考えるでしょう。ただし、す"
"べての帯域幅がバックグラウンド同期に占有されてしまうと、フォアグラウンドレプ"
"リケーションに使用できなくなり、アプリケーションのパフォーマンス低下につなが"
"ります。これは避ける必要があります。同期用の帯域幅はハードウェアに合わせて設"
"定する必要があります。"

#. type: Plain text
msgid ""
"It does not make sense to set a synchronization rate that is higher than the "
"maximum write throughput on your secondary node. You must not expect your "
"secondary node to miraculously be able to write faster than its I/O "
"subsystem allows, just because it happens to be the target of an ongoing "
"device synchronization."
msgstr ""
"同期速度をセカンダリノードの最大書き込みスループットを上回る速度に設定しても"
"意味がありません。デバイス同期の速度をどれほど高速に設定しても、セカンダリ"
"ノードがそのI/Oサブシステムの能力より高速に書き込みを行うことは不可能です。"

#. type: Plain text
msgid ""
"Likewise, and for the same reasons, it does not make sense to set a "
"synchronization rate that is higher than the bandwidth available on the "
"replication network."
msgstr ""
"また、同じ理由で、同期速度をレプリケーションネットワークの帯域幅の能力を上回"
"る速度に設定しても意味がありません。"

#. type: Title ====
#, no-wrap
msgid "Variable sync rate configuration"
msgstr "可変同期速度設定"

#. type: Plain text
msgid ""
"Since DRBD 8.4, the default has switched to variable-rate synchronization. "
"In this mode, DRBD uses an automated control loop algorithm to determine, "
"and permanently adjust, the synchronization rate. This algorithm ensures "
"that there is always sufficient bandwidth available for foreground "
"replication, greatly mitigating the impact that background synchronization "
"has on foreground I/O."
msgstr ""
"DRBD 8.4以降、デフォルトは可変レート同期に切り替わりました。このモードでは、"
"DRBDは自動制御のループアルゴリズムを使用して同期速度を常に調整し決定します。"
"このアルゴリズムはフォアグラウンド同期に常に十分な帯域幅を確保し、バックグラ"
"ウンド同期がフォアグラウンドのI/Oに与える影響を少なくします。"

#. type: Plain text
msgid ""
"The optimal configuration for variable-rate synchronization may vary greatly "
"depending on the available network bandwidth, application I/O pattern and "
"link congestion. Ideal configuration settings also depend on whether <<s-"
"drbd-proxy,DRBD Proxy>> is in use or not. It may be wise to engage "
"professional consultancy in order to optimally configure this DRBD feature. "
"An _example_ configuration (which assumes a deployment in conjunction with "
"DRBD Proxy) is provided below:"
msgstr ""
"最適な可変レート同期の設定は使用できるネットワーク帯域幅、アプリケーションの"
"I/Oパターンやリンクの輻輳によって変わってきます。理想的な設定は<<s-drbd-"
"proxy,DRBD Proxy>>の使用有無によっても変わってきます。このDRBDの特徴を最適化"
"するためにコンサルタントを利用するのもよいでしょう。以下は、DRBDを使用した環"
"境での設定の一例です。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource> {\n"
"  disk {\n"
"    c-plan-ahead 200;\n"
"    c-max-rate 10M;\n"
"    c-fill-target 15M;\n"
"  }\n"
"}\n"
msgstr ""
"resource <resource> {\n"
"  disk {\n"
"    c-plan-ahead 200;\n"
"    c-max-rate 10M;\n"
"    c-fill-target 15M;\n"
"  }\n"
"}\n"

#. type: Plain text
msgid ""
"A good starting value for `c-fill-target` is _BDP✕3_, where BDP is your "
"bandwidth delay product on the replication link."
msgstr ""
"`c-fill-target` の初期値は _BDP×3_ がいいでしょう。BDPとはレプリケーションリ"
"ンク上の帯域幅遅延積(Bandwidth Delay Product)です。"

#. type: Title ====
#, no-wrap
msgid "Permanent fixed sync rate configuration"
msgstr "永続的な同期速度の設定"

#. type: Plain text
msgid ""
"For testing purposes it might be useful to deactivate the dynamic resync "
"controller, and to configure DRBD to some fixed resynchronization speed.  "
"That is only an upper limit, of course - if there is some bottleneck (or "
"just application IO), the desired speed won't be achieved."
msgstr ""
"テスト目的のために、動的再同期コントローラを無効にし、DRBDを固定の再同期速度"
"に設定することが役立つかもしれません。これは唯一の上限になりますが、ボトル"
"ネック（またはアプリケーションIO）がある場合、この速度は達成されません。"

#. type: Plain text
msgid ""
"The maximum bandwidth a resource uses for background re-synchronization is "
"determined by the `rate` option for a resource. This must be included in the "
"resource configuration's `disk` section in `/etc/drbd.conf`:"
msgstr ""
"リソースがバックグラウンド再同期に使用する最大帯域幅はリソースの `resync-"
"rate` オプションで指定します。これはリソース設定ファイルの `/etc/drbd.conf` "
"の `disk` セクションに含まれている必要があります。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource>\n"
"  disk {\n"
"    resync-rate 40M;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource>\n"
"  disk {\n"
"    resync-rate 40M;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid ""
"Note that the rate setting is given in _bytes_, not _bits_ per second; the "
"default unit is _Kibibyte_, so a value of `4096` would be interpreted as "
"`4MiB`."
msgstr ""
"毎秒の速度はビット単位ではなくバイトで設定します。デフォルトの単位はキビバイ"
"トなので `4096` は `4MiB` と解釈されます。"

#. type: Plain text
msgid ""
"A good rule of thumb for this value is to use about 30% of the available "
"replication bandwidth. Thus, if you had an I/O subsystem capable of "
"sustaining write throughput of 180MB/s, and a Gigabit Ethernet network "
"capable of sustaining 110 MB/s network throughput (the network being the "
"bottleneck), you would calculate:"
msgstr ""
"経験則では、この数値として使用可能なレプリケーション帯域幅の30%程度が適切で"
"す。180MB/sの書き込みスループットを維持できるI/Oサブシステム、および110MB/sの"
"ネットワークスループットを維持できるギガビットイーサネットネットワークの場合"
"は、ネットワークが律速要因になります。速度は次のように計算できます。"

#. type: Block title
#, no-wrap
msgid "Syncer rate example, 110MB/s effective available bandwidth"
msgstr "syncer 速度の例(有効帯域幅が110MB/sの場合)"

#. type: Target for macro image
#, no-wrap
msgid "images/sync-rate-example1.svg"
msgstr "images/sync-rate-example1.svg"

#. type: Plain text
msgid "Thus, the recommended value for the `rate` option would be `33M`."
msgstr "この結果、 `rate` オプションの推奨値は `33M` になります。"

#. type: Plain text
msgid ""
"By contrast, if you had an I/O subsystem with a maximum throughput of 80MB/s "
"and a Gigabit Ethernet connection (the I/O subsystem being the bottleneck), "
"you would calculate:"
msgstr ""
"一方、最大スループットが80MB/sのI/Oサブシステム、およびギガビットイーサネット"
"接続を使用する場合は、I/Oサブシステムが律速要因になります。速度は次のように計"
"算できます。"

#. type: Block title
#, no-wrap
msgid "Syncer rate example, 80MB/s effective available bandwidth"
msgstr "cyncer 速度の例(有効帯域幅が80MB/sの場合)"

#. type: Target for macro image
#, no-wrap
msgid "images/sync-rate-example2.svg"
msgstr "images/sync-rate-example2.svg"

#. type: Plain text
msgid ""
"In this case, the recommended value for the `rate` option would be `24M`."
msgstr "この場合、 `rate` オプションの推奨値は `24M` になります。"

#. type: Title ====
#, no-wrap
msgid "Temporary fixed sync rate configuration"
msgstr "一時的な同期速度の設定"

#. type: Plain text
msgid ""
"It is sometimes desirable to temporarily adjust the sync rate. For example, "
"you might want to speed up background re-synchronization after having "
"performed scheduled maintenance on one of your cluster nodes. Or, you might "
"want to throttle background re-synchronization if it happens to occur at a "
"time when your application is extremely busy with write operations, and you "
"want to make sure that a large portion of the existing bandwidth is "
"available to replication."
msgstr ""
"一時的に同期速度を調整したい場合もあるでしょう。たとえば、いずれかのクラスタ"
"ノードの定期保守を行ったときに、バックグラウンド再同期を高速に実行したい場合"
"などです。また、アプリケーションの書き込み操作が非常に多いときに、バックグラ"
"ウンド再同期の速度を落して、既存の帯域幅の多くをレプリケーションのために確保"
"したい場合もあります。"

#. type: Plain text
msgid ""
"For example, in order to make most bandwidth of a Gigabit Ethernet link "
"available to re-synchronization, issue the following command:"
msgstr ""
"たとえば、ギガビットイーサネットリンクのほとんどの帯域幅を再同期に割り当てる"
"には、次のコマンドを実行します:"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm disk-options --c-plan-ahead=0 --resync-rate=110M <resource>\n"
msgstr "# drbdadm disk-options --c-plan-ahead=0 --resync-rate=110M <resource>\n"

#. type: Plain text
msgid "You need to issue this command on the _SyncTarget_ node."
msgstr "このコマンドは _SyncTarget_ ノードで実行します。"

#. type: Plain text
msgid ""
"To revert this temporary setting and re-enable the synchronization rate set "
"in `/etc/drbd.conf`, issue this command:"
msgstr ""
"この一時的な設定を元に戻して、 `/etc/drbd.conf` で設定された同期速度を再び有"
"効にするには、次のコマンドを実行します。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm adjust <resource>\n"
msgstr "# drbdadm adjust <resource>\n"

#. type: Title ===
#, no-wrap
msgid "Configuring checksum-based synchronization"
msgstr "チェックサムベース同期の設定"

#. type: Plain text
msgid ""
"indexterm:[checksum-based synchronization]<<p-checksum-sync,Checksum-based "
"synchronization>> is not enabled for resources by default. To enable it, add "
"the following lines to your resource configuration in `/etc/drbd.conf`:"
msgstr ""
"indexterm:[ちぇっくさむべーすどうき@チェックサムベース同期]<<p-checksum-sync,"
"チェックサムベース同期>>はデフォルトでは有効になっていません。有効にする場合"
"は、 `/etc/drbd.conf` のリソース構成に次の行を追加します。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource>\n"
"  net {\n"
"    csums-alg <algorithm>;\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource>\n"
"  net {\n"
"    csums-alg <algorithm>;\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Title ===
#, no-wrap
msgid "Configuring congestion policies and suspended replication"
msgstr "輻輳ポリシーと中断したレプリケーションの構成"

#. type: Plain text
msgid ""
"In an environment where the replication bandwidth is highly variable (as "
"would be typical in WAN replication setups), the replication link may "
"occasionally become congested. In a default configuration, this would cause "
"I/O on the primary node to block, which is sometimes undesirable."
msgstr ""
"レプリケーション帯域幅が大きく変動する環境(WANレプリケーション設定に典型的)の"
"場合、レプリケーションリンクは時に輻輳します。デフォルト設定では、これはプラ"
"イマリノードのI/Oのブロックを引き起こし、これは望ましくない場合があります。"

#. type: Plain text
msgid ""
"Instead, you may configure DRBD to _suspend_ the ongoing replication in this "
"case, causing the Primary's data set to _pull ahead_ of the Secondary. In "
"this mode, DRBD keeps the replication channel open -- it never switches to "
"disconnected mode -- but does not actually replicate until sufficient "
"bandwidth becomes available again."
msgstr ""
"その代わりに、進行中の同期を _suspend_ (中断)に設定し、プライマリのデータセッ"
"トをセカンダリから _pull ahead_ (引き離す)にします。このモードではDRBDはレプ"
"リケーションチャネルを開いたままにし、切断モードにはしません。しかし十分な帯"
"域幅が利用できるようになるまで実際にはレプリケートを行いません。"

#. type: Plain text
msgid "The following example is for a DRBD Proxy configuration:"
msgstr "次の例は、DRBD Proxy構成のためのものです。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource> {\n"
"  net {\n"
"    on-congestion pull-ahead;\n"
"    congestion-fill 2G;\n"
"    congestion-extents 2000;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource> {\n"
"  net {\n"
"    on-congestion pull-ahead;\n"
"    congestion-fill 2G;\n"
"    congestion-extents 2000;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid ""
"It is usually wise to set both `congestion-fill` and `congestion-extents` "
"together with the `pull-ahead` option."
msgstr ""
"通常は `congestion-fill` と `congestion-extents` を `pull-ahead` オプションと"
"合わせて設定するのがよい方法でしょう。"

#. type: Plain text
msgid "A good value for `congestion-fill` is 90%"
msgstr "`congestion-fill` の値は以下の値の90%にするとよいでしょう。"

#. type: Plain text
msgid ""
"of the allocated DRBD proxy buffer memory, when replicating over DRBD Proxy, "
"or"
msgstr ""
"DRBD Proxy越しの同期の場合の、DRBD Proxyのバッファメモリの割り当て、または"

#. type: Plain text
msgid "of the TCP network send buffer, in non-DRBD Proxy setups."
msgstr "DRBD Proxy構成でない環境でのTCPネットワークの送信バッファ"

#. type: Plain text
msgid ""
"A good value for `congestion-extents` is 90% of your configured `al-extents` "
"for the affected resources."
msgstr ""
"`congestion-extents` の値は、影響するリソースの `al-extents` に設定した値の"
"90%がよいでしょう。"

#. type: Title ===
#, no-wrap
msgid "Configuring I/O error handling strategies"
msgstr "I/Oエラー処理方針の設定"

#. type: Plain text
msgid ""
"indexterm:[I/O errors]indexterm:[drbd.conf]DRBD's <<s-handling-disk-errors,"
"strategy for handling lower-level I/O errors>> is determined by the `on-io-"
"error` option, included in the resource `disk` configuration in `/etc/drbd."
"conf`:"
msgstr ""
"indexterm:[I/Oエラー]indexterm:[drbd.conf]DRBDが<<s-handling-disk-errors,下位"
"レベルI/Oエラーを処理する際の方針>>は、 `/etc/drbd.conf` の `disk` セクション"
"の `on-io-error` オプションで指定します。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource> {\n"
"  disk {\n"
"    on-io-error <strategy>;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource> {\n"
"  disk {\n"
"    on-io-error <strategy>;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid ""
"You may, of course, set this in the `common` section too, if you want to "
"define a global I/O error handling policy for all resources."
msgstr ""
"すべてのリソースのグローバルI/Oエラー処理方針を定義したい場合は、これを "
"`common` セクションで設定します。"

#. type: Plain text
msgid "_<strategy>_ may be one of the following options:"
msgstr "_<strategy>_ は、次のいずれかのオプションです。"

#. type: Plain text
msgid ""
"`detach` This is the default and recommended option. On the occurrence of a "
"lower-level I/O error, the node drops its backing device, and continues in "
"diskless mode."
msgstr ""
"`detach` これがデフォルトで、推奨オプションです。下位レベルI/Oエラーが発生す"
"ると、DRBDはそのノードの下位デバイスを切り離し、ディスクレスモードで動作を継"
"続します。"

#. type: Plain text
msgid ""
"`pass_on` This causes DRBD to report the I/O error to the upper layers. On "
"the primary node, it is reported to the mounted file system. On the "
"secondary node, it is ignored (because the secondary has no upper layer to "
"report to)."
msgstr ""
"`pass_on` 上位層にI/Oエラーを通知します。プライマリノードの場合は、マウントさ"
"れたファイルシステムに通知されます。セカンダリノードの場合は無視されます(セカ"
"ンダリノードには通知すべき上位層がないため)。"

#. type: Plain text
msgid ""
"`call-local-io-error` Invokes the command defined as the local I/O error "
"handler. This requires that a corresponding `local-io-error` command "
"invocation is defined in the resource's `handlers` section. It is entirely "
"left to the administrator's discretion to implement I/O error handling using "
"the command (or script) invoked by `local-io-error`."
msgstr ""
"`call-local-io-error` ローカルI/Oエラーハンドラとして定義されたコマンドを呼び"
"出します。このオプションを使うには、 `対応するlocal-io-error` ハンドラをリ"
"ソースの `handlers` セクションに定義する必要があります。 `local-io-error` で"
"呼び出されるコマンド(またはスクリプト)にI/Oエラー処理を実装するかどうかは管理"
"者の判断です。"

#. type: Plain text
msgid ""
"Early DRBD versions (prior to 8.0) included another option, `panic`, which "
"would forcibly remove the node from the cluster by way of a kernel panic, "
"whenever a local I/O error occurred. While that option is no longer "
"available, the same behavior may be mimicked via the `local-io-error`/`call-"
"local-io-error` interface. You should do so only if you fully understand the "
"implications of such behavior."
msgstr ""
"DRBDの以前のバージョン(8.0以前)にはもう1つのオプション `panic` があり、これを"
"使用すると、ローカルI/Oエラーが発生するたびにカーネルパニックによりノードがク"
"ラスタから強制的に削除されました。このオプションは現在は使用できませんが、 "
"`local-io-error`/`call-local-io-error` インタフェースを使用すると同じように動"
"作します。ただし、この動作の意味を十分理解した上で使用してください。ただし、"
"この動作の意味を十分理解した上で使用してください。"

#. type: Plain text
msgid ""
"You may reconfigure a running resource's I/O error handling strategy by "
"following this process:"
msgstr ""
"次のコマンドで、実行中のリソースのI/Oエラー処理方針を再構成することができま"
"す。"

#. type: Plain text
msgid "Edit the resource configuration in `/etc/drbd.d/<resource>.res`."
msgstr "`/etc/drbd.d/<resource>.res` のリソース構成の編集"

#. type: Plain text
msgid "Copy the configuration to the peer node."
msgstr "構成の対向ノードへのコピー"

#. type: Plain text
msgid "Issue `drbdadm adjust <resource>` on both nodes."
msgstr "両ノードでの `drbdadm adjust <resource>` の実行"

#. type: Title ===
#, no-wrap
msgid "Configuring replication traffic integrity checking"
msgstr "レプリケーショントラフィックの整合性チェックを設定"

#. type: Plain text
msgid ""
"indexterm:[replication traffic integrity checking]<<s-integrity-check,"
"Replication traffic integrity checking>> is not enabled for resources by "
"default. To enable it, add the following lines to your resource "
"configuration in `/etc/drbd.conf`:"
msgstr ""
"indexterm:[れぷりけーしょんようとらふぃっくのせいごうせいちぇっく@レプリケー"
"ション用トラフィックの整合性チェック]<<s-integrity-check,レプリケーショントラ"
"フィックの整合性チェック>>はデフォルトでは有効になっていません。有効にする場"
"合は、 `/etc/drbd.conf` のリソース構成に次の行を追加します。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource>\n"
"  net {\n"
"    data-integrity-alg <algorithm>;\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource>\n"
"  net {\n"
"    data-integrity-alg <algorithm>;\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Title ===
#, no-wrap
msgid "Resizing resources"
msgstr "リソースのサイズ変更"

#. type: Title ====
#, no-wrap
msgid "Growing on-line"
msgstr "オンラインで拡張する"

#. type: Plain text
msgid ""
"indexterm:[resource]If the backing block devices can be grown while in "
"operation (online), it is also possible to increase the size of a DRBD "
"device based on these devices during operation. To do so, two criteria must "
"be fulfilled:"
msgstr ""
"indexterm:[resource]動作中(オンライン)に下位ブロックデバイスを拡張できる場合"
"は、これらのデバイスをベースとするDRBDデバイスについても動作中にサイズを拡張"
"することができます。その際に、次の2つの条件を満たす必要があります。"

#. type: Plain text
msgid ""
"The affected resource's backing device must be one managed by a logical "
"volume management subsystem, such as LVM."
msgstr ""
"影響を受けるリソースの下位デバイスが、LVMやEVMSなどの論理ボリューム管理サブシ"
"ステムによって管理されている。"

#. type: Plain text
msgid "The resource must currently be in the _Connected_ connection state."
msgstr "現在、リソースの接続状態が _Connected_ になっている。"

#. type: Plain text
msgid ""
"Having grown the backing block devices on both nodes, ensure that only one "
"node is in primary state. Then enter on one node:"
msgstr ""
"両方のノードの下位ブロックデバイスを拡張したら、一方のノードだけがプライマリ"
"状態であることを確認してください。プライマリノードで次のように入力します。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm resize <resource>\n"
msgstr "# drbdadm resize <resource>\n"

#. type: Plain text
msgid ""
"This triggers a synchronization of the new section. The synchronization is "
"done from the primary node to the secondary node."
msgstr ""
"新しいセクションの同期がトリガーされます。同期はプライマリノードからセカンダ"
"リノードへ実行されます。"

#. type: Plain text
msgid ""
"If the space you're adding is clean, you can skip syncing the additional "
"space by using the --assume-clean option."
msgstr ""
"追加する領域がクリーンな場合には、追加領域の同期を--assume-cleanオプションで"
"スキップできます。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm -- --assume-clean resize <resource>\n"
msgstr "# drbdadm -- --assume-clean resize <resource>\n"

#. type: Title ====
#, no-wrap
msgid "Growing off-line"
msgstr "オフラインで拡張する"

#. type: Plain text
msgid ""
"indexterm:[resource]When the backing block devices on both nodes are grown "
"while DRBD is inactive, and the DRBD resource is using <<s-external-meta-"
"data,external meta data>>, then the new size is recognized automatically. No "
"administrative intervention is necessary. The DRBD device will have the new "
"size after the next activation of DRBD on both nodes and a successful "
"establishment of a network connection."
msgstr ""
"indexterm:[resource]<<s-external-meta-data,外部メタデータ>>を使っている場合、"
"DRBD停止中に両ノードの下位ブロックデバイスを拡張すると、新しいサイズが自動的"
"に認識されます。管理者による作業は必要ありません。両方のノードで次にDRBDを起"
"動した際に、DRBDデバイスのサイズが新しいサイズになり、ネットワーク接続が正常"
"に確立します。"

#. type: Plain text
msgid ""
"If however the DRBD resource is configured to use <<s-internal-meta-data,"
"internal meta data>>, then this meta data must be moved to the end of the "
"grown device before the new size becomes available. To do so, complete the "
"following steps:"
msgstr ""
"DRBDリソースで<<s-internal-meta-data,内部メタデータ>>を使用している場合は、リ"
"ソースのサイズを変更する前に、メタデータを拡張されるデバイス領域の後ろの方に"
"移動させる必要があります。これを行うには次の手順を実行します。これを行うには"
"次の手順を実行します"

#. type: Plain text
msgid "This is an advanced procedure. Use at your own discretion."
msgstr "これは高度な手順です。慎重に検討した上で実行してください。"

#. type: Plain text
msgid "Unconfigure your DRBD resource:"
msgstr "DRBDリソースを停止します。"

#. type: Plain text
msgid ""
"Save the meta data in a text file prior to growing the backing block device:"
msgstr ""
"下位ブロックデバイスを拡張する前に、メタデータをテキストファイルに保存しま"
"す。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm dump-md <resource> > /tmp/metadata\n"
msgstr "# drbdadm dump-md <resource> > /tmp/metadata\n"

#. type: Plain text
msgid ""
"You must do this on both nodes, using a separate dump file for every node. "
"_Do not_ dump the meta data on one node, and simply copy the dump file to "
"the peer. This will not work."
msgstr ""
"各ノードごとにそれぞれのダンプファイルを作成する必要があります。この手順は、"
"両方のノードでそれぞれ実行します。一方のノードのメタデータのダンプを対向ノー"
"ドにコピーすることは避けてください。これはうまくいきません。"

#. type: Plain text
msgid "Grow the backing block device on both nodes."
msgstr "両方のノードの下位ブロックデバイスを拡大します。"

#. type: Plain text
msgid ""
"Adjust the size information (`la-size-sect`) in the file `/tmp/metadata` "
"accordingly, on both nodes. Remember that `la-size-sect` must be specified "
"in sectors."
msgstr ""
"これに合わせて、両方のノードについて、 `/tmp/metadata` ファイルのサイズ情報"
"( `la-size-sect` )を書き換えます。 `la-size-sect` は、必ずセクタ単位で指定す"
"る必要があります。"

#. type: Plain text
msgid "Re-initialize the metadata area:"
msgstr "メタデータ領域の再初期化:"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm create-md <resource>\n"
msgstr "# drbdadm create-md <resource>\n"

#. type: Plain text
msgid "Re-import the corrected meta data, on both nodes:"
msgstr "両方のノード上で修正のメタデータをインポートします:"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdmeta_cmd=$(drbdadm -d dump-md <resource>)\n"
"# ${drbdmeta_cmd/dump-md/restore-md} /tmp/metadata\n"
"Valid meta-data in place, overwrite? [need to type 'yes' to confirm]\n"
"yes\n"
"Successfully restored meta data\n"
msgstr ""
"# drbdmeta_cmd=$(drbdadm -d dump-md <resource>)\n"
"# ${drbdmeta_cmd/dump-md/restore-md} /tmp/metadata\n"
"Valid meta-data in place, overwrite? [need to type 'yes' to confirm]\n"
"yes\n"
"Successfully restored meta data\n"

#. type: Plain text
msgid ""
"This example uses `bash` parameter substitution. It may or may not work in "
"other shells. Check your `SHELL` environment variable if you are unsure "
"which shell you are currently using."
msgstr ""
"この例では `bash` パラメータ置換を使用しています。他のシェルの場合、機能する"
"場合もしない場合もあります。現在使用しているシェルが分からない場合は、 "
"`SHELL` 環境変数を確認してください。"

#. type: Plain text
msgid "Re-enable your DRBD resource:"
msgstr "DRBDリソースを再度有効にします。"

#. type: Plain text
msgid "On one node, promote the DRBD resource:"
msgstr "片側のノードでDRBDリソースをプライマリにします"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm primary <resource>\n"
msgstr "# drbdadm primary <resource>\n"

#. type: Plain text
msgid ""
"Finally, grow the file system so it fills the extended size of the DRBD "
"device."
msgstr ""
"最後に、拡張したDRBDデバイスを活用するために、ファイルシステムを拡張します。"

#. type: Title ====
#, no-wrap
msgid "Shrinking on-line"
msgstr "オンラインで縮小する"

#. type: Plain text
msgid "Online shrinking is only supported with external metadata."
msgstr "オンラインでの縮小は外部メタデータ使用の場合のみサポートしています。"

#. type: Plain text
msgid ""
"indexterm:[resource]Before shrinking a DRBD device, you _must_ shrink the "
"layers above DRBD, i.e. usually the file system. Since DRBD cannot ask the "
"file system how much space it actually uses, you have to be careful in order "
"not to cause data loss."
msgstr ""
"indexterm:[resource]DRBDデバイスを縮小する前に、DRBDの上位層(通常はファイルシ"
"ステム)を縮小しなければいけません。ファイルシステムが実際に使用している容量"
"を、DRBDが知ることはできないため、データが失われないように注意する必要があり"
"ます。"

#. type: Plain text
msgid ""
"Whether or not the _filesystem_ can be shrunk on-line depends on the "
"filesystem being used. Most filesystems do not support on-line shrinking. "
"XFS does not support shrinking at all."
msgstr ""
"ファイルシステムをオンラインで縮小できるかどうかは、使用しているファイルシス"
"テムによって異なります。ほとんどのファイルシステムはオンラインでの縮小をサ"
"ポートしません。XFSは縮小そのものをサポートしません。"

#. type: Plain text
msgid ""
"To shrink DRBD on-line, issue the following command _after_ you have shrunk "
"the file system residing on top of it:"
msgstr ""
"オンラインでDRBDを縮小するには、その上位に常駐するファイルシステムを縮小した"
"後に、次のコマンドを実行します。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm -- --size=<new-size> resize <resource>\n"
msgstr "# drbdadm -- --size=<new-size> resize <resource>\n"

#. type: Plain text
msgid ""
"You may use the usual multiplier suffixes for _<new-size>_ (K, M, G etc.). "
"After you have shrunk DRBD, you may also shrink the containing block device "
"(if it supports shrinking)."
msgstr ""
"_<new-size>_ には通常の乗数サフィックス(K、M、Gなど)を使用できます。DRBDを縮"
"小したら、DRBDに含まれるブロックデバイスも縮小できます(デバイスが縮小をサポー"
"トする場合)。"

#. type: Title ====
#, no-wrap
msgid "Shrinking off-line"
msgstr "オフラインで縮小する"

#. type: Plain text
msgid ""
"indexterm:[resource]If you were to shrink a backing block device while DRBD "
"is inactive, DRBD would refuse to attach to this block device during the "
"next attach attempt, since it is now too small (in case external meta data "
"is used), or it would be unable to find its meta data (in case internal meta "
"data is used). To work around these issues, use this procedure (if you "
"cannot use <<s-shrinking-online,on-line shrinking>>):"
msgstr ""
"indexterm:[resource]DRBDが停止しているときに下位ブロックデバイスを縮小する"
"と、次にそのブロックデバイスを接続しようとしてもDRBDが拒否します。これは、ブ"
"ロックデバイスが小さすぎる(外部メタデータを使用する場合)、またはメタデータを"
"見つけられない(内部メタデータを使用する場合)ことが原因です。この問題を回避す"
"るには、次の手順を行います(<<s-shrinking-online,オンライン縮小>>を使用できな"
"い場合)。"

#. type: Plain text
msgid "Shrink the file system from one node, while DRBD is still configured."
msgstr ""
"DRBDがまだ動作している状態で、一方のノードのファイルシステムを縮小します。"

#. type: Plain text
msgid "Save the meta data in a text file prior to shrinking:"
msgstr "縮小する前に、メタデータをテキストファイルに保存します。"

#. type: Plain text
msgid "Shrink the backing block device on both nodes."
msgstr "両方のノードの下位ブロックデバイスを縮小します。"

#. type: Plain text
msgid ""
"_Only if you are using internal metadata_ (which at this time have probably "
"been lost due to the shrinking process), re-initialize the metadata area:"
msgstr ""
"内部メタデータを使用している場合は、メタデータ領域を再初期化します(この時点で"
"は、縮小によりおそらく内部メタデータが失われています)。"

#. type: Title ===
#, no-wrap
msgid "Disabling backing device flushes"
msgstr "下位デバイスのフラッシュを無効にする"

#. type: Plain text
msgid ""
"You should only disable device flushes when running DRBD on devices with a "
"battery-backed write cache (BBWC). Most storage controllers allow to "
"automatically disable the write cache when the battery is depleted, "
"switching to write-through mode when the battery dies. It is strongly "
"recommended to enable such a feature."
msgstr ""
"バッテリバックアップ書き込みキャッシュ(BBWC)を備えたデバイスでDRBDを実行して"
"いる場合にのみ、デバイスのフラッシュを無効にできます。ほとんどのストレージコ"
"ントローラは、バッテリが消耗すると書き込みキャッシュを自動的に無効にし、バッ"
"テリが完全になくなると即時書き込み(ライトスルー)モードに切り替える機能を備え"
"ています。このような機能を有効にすることを強くお勧めします。"

#. type: Plain text
msgid ""
"Disabling DRBD's flushes when running without BBWC, or on BBWC with a "
"depleted battery, is _likely to cause data loss_ and should not be attempted."
msgstr ""
"BBWC機能を使用していない、またはバッテリが消耗した状態でBBWCを使用していると"
"きに、DRBDのフラッシュを無効にすると、データが失われるおそれがあります。した"
"がって、これはお勧めできません。"

#. type: Plain text
msgid ""
"DRBD allows you to enable and disable <<s-disk-flush-support,backing device "
"flushes>> separately for the replicated data set and DRBD's own meta data. "
"Both of these options are enabled by default. If you wish to disable either "
"(or both), you would set this in the `disk` section for the DRBD "
"configuration file, `/etc/drbd.conf`."
msgstr ""
"DRBDは<<s-disk-flush-support,下位デバイスのフラッシュ>>を、レプリケートされた"
"データセットとDRBD独自のメタデータについて、個別に有効と無効を切り替える機能"
"を備えています。この2つのオプションはデフォルトで有効になっています。このオプ"
"ションのいずれか(または両方)を無効にしたい場合は、DRBD設定ファイル `/etc/"
"drbd.conf` の `disk` セクションで設定できます。"

#. type: Plain text
msgid ""
"To disable disk flushes for the replicated data set, include the following "
"line in your configuration:"
msgstr ""
"レプリケートされたデータセットのディスクフラッシュを無効にするには、構成に次"
"の行を記述します。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource>\n"
"  disk {\n"
"    disk-flushes no;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource>\n"
"  disk {\n"
"    disk-flushes no;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid ""
"To disable disk flushes on DRBD's meta data, include the following line:"
msgstr ""
"DRBDのメタデータのディスクフラッシュを無効にするには、次の行を記述します。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource>\n"
"  disk {\n"
"    md-flushes no;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource>\n"
"  disk {\n"
"    md-flushes no;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid ""
"After you have modified your resource configuration (and synchronized your `/"
"etc/drbd.conf` between nodes, of course), you may enable these settings by "
"issuing this command on both nodes:"
msgstr ""
"リソースの構成を修正し、また、もちろん両ノードの `/etc/drbd.conf` を同期した"
"ら、両ノードで次のコマンドを実行して、これらの設定を有効にします。"

#. type: Title ===
#, no-wrap
msgid "Configuring split brain behavior"
msgstr "スプリットブレイン時の動作の設定"

#. type: Title ====
#, no-wrap
msgid "Split brain notification"
msgstr "スプリットブレインの通知"

#. type: Plain text
msgid ""
"DRBD invokes the `split-brain` handler, if configured, at any time split "
"brain is _detected_. To configure this handler, add the following item to "
"your resource configuration:"
msgstr ""
"スプリットブレインが検出されると、DRBD はつねに `split-brain` ハンドラを呼び"
"出します(設定されていれば)。このハンドラを設定するには、リソース構成に次の項"
"目を追加します。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource>\n"
"  handlers {\n"
"    split-brain <handler>;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource>\n"
"  handlers {\n"
"    split-brain <handler>;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid "_<handler>_ may be any executable present on the system."
msgstr "_<handler>_ はシステムに存在する任意の実行可能ファイルです。"

#. type: Plain text
msgid ""
"The DRBD distribution contains a split brain handler script that installs as "
"`/usr/lib/drbd/notify-split-brain.sh`. It simply sends a notification e-mail "
"message to a specified address. To configure the handler to send a message "
"to `root@localhost` (which is expected to be an email address that forwards "
"the notification to a real system administrator), configure the `split-brain "
"handler` as follows:"
msgstr ""
"DRBDディストリビューションでは `/usr/lib/drbd/notify-split-brain.sh` という名"
"前のスプリットブレイン対策用のハンドラスクリプトを提供しています。これは指定"
"したアドレスに電子メールで通知を送信するだけのシンプルなものです。 "
"`root@localhost` (このアドレス宛のメールは実際のシステム管理者に転送されると"
"仮定)にメッセージを送信するようにハンドラを設定するには、 `split-brain "
"handler` を次のように記述します。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource>\n"
"  handlers {\n"
"    split-brain \"/usr/lib/drbd/notify-split-brain.sh root\";\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource>\n"
"  handlers {\n"
"    split-brain \"/usr/lib/drbd/notify-split-brain.sh root\";\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid ""
"After you have made this modification on a running resource (and "
"synchronized the configuration file between nodes), no additional "
"intervention is needed to enable the handler. DRBD will simply invoke the "
"newly-configured handler on the next occurrence of split brain."
msgstr ""
"実行中のリソースで上記の変更を行い(ノード間で設定ファイルを同期すれば)、後は"
"ハンドラを有効にするための他の操作は必要ありません。次にスプリットブレインが"
"発生すると、DRBDが新しく設定したハンドラを呼び出します。"

#. type: Title ====
#, no-wrap
msgid "Automatic split brain recovery policies"
msgstr "スプリットブレインからの自動復旧ポリシー"

#. type: Plain text
msgid ""
"Configuring DRBD to automatically resolve data divergence situations "
"resulting from split-brain (or other) scenarios is configuring for potential "
"*automatic data loss*.  Understand the implications, and don't do it if you "
"don't mean to."
msgstr ""
"スプリットブレイン（またはその他のシナリオ）に起因するデータ相違問題を自動的"
"に解決するようにDRBDを構成することは、潜在的な *自動データ損失* を構成するこ"
"とを意味します。このことを理解し、そうでない場合は、そのような構成をとらない"
"でください。"

#. type: Plain text
msgid ""
"You rather want to look into fencing policies, cluster manager integration, "
"and redundant cluster manager communication links to *avoid* data divergence "
"in the first place."
msgstr ""
"むしろフェンシング・ポリシー、統合したクラスタ・マネージャー、および冗長なク"
"ラスター・マネージャーの通信リンクを調べて、まずはデータの相違をできるだけ回"
"避するようにしてください。"

#. type: Plain text
msgid ""
"In order to be able to enable and configure DRBD's automatic split brain "
"recovery policies, you must understand that DRBD offers several "
"configuration options for this purpose. DRBD applies its split brain "
"recovery procedures based on the number of nodes in the Primary role at the "
"time the split brain is detected. To that end, DRBD examines the following "
"keywords, all found in the resource's `net` configuration section:"
msgstr ""
"スプリットブレインからの自動復旧ポリシーには、状況に応じた複数のオプションが"
"用意されています。DRBDは、スプリットブレインを検出したときのプライマリロール"
"のノードの数にもとづいてスプリットブレイン回復手続きを適用します。そのため"
"に、DRBDはリソース設定ファイルの `net` セクションの次のキーワードを読み取りま"
"す。"

#. type: Block title
#, no-wrap
msgid "`after-sb-0pri`"
msgstr "`after-sb-0pri`"

#. type: Plain text
msgid ""
"Split brain has just been detected, but at this time the resource is not in "
"the Primary role on any host. For this option, DRBD understands the "
"following keywords:"
msgstr ""
"スプリットブレインが検出されたときに両ノードともセカンダリロールの場合に適用"
"されるポリシーを定義します。次のキーワードを指定できます。"

#. type: Plain text
msgid ""
"`disconnect`: Do not recover automatically, simply invoke the `split-brain` "
"handler script (if configured), drop the connection and continue in "
"disconnected mode."
msgstr ""
"`disconnect` : 自動復旧は実行されません。 `split-brain` ハンドラスクリプト(設"
"定されている場合)を呼び出し、コネクションを切断して切断モードで続行します。"

#. type: Plain text
msgid ""
"`discard-younger-primary`: Discard and roll back the modifications made on "
"the host which assumed the Primary role last."
msgstr ""
"`discard-younger-primary` : 最後にプライマリロールだったホストに加えられた変"
"更内容を破棄してロールバックします。"

#. type: Plain text
msgid ""
"`discard-least-changes`: Discard and roll back the modifications on the host "
"where fewer changes occurred."
msgstr ""
"`discard-least-changes` : 変更が少なかったほうのホストの変更内容を破棄して"
"ロールバックします。"

#. type: Plain text
msgid ""
"`discard-zero-changes`: If there is any host on which no changes occurred at "
"all, simply apply all modifications made on the other and continue."
msgstr ""
"`discard-zero-changes` : 変更がなかったホストがある場合は、他方に加えられたす"
"べての変更内容を適用して続行します。"

#. type: Block title
#, no-wrap
msgid "`after-sb-1pri`"
msgstr "`after-sb-1pri`"

#. type: Plain text
msgid ""
"Split brain has just been detected, and at this time the resource is in the "
"Primary role on one host. For this option, DRBD understands the following "
"keywords:"
msgstr ""
"スプリットブレインが検出されたときにどちらか1つのノードがプライマリロールであ"
"る場合に適用されるポリシーを定義します。次のキーワードを指定できます。次の"
"キーワードを指定できます。"

#. type: Plain text
msgid ""
"`disconnect`: As with `after-sb-0pri`, simply invoke the `split-brain` "
"handler script (if configured), drop the connection and continue in "
"disconnected mode."
msgstr ""
"`disconnect` : `after-sb-0pri` と同様に、 `split-brain` ハンドラスクリプト(構"
"成されている場合)を呼び出し、コネクションを切断して切断モードで続行します。"

#. type: Plain text
msgid ""
"`consensus`: Apply the same recovery policies as specified in `after-"
"sb-0pri`. If a split brain victim can be selected after applying these "
"policies, automatically resolve. Otherwise, behave exactly as if "
"`disconnect` were specified."
msgstr ""
"`consensus` : `after-sb-0pri` で設定したものと同じ復旧ポリシーが適用されま"
"す。これらのポリシーを適用した後で、スプリットブレインの犠牲ノードを選択でき"
"る場合は自動的に解決します。それ以外の場合は、 `disconnect` を指定した場合と"
"同様に動作します。"

#. type: Plain text
msgid ""
"`call-pri-lost-after-sb`: Apply the recovery policies as specified in `after-"
"sb-0pri`. If a split brain victim can be selected after applying these "
"policies, invoke the `pri-lost-after-sb` handler on the victim node. This "
"handler must be configured in the `handlers` section and is expected to "
"forcibly remove the node from the cluster."
msgstr ""
"`call-pri-lost-after-sb` : `after-sb-0pri` で指定した復旧ポリシーが適用されま"
"す。これらのポリシーを適用した後で、スプリットブレインの犠牲ノードを選択でき"
"る場合は、犠牲ノードで `pri-lost-after-sb` ハンドラを起動します。このハンドラ"
"は `handlers` セクションで設定する必要があります。また、クラスタからノードを"
"強制的に削除します。"

#. type: Plain text
msgid ""
"`discard-secondary`: Whichever host is currently in the Secondary role, make "
"that host the split brain victim."
msgstr ""
"`discard-secondary` : 現在のセカンダリロールのホストを、スプリットブレインの"
"犠牲ノードにします。"

#. type: Block title
#, no-wrap
msgid "`after-sb-2pri`."
msgstr "`after-sb-2pri`."

#. type: Plain text
msgid ""
"Split brain has just been detected, and at this time the resource is in the "
"Primary role on both hosts. This option accepts the same keywords as `after-"
"sb-1pri` except `discard-secondary` and `consensus`."
msgstr ""
"スプリットブレインが検出されたときに両ノードともプライマリロールである場合に"
"適用されるポリシーを定義します。このオプションは `after-sb-1pri` と同じキー"
"ワードを受け入れます。ただし、 `discard-secondary` と `consensus` は除きま"
"す。"

#. type: Plain text
msgid ""
"DRBD understands additional keywords for these three options, which have "
"been omitted here because they are very rarely used. Refer to man page of "
"`drbd.conf` for details on split brain recovery keywords not discussed here."
msgstr ""
"上記の3つのオプションで、DRBDは追加のキーワードも認識しますが、これらはめった"
"に使用されないためここでは省略します。ここで取り上げた以外のスプリットブレイ"
"ン復旧キーワードについては、 `drbd.conf` マニュアルページを参照してください。"

#. type: Plain text
msgid ""
"For example, a resource which serves as the block device for a GFS or OCFS2 "
"file system in dual-Primary mode may have its recovery policy defined as "
"follows:"
msgstr ""
"たとえば、デュアルプライマリモードでGFSまたはOCFS2ファイルシステムのブロック"
"デバイスとして機能するリソースの場合、次のように復旧ポリシーを定義できます。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource> {\n"
"  handlers {\n"
"    split-brain \"/usr/lib/drbd/notify-split-brain.sh root\"\n"
"    ...\n"
"  }\n"
"  net {\n"
"    after-sb-0pri discard-zero-changes;\n"
"    after-sb-1pri discard-secondary;\n"
"    after-sb-2pri disconnect;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource> {\n"
"  handlers {\n"
"    split-brain \"/usr/lib/drbd/notify-split-brain.sh root\"\n"
"    ...\n"
"  }\n"
"  net {\n"
"    after-sb-0pri discard-zero-changes;\n"
"    after-sb-1pri discard-secondary;\n"
"    after-sb-2pri disconnect;\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Title ===
#, no-wrap
msgid "Creating a three-node setup"
msgstr "3ノード構成の作成"

#. type: Plain text
msgid "A three-node setup involves one DRBD device _stacked_ atop another."
msgstr ""
"3ノード構成では、1つのDRBDデバイスを別のデバイスの上にスタック(積み重ね)しま"
"す。"

#. type: Title ====
#, no-wrap
msgid "Device stacking considerations"
msgstr "デバイススタックの検討事項"

#. type: Plain text
msgid "The following considerations apply to this type of setup:"
msgstr "3ノード構成では次のような事項に注意する必要があります。"

#. type: Plain text
msgid ""
"The stacked device is the active one. Assume you have configured one DRBD "
"device `/dev/drbd0`, and the stacked device atop it is `/dev/drbd10`, then `/"
"dev/drbd10` will be the device that you mount and use."
msgstr ""
"スタックデバイスがアクティブなデバイスです。1つのDRBDデバイス `/dev/drbd0` が"
"構成され、その上位にスタックデバイス `/dev/drbd10` があるとします。この場合"
"は、 `/dev/drbd10` がマウントされて使用されるデバイスになります。"

#. type: Plain text
msgid ""
"Device meta data will be stored twice, on the underlying DRBD device _and_ "
"the stacked DRBD device. On the stacked device, you must always use <<s-"
"internal-meta-data,internal meta data>>. This means that the effectively "
"available storage area on a stacked device is slightly smaller, compared to "
"an unstacked device."
msgstr ""
"下位のDRBDデバイスおよびスタックDRBDデバイス(上位DRBDデバイス)の両方にそれぞ"
"れメタデータが存在します。上位DRBDデバイスには、必ず<<s-internal-meta-data,内"
"部メタデータ>>を使用してください。このため、3ノード構成時の使用可能なディスク"
"領域は、2ノード構成に比べてわずかに小さくなります。"

#. type: Plain text
msgid ""
"To get the stacked upper level device running, the underlying device must be "
"in the primary role."
msgstr ""
"スタックされた上位デバイスを実行するには、下位のデバイスがプライマリロールに"
"なっている必要があります。"

#. type: Plain text
msgid ""
"To be able to synchronize the backup node, the stacked device on the active "
"node must be up and in the primary role."
msgstr ""
"バックアップノードにデータを同期するには、アクティブなノードのスタックデバイ"
"スがプライマリモードで動作している必要があります。"

#. type: Title ====
#, no-wrap
msgid "Configuring a stacked resource"
msgstr "スタックリソースの設定"

#. type: Plain text
msgid ""
"In the following example, nodes are named 'alice', 'bob', and 'charlie', "
"with 'alice' and 'bob' forming a two-node cluster, and 'charlie' being the "
"backup node."
msgstr ""
"次の例では 'alice' 、 'bob' 、 'charlie' という名前のノードがあり、 'alice' "
"と 'bob' が2ノードクラスタを構成し、 'charlie' がバックアップノードになってい"
"ます。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource r0 {\n"
"  net {\n"
"    protocol C;\n"
"  }\n"
msgstr ""
"resource r0 {\n"
"  net {\n"
"    protocol C;\n"
"  }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  on alice {\n"
"    device     /dev/drbd0;\n"
"    disk       /dev/sda6;\n"
"    address    10.0.0.1:7788;\n"
"    meta-disk internal;\n"
"  }\n"
msgstr ""
"  on alice {\n"
"    device     /dev/drbd0;\n"
"    disk       /dev/sda6;\n"
"    address    10.0.0.1:7788;\n"
"    meta-disk internal;\n"
"  }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  on bob {\n"
"    device    /dev/drbd0;\n"
"    disk      /dev/sda6;\n"
"    address   10.0.0.2:7788;\n"
"    meta-disk internal;\n"
"  }\n"
"}\n"
msgstr ""
"  on bob {\n"
"    device    /dev/drbd0;\n"
"    disk      /dev/sda6;\n"
"    address   10.0.0.2:7788;\n"
"    meta-disk internal;\n"
"  }\n"
"}\n"

#. type: delimited block -
#, no-wrap
msgid ""
"resource r0-U {\n"
"  net {\n"
"    protocol A;\n"
"  }\n"
msgstr ""
"resource r0-U {\n"
"  net {\n"
"    protocol A;\n"
"  }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  stacked-on-top-of r0 {\n"
"    device     /dev/drbd10;\n"
"    address    192.168.42.1:7788;\n"
"  }\n"
msgstr ""
"  stacked-on-top-of r0 {\n"
"    device     /dev/drbd10;\n"
"    address    192.168.42.1:7788;\n"
"  }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  on charlie {\n"
"    device     /dev/drbd10;\n"
"    disk       /dev/hda6;\n"
"    address    192.168.42.2:7788; # Public IP of the backup node\n"
"    meta-disk  internal;\n"
"  }\n"
"}\n"
msgstr ""
"  on charlie {\n"
"    device     /dev/drbd10;\n"
"    disk       /dev/hda6;\n"
"    address    192.168.42.2:7788; # Public IP of the backup node\n"
"    meta-disk  internal;\n"
"  }\n"
"}\n"

#. type: Plain text
msgid ""
"As with any `drbd.conf` configuration file, this must be distributed across "
"all nodes in the cluster -- in this case, three nodes. Notice the following "
"extra keyword not found in an unstacked resource configuration:"
msgstr ""
"他の `drbd.conf` 設定ファイルと同様に、この設定ファイルもクラスタのすべての"
"ノード(この場合は3つ)に配布する必要があります。非スタックリソース構成にはない"
"次のキーワードにご注意ください。"

#. type: Block title
#, no-wrap
msgid "`stacked-on-top-of`"
msgstr "`stacked-on-top-of`"

#. type: Plain text
msgid ""
"This option informs DRBD that the resource which contains it is a stacked "
"resource. It replaces one of the `on` sections normally found in any "
"resource configuration. Do not use `stacked-on-top-of` in an lower-level "
"resource."
msgstr ""
"この情報により、DRBDに含まれるリソースがスタックリソースであることをDRBDに知"
"らせます。これは、非スタックリソース構成ににある2つの `on` セクションのいずれ"
"かと置き換えます。下位レベルリソースには `stacked-on-top-of` を使用しないでく"
"ださい。"

#. type: Plain text
msgid ""
"It is not a requirement to use <<fp-protocol-a,Protocol A>> for stacked "
"resources. You may select any of DRBD's replication protocols depending on "
"your application."
msgstr ""
"スタックリソースに<<fp-protocol-a,Protocol A>>を使用することは必須ではありま"
"せん。アプリケーションに応じて任意のDRBDのレプリケーションプロトコルを選択で"
"きます。"

#. type: Title ====
#, no-wrap
msgid "Enabling stacked resources"
msgstr "スタックリソースを有効にする"

#. type: Plain text
msgid ""
"To enable a stacked resource, you first enable its lower-level resource and "
"promote it:"
msgstr ""
"スタックリソースを有効にするには、まず、下位レベルリソースを有効にしてどちら"
"か一方をプライマリに昇格します。"

#. type: delimited block -
#, no-wrap
msgid ""
"drbdadm up r0\n"
"drbdadm primary r0\n"
msgstr ""
"drbdadm up r0\n"
"drbdadm primary r0\n"

#. type: Plain text
msgid ""
"As with unstacked resources, you must create DRBD meta data on the stacked "
"resources. This is done using the following command:"
msgstr ""
"非スタックリソースと同様に、スタックリソースの場合もDRBDメタデータを作成する"
"必要があります。次のコマンドで実行します。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm create-md --stacked r0-U\n"
msgstr "# drbdadm create-md --stacked r0-U\n"

#. type: Plain text
msgid "Then, you may enable the stacked resource:"
msgstr "次に、スタックリソースを有効にします。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm up --stacked r0-U\n"
"# drbdadm primary --stacked r0-U\n"
msgstr ""
"# drbdadm up --stacked r0-U\n"
"# drbdadm primary --stacked r0-U\n"

#. type: Plain text
msgid ""
"After this, you may bring up the resource on the backup node, enabling three-"
"node replication:"
msgstr ""
"この後でバックアップノードのリソースを起動し、3ノードレプリケーションを有効に"
"します。:"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm create-md r0-U\n"
"# drbdadm up r0-U\n"
msgstr ""
"# drbdadm create-md r0-U\n"
"# drbdadm up r0-U\n"

#. type: Plain text
msgid ""
"In order to automate stacked resource management, you may integrate stacked "
"resources in your cluster manager configuration. See <<s-pacemaker-stacked-"
"resources>> for information on doing this in a cluster managed by the "
"Pacemaker cluster management framework."
msgstr ""
"クラスタ管理システムを使えばスタックリソースの管理を自動化できます。Pacemaker"
"クラスタ管理フレームワークで管理する方法については、<<s-pacemaker-stacked-"
"resources>>を参照してください。"

#. type: Title ===
#, no-wrap
msgid "Using DRBD Proxy"
msgstr "Using DRBD Proxy"

#. type: Title ====
#, no-wrap
msgid "DRBD Proxy deployment considerations"
msgstr "DRBD Proxy配備に関する検討事項"

#. type: Plain text
msgid ""
"The <<s-drbd-proxy,DRBD Proxy>> processes can either be located directly on "
"the machines where DRBD is set up, or they can be placed on distinct "
"dedicated servers. A DRBD Proxy instance can serve as a proxy for multiple "
"DRBD devices distributed across multiple nodes."
msgstr ""
"<<s-drbd-proxy,DRBD Proxy>>プロセスは、DRBDが設定されているマシン上に直接配置"
"するか、個別の専用サーバに配置することができます。DRBD Proxyインスタンスは、"
"複数のノードの複数のDRBDデバイスのプロキシとして機能することができます。"

#. type: Plain text
msgid ""
"DRBD Proxy is completely transparent to DRBD. Typically you will expect a "
"high number of data packets in flight, therefore the activity log should be "
"reasonably large. Since this may cause longer re-sync runs after the crash "
"of a primary node, it is recommended to enable DRBD's `csums-alg` setting."
msgstr ""
"DRBD ProxyはDRBDに対して完全に透過的です。通常は大量のデータパケットがDRBD "
"Proxyを含む転送経路に溜まるため、アクティビティログがかなり大きくなります。こ"
"れは、プライマリノードのクラッシュ後の長い再同期の実行を引き起こす可能性があ"
"るので、それはDRBDの `csums-alg` 設定を有効にすることをお勧めします。"

#. type: Title ====
#, no-wrap
msgid "Installation"
msgstr "インストール"

#. type: Plain text
msgid ""
"To obtain DRBD Proxy, please contact your Linbit sales representative. "
"Unless instructed otherwise, please always use the most recent DRBD Proxy "
"release."
msgstr ""
"DRBD Proxyを入手するには、(日本では)サイオステクノロジー株式会社またはその販"
"売代理店に連絡してください。特別な理由がない限り、常に最新バージョンのDRBD "
"Proxyを使用してください。"

#. type: Plain text
msgid ""
"To install DRBD Proxy on Debian and Debian-based systems, use the dpkg tool "
"as follows (replace version with your DRBD Proxy version, and architecture "
"with your target architecture):"
msgstr ""
"DebianとDebianベースのシステム上でDRBD Proxyをインストールするには(DRBD Proxy"
"のバージョンとアーキテクチャは、ターゲットのアーキテクチャに合わせてくださ"
"い)、dpkgを次のように使用します。"

#. type: delimited block -
#, no-wrap
msgid "# dpkg -i drbd-proxy_3.0.0_amd64.deb\n"
msgstr "# dpkg -i drbd-proxy_3.0.0_amd64.deb\n"

#. type: Plain text
msgid ""
"To install DRBD Proxy on RPM based systems (like SLES or RHEL) use the rpm "
"tool as follows (replace version with your DRBD Proxy version, and "
"architecture with your target architecture):"
msgstr ""
"RPMベースのシステム(SLESやRedhat)にDRBD Proxyをインストールする場合は、次のコ"
"マンドを使用します(DRBD Proxyのバージョンとアーキテクチャは、ターゲットのアー"
"キテクチャに合わせてください)。"

#. type: delimited block -
#, no-wrap
msgid "# rpm -i drbd-proxy-3.0-3.0.0-1.x86_64.rpm\n"
msgstr "# rpm -i drbd-proxy-3.0-3.0.0-1.x86_64.rpm\n"

#. type: Plain text
msgid ""
"Also install the DRBD administration program drbdadm since it is required to "
"configure DRBD Proxy."
msgstr "DRBD Proxyの設定にはdrbdadmが必要なので、これもインストールします。"

#. type: Plain text
msgid ""
"This will install the DRBD proxy binaries as well as an init script which "
"usually goes into `/etc/init.d`. Please always use the init script to start/"
"stop DRBD proxy since it also configures DRBD Proxy using the `drbdadm` tool."
msgstr ""
"DRBD Proxyバイナリだけでなく、 `/etc/init.d` に通常に入る起動スクリプトもイン"
"ストールします。DRBD Proxyを起動/停止するには、通常はこの起動スクリプトを使っ"
"てください。このスクリプトは単に起動/停止するだけでなく、 `drbdadm` を使って"
"DRBD Proxyの動作も設定します。"

#. type: Title ====
#, no-wrap
msgid "License file"
msgstr "ライセンスファイル"

#. type: Plain text
msgid ""
"When obtaining a license from Linbit, you will be sent a DRBD Proxy license "
"file which is required to run DRBD Proxy. The file is called `drbd-proxy."
"license`, it must be copied into the `/etc` directory of the target "
"machines, and be owned by the user/group `drbdpxy`."
msgstr ""
"DRBD Proxyの実行には、ライセンスファイルが必要です。DRBD Proxyを実行したいマ"
"シンにライセンスファイルを設定してください。このファイルは `drbd-proxy."
"license` と呼ばれ、対象マシンの `/etc` ディレクトリにコピーされ、また "
"`drbdpxy` ユーザ/グループに所有されている必要があります。"

#. type: delimited block -
#, no-wrap
msgid "# cp drbd-proxy.license /etc/\n"
msgstr "# cp drbd-proxy.license /etc/\n"

#. type: Title ====
#, no-wrap
msgid "Configuration"
msgstr "設定"

#. type: Plain text
msgid ""
"DRBD Proxy is configured in DRBD's main configuration file. It is configured "
"by an additional options section called `proxy` and additional `proxy on` "
"sections within the host sections."
msgstr ""
"DRBD ProxyはDRBDのメイン設定ファイルで設定します。設定は、追加のオプションセ"
"クション `proxy` とホストセクション内の `proxy on` セクションで行います。"

#. type: Plain text
msgid ""
"Below is a DRBD configuration example for proxies running directly on the "
"DRBD nodes:"
msgstr "DRBDノードで直接実行されるプロキシのDRBD Proxyの設定例を次に示します。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource r0 {\n"
"        net {\n"
"          protocol A;\n"
"        }\n"
"        device     minor 0;\n"
"        disk       /dev/sdb1;\n"
"        meta-disk  /dev/sdb2;\n"
msgstr ""
"resource r0 {\n"
"        net {\n"
"          protocol A;\n"
"        }\n"
"        device     minor 0;\n"
"        disk       /dev/sdb1;\n"
"        meta-disk  /dev/sdb2;\n"

#. type: delimited block -
#, no-wrap
msgid ""
"        proxy {\n"
"                memlimit 100M;\n"
"                plugin {\n"
"                        zlib level 9;\n"
"                }\n"
"        }\n"
msgstr ""
"        proxy {\n"
"                memlimit 100M;\n"
"                plugin {\n"
"                        zlib level 9;\n"
"                }\n"
"        }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"        on alice {\n"
"                address 127.0.0.1:7789;\n"
"                proxy on alice {\n"
"                        inside 127.0.0.1:7788;\n"
"                        outside 192.168.23.1:7788;\n"
"                }\n"
"        }\n"
msgstr ""
"        on alice {\n"
"                address 127.0.0.1:7789;\n"
"                proxy on alice {\n"
"                        inside 127.0.0.1:7788;\n"
"                        outside 192.168.23.1:7788;\n"
"                }\n"
"        }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"        on bob {\n"
"                address 127.0.0.1:7789;\n"
"                proxy on bob {\n"
"                        inside 127.0.0.1:7788;\n"
"                        outside 192.168.23.2:7788;\n"
"                }\n"
"        }\n"
"}\n"
msgstr ""
"        on bob {\n"
"                address 127.0.0.1:7789;\n"
"                proxy on bob {\n"
"                        inside 127.0.0.1:7788;\n"
"                        outside 192.168.23.2:7788;\n"
"                }\n"
"        }\n"
"}\n"

#. type: Plain text
msgid ""
"The `inside` IP address is used for communication between DRBD and the DRBD "
"Proxy, whereas the `outside` IP address is used for communication between "
"the proxies."
msgstr ""
"`inside` IPアドレスはDRBDとDRBD Proxyとの通信に使用し、 `outside` IPアドレス"
"はプロキシ間の通信に使用します。"

#. type: Title ====
#, no-wrap
msgid "Controlling DRBD Proxy"
msgstr "DRBD Proxyの制御"

#. type: Plain text
msgid ""
"`drbdadm` offers the `proxy-up` and `proxy-down` subcommands to configure or "
"delete the connection to the local DRBD Proxy process of the named DRBD "
"resource(s). These commands are used by the `start` and `stop` actions which "
"`/etc/init.d/drbdproxy` implements."
msgstr ""
"`drbdadm` には `proxy-up` および `proxy-down` サブコマンドがあり、名前付き"
"DRBDリソースのローカルDRBD Proxyプロセスとの接続を設定したり削除したりできま"
"す。これらのコマンドは、 `/etc/init.d/drbdproxy` が実装する `start` および "
"`stop` アクションによって使用されます。"

#. type: Plain text
msgid ""
"The DRBD Proxy has a low level configuration tool, called `drbd-proxy-ctl`. "
"When called without any option it operates in interactive mode."
msgstr ""
"DRBD Proxyには `drbd-proxy-ctl` という下位レベル構成ツールがあります。この"
"ツールをオプションを指定せずに呼び出した場合は、対話型モードで動作します。"

#. type: Plain text
msgid ""
"To pass a command directly, avoiding interactive mode, use the `-c` "
"parameter followed by the command."
msgstr ""
"対話型モードをにせずコマンドを直接渡すには、 `-c` パラメータをコマンドに続け"
"て使用します。"

#. type: Plain text
msgid "To display the available commands use:"
msgstr "使用可能なコマンドを表示するには次のようにします。"

#. type: delimited block -
#, no-wrap
msgid "# drbd-proxy-ctl -c \"help\"\n"
msgstr "# drbd-proxy-ctl -c \"help\"\n"

#. type: Plain text
msgid "Note the double quotes around the command being passed."
msgstr "コマンドの周りのダブルクォートは読み飛ばされる点に注意ください。"

#. type: delimited block -
#, no-wrap
msgid ""
"add connection <name> <listen-lan-ip>:<port> <remote-proxy-ip>:<port>\n"
"   <local-proxy-wan-ip>:<port> <local-drbd-ip>:<port>\n"
"   Creates a communication path between two DRBD instances.\n"
msgstr ""
"add connection <name> <listen-lan-ip>:<port> <remote-proxy-ip>:<port>\n"
"   <local-proxy-wan-ip>:<port> <local-drbd-ip>:<port>\n"
"   Creates a communication path between two DRBD instances.\n"

#. type: delimited block -
#, no-wrap
msgid ""
"set memlimit <name> <memlimit-in-bytes>\n"
"   Sets memlimit for connection <name>\n"
msgstr ""
"set memlimit <name> <memlimit-in-bytes>\n"
"   Sets memlimit for connection <name>\n"

#. type: delimited block -
#, no-wrap
msgid ""
"del connection <name>\n"
"   Deletes communication path named name.\n"
msgstr ""
"del connection <name>\n"
"   Deletes communication path named name.\n"

#. type: delimited block -
#, no-wrap
msgid ""
"show\n"
"   Shows currently configured communication paths.\n"
msgstr ""
"show\n"
"   Shows currently configured communication paths.\n"

#. type: delimited block -
#, no-wrap
msgid ""
"show memusage\n"
"   Shows memory usage of each connection.\n"
msgstr ""
"show memusage\n"
"   Shows memory usage of each connection.\n"

#. type: delimited block -
#, no-wrap
msgid ""
"show [h]subconnections\n"
"   Shows currently established individual connections\n"
"   together with some stats. With h outputs bytes in human\n"
"   readable format.\n"
msgstr ""
"show [h]subconnections\n"
"   Shows currently established individual connections\n"
"   together with some stats. With h outputs bytes in human\n"
"   readable format.\n"

#. type: delimited block -
#, no-wrap
msgid ""
"show [h]connections\n"
"   Shows currently configured connections and their states\n"
"   With h outputs bytes in human readable format.\n"
msgstr ""
"show [h]connections\n"
"   Shows currently configured connections and their states\n"
"   With h outputs bytes in human readable format.\n"

#. type: delimited block -
#, no-wrap
msgid ""
"shutdown\n"
"   Shuts down the drbd-proxy program. Attention: this\n"
"   unconditionally terminates any DRBD connections running.\n"
msgstr ""
"shutdown\n"
"   Shuts down the drbd-proxy program. Attention: this\n"
"   unconditionally terminates any DRBD connections running.\n"

#. type: delimited block -
#, no-wrap
msgid ""
"Examples:\n"
"\tdrbd-proxy-ctl -c \"list hconnections\"\n"
"\t\tprints configured connections and their status to stdout\n"
"             Note that the quotes are required.\n"
msgstr ""
"Examples:\n"
"\tdrbd-proxy-ctl -c \"list hconnections\"\n"
"\t\tprints configured connections and their status to stdout\n"
"             Note that the quotes are required.\n"

#. type: delimited block -
#, no-wrap
msgid ""
"\tdrbd-proxy-ctl -c \"list subconnections\" | cut -f 2,9,13\n"
"\t\tprints some more detailed info about the individual connections\n"
msgstr ""
"\tdrbd-proxy-ctl -c \"list subconnections\" | cut -f 2,9,13\n"
"\t\tprints some more detailed info about the individual connections\n"

#. type: delimited block -
#, no-wrap
msgid ""
"\twatch -n 1 'drbd-proxy-ctl -c \"show memusage\"'\n"
"\t\tmonitors memory usage.\n"
"             Note that the quotes are required as listed above.\n"
msgstr ""
"\twatch -n 1 'drbd-proxy-ctl -c \"show memusage\"'\n"
"\t\tmonitors memory usage.\n"
"             Note that the quotes are required as listed above.\n"

#. type: Plain text
msgid ""
"While the commands above are only accepted from UID 0 (ie., the `root` "
"user), there's one (information gathering) command that can be used by any "
"user (provided that unix permissions allow access on the proxy socket at `/"
"var/run/drbd-proxy/drbd-proxy-ctl.socket`); see the init script at `/etc/"
"init.d/drbdproxy` about setting the rights."
msgstr ""
"上記のコマンドは、UID 0 (つまり `root` ユーザ)でのみ受け入れられますが、どの"
"ユーザでも使える情報収集のコマンドがあります(unixのパーミッションが `/var/"
"run/drbd-proxy/drbd-proxy-ctl.socket` のプロキシソケットへのアクセスを許可し"
"ていれば)。権限の設定については `/etc/init.d/drbdproxy` のinitスクリプトを参"
"照してください。"

#. type: delimited block -
#, no-wrap
msgid ""
"print details\n"
"   This prints detailed statistics for the currently active connections.\n"
"   Can be used for monitoring, as this is the only command that may be sent by a user with UID\n"
msgstr ""
"print details\n"
"   This prints detailed statistics for the currently active connections.\n"
"   Can be used for monitoring, as this is the only command that may be sent by a user with UID\n"

#. type: delimited block -
#, no-wrap
msgid ""
"quit\n"
"   Exits the client program (closes control connection).\n"
msgstr ""
"quit\n"
"   Exits the client program (closes control connection).\n"

#. type: Title ====
#, no-wrap
msgid "About DRBD Proxy plugins"
msgstr "DRBD Proxyプラグインについて"

#. type: Plain text
msgid ""
"Since DRBD proxy 3.0 the proxy allows to enable a few specific plugins for "
"the WAN connection. + The currently available plugins are `zlib` and `lzma`."
msgstr ""
"DRBD proxy 3.0以降のプロキシではWANコネクション用のプラグインを使用できま"
"す。 現在使用できるプラグインは `zlib` と `lzma` です。"

#. type: Plain text
msgid ""
"The `zlib` plugin uses the GZIP algorithm for compression.  The advantage is "
"fairly low CPU usage."
msgstr ""
"`zlib` プラグインはGZIPアルゴリズムを圧縮に使っています。CPU使用量が低いのが"
"利点です。"

#. type: Plain text
msgid ""
"The `lzma` plugin uses the liblzma2 library. It can use dictionaries of "
"several hundred MiB; these allow for very efficient delta-compression of "
"repeated data, even for small changes.  `lzma` needs much more CPU and "
"memory, but results in much better compression than `zlib`. The `lzma` "
"plugin has to be enabled in your license."
msgstr ""
"`lzma` プラグインはliblzma2ライブラリを使います。数百MiBの辞書を使って、小さ"
"な変更であっても非常に効率的な繰り返しデータの差分符号化を行います。 `lzma` "
"はより多くCPUとメモリを必要としますが、 `zlib` よりも高い圧縮率になります。 "
"`lzma` プラグインはライセンスで有効化されてる必要があります。"

#. type: Plain text
msgid ""
"Please contact Linbit to find the best settings for your environment - it "
"depends on the CPU (speed, threading count), memory, input and the available "
"output bandwidth."
msgstr ""
"CPU (速度、スレッド数)、メモリ、インプットと有効なアウトプット帯域幅に応じた"
"プラグインの推奨構成については、サイオステクノロジーに相談してください。"

#. type: Plain text
msgid ""
"Please note that the older `compression on` in the `proxy` section is "
"deprecated, and will be removed in a future release. + Currently it is "
"treated as `zlib level 9`."
msgstr ""
"`proxy` セクションの古い `compression on` は使用されておらず、次期リリースで"
"はなくなる予定です。 現在は `zlib level 9` で扱っています。"

#. type: Title ====
#, no-wrap
msgid "Using a WAN Side Bandwidth Limit"
msgstr "WANサイドの帯域幅制限を使用する"

#. type: Plain text
msgid ""
"The experimental `bwlimit` option of DRBD Proxy is broken. Do not use it, as "
"it may cause applications on DRBD to block on IO. It will be removed."
msgstr ""
"DRBD Proxyの実験的なbwlimitオプションは壊れています。DRBD上のアプリケーション"
"がIOをブロックする可能性があるため、使用しないでください。これはいずれ削除さ"
"れます。"

#. type: Plain text
msgid ""
"Instead use the Linux kernel's traffic control framework to limit bandwidth "
"consumed by proxy on the WAN side."
msgstr ""
"代わりにLinuxカーネルのトラフィック制御フレームワークを使用して、WAN側でプロ"
"キシが消費する帯域幅を制限します。"

#. type: Plain text
msgid ""
"In the following example you would need to replace the interface name, the "
"source port and the ip address of the peer."
msgstr ""
"次の例では、対抗ノードのインターフェイス名、送信元ポート、およびIPアドレスを"
"置き換えて使用します。"

#. type: delimited block -
#, no-wrap
msgid ""
"# tc qdisc add dev eth0 root handle 1: htb default 1\n"
"# tc class add dev eth0 parent 1: classid 1:1 htb rate 1gbit\n"
"# tc class add dev eth0 parent 1:1 classid 1:10 htb rate 500kbit\n"
"# tc filter add dev eth0 parent 1: protocol ip prio 16 u32 \\\n"
"        match ip sport 7000 0xffff \\\n"
"        match ip dst 192.168.47.11 flowid 1:10\n"
"# tc filter add dev eth0 parent 1: protocol ip prio 16 u32 \\\n"
"        match ip dport 7000 0xffff \\\n"
"        match ip dst 192.168.47.11 flowid 1:10\n"
msgstr ""
"# tc qdisc add dev eth0 root handle 1: htb default 1\n"
"# tc class add dev eth0 parent 1: classid 1:1 htb rate 1gbit\n"
"# tc class add dev eth0 parent 1:1 classid 1:10 htb rate 500kbit\n"
"# tc filter add dev eth0 parent 1: protocol ip prio 16 u32 \\\n"
"        match ip sport 7000 0xffff \\\n"
"        match ip dst 192.168.47.11 flowid 1:10\n"
"# tc filter add dev eth0 parent 1: protocol ip prio 16 u32 \\\n"
"        match ip dport 7000 0xffff \\\n"
"        match ip dst 192.168.47.11 flowid 1:10\n"

#. type: Plain text
msgid "You can remove this bandwidth limitation with"
msgstr "以下のコマンドで帯域制限設定を削除できます。"

#. type: delimited block -
#, no-wrap
msgid "# tc qdisc del dev eth0 root handle 1\n"
msgstr "# tc qdisc del dev eth0 root handle 1\n"

#. type: Title ====
#, no-wrap
msgid "Troubleshooting"
msgstr "トラブルシューティング"

#. type: Plain text
msgid ""
"DRBD proxy logs via syslog using the `LOG_DAEMON` facility. Usually you will "
"find DRBD Proxy messages in `/var/log/daemon.log`."
msgstr ""
"DRBD proxyのログはsyslogの `LOG_DAEMON` ファシリティに記録されます。通常ログ"
"は `/var/log/daemon.log` に記録されます。"

#. type: Plain text
msgid ""
"Enabling debug mode in DRBD Proxy can be done with the following command."
msgstr "DRBD Proxyでデバッグモードを有効にするには次のようにします。"

#. type: delimited block -
#, no-wrap
msgid "# drbd-proxy-ctl -c 'set loglevel debug'\n"
msgstr "# drbd-proxy-ctl -c 'set loglevel debug'\n"

#. type: Plain text
msgid ""
"For example, if proxy fails to connect it will log something like "
"\"Rejecting connection because I can't connect on the other side\". In that "
"case, please check if DRBD is running (not in StandAlone mode) on both nodes "
"and if both proxies are running. Also double-check your configuration."
msgstr ""
"たとえば、DRBD Proxyが接続に失敗すると、 `Rejecting connection because I "
"can't connect on the other side` というようなメッセージがログに記録されます。"
"その場合は、DRBDが(スタンドアローンモードでなく)両方のノードで動作していて、"
"両方ノードでプロキシが動作していることを確認してください。また、両方のノード"
"で設定値を確認してください。"

#~ msgid ""
#~ "** `d`: I/O blocked for a reason internal to DRBD, such as a\n"
#~ "   transient disk state.\n"
#~ "** `b`: Backing device I/O is blocking.\n"
#~ "** `n`: Congestion on the network socket.\n"
#~ "** `a`: Simultaneous combination of blocking device I/O and network "
#~ "congestion.\n"
#~ msgstr ""
#~ "** `d` : 何らかの理由でDRBD内部でI/Oがブロックされたなどの一時的な状況\n"
#~ "** `b` : 下位デバイスのI/Oがブロックされている。\n"
#~ "** `n` : ネットワークソケットの輻輳。\n"
#~ "** `a` : デバイスI/Oのブロックとネットワーク輻輳が同時に発生。\n"

#~ msgid "`WFBitMapT`"
#~ msgstr "`WFBitMapT`"

#~ msgid ""
#~ "The node 'nono' is not connected, its state is reported as "
#~ "_WFConnection_; please see <<s-connection-states>> below for more details."
#~ msgstr ""
#~ "ノード 'nono'は 接続しておらず、その状態は _WFConnection_ です。詳細は以下"
#~ "の <<s-connection-states>> を参照してください。"

#~ msgid "# drbdadm dump-md <resource> > `/tmp/metadata`\n"
#~ msgstr "# drbdadm dump-md <resource> >  `/tmp/metadata` \n"

#~ msgid ""
#~ "With DRBD-utils 8.4.4 and DRBD Proxy version 3.1.1 there is experimental "
#~ "support for a per-connection bandwidth limit in the proxy configuration "
#~ "section, via the the `bwlimit` option."
#~ msgstr ""
#~ "DRBD-utils 8.4.4とDRBD Proxy 3.1.1は、proxy configurationセクションの "
#~ "`bwlimit` オプションによって、実験的にコネクションごとの帯域幅制限をサポー"
#~ "トしています。"

#~ msgid ""
#~ "This will make the corresponding sending thread sleep a bit after sending "
#~ "a chunk of data, to use not more than (approximately) the specified "
#~ "bandwidth."
#~ msgstr ""
#~ "これは、指定した帯域幅を(概算で)超えて使用しないために、データチャンクの送"
#~ "信後に対応する送信スレッドを短時間スリープさせます。"

#~ msgid "The value `0` means _no_ limitation, and is the default."
#~ msgstr "値 `0` は無制限を意味し、これがデフォルトです。"

#~ msgid ""
#~ "\tproxy {\n"
#~ "\t\tbwlimit 2M;\n"
#~ "\t\t...\n"
#~ "\t}\n"
#~ msgstr ""
#~ "        proxy {\n"
#~ "                bwlimit 2M;\n"
#~ "                ...\n"
#~ "        }\n"

#~ msgid ""
#~ "The example above would restrict the outgoing rate over the WAN "
#~ "connection to approximately 2MiB per second, leaving room on the wire for "
#~ "other data."
#~ msgstr ""
#~ "上記の例ではWANコネクション上の外向き通信速度を毎秒2MiBに制限し、他のデー"
#~ "タが利用する余裕を確保しています。"
