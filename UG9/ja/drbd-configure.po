# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2022-04-17 10:08+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title ===
#, no-wrap
msgid "Configuring DRBD"
msgstr "DRBDの設定"

#. type: Title ====
#, no-wrap
msgid "Preparing your lower-level storage"
msgstr "下位レベルストレージの準備"

#. type: Plain text
msgid ""
"After you have installed DRBD, you must set aside a roughly identically "
"sized storage area on both cluster nodes. This will become the _lower-level "
"device_ for your DRBD resource. You may use any type of block device found "
"on your system for this purpose. Typical examples include:"
msgstr ""
"DRBDをインストールしたら、両方のクラスタノードにほぼ同じ容量の記憶領域を用意"
"する必要があります。これがDRBDリソースの _下位レベルデバイス_ になります。シ"
"ステムの任意のブロックデバイスを下位レベルデバイスとして使用できます。たとえ"
"ば、次のようなものがあります。"

#. type: Plain text
msgid "A hard drive partition (or a full physical hard drive),"
msgstr "ハードドライブのパーティション(または物理ハードドライブ全体)"

#. type: Plain text
msgid "a software RAID device,"
msgstr "ソフトウェアRAIDデバイス"

#. type: Plain text
msgid ""
"an LVM Logical Volume or any other block device configured by the Linux "
"device-mapper infrastructure,"
msgstr ""
"LVM論理ボリュームまたはLinuxデバイスマッパインフラストラクチャによって構成さ"
"れるその他のブロックデバイス"

#. type: Plain text
msgid "any other block device type found on your system."
msgstr "システム内のその他のブロックデバイス"

#. type: Plain text
msgid ""
"You may also use _resource stacking_, meaning you can use one DRBD device as "
"a lower-level device for another. Some specific considerations apply to "
"stacked resources; their configuration is covered in detail in <<s-three-"
"nodes>>."
msgstr ""
"リソースを _スタッキング(積み重ね)_ することもできます。つまり、DRBDデバイス"
"を他のDRBDデバイスの下位レベルのデバイスとして利用することができます。リソー"
"スの積み重ねにはいくつかの注意点があります。詳しくは<<s-three-nodes>>を参照く"
"ださい。"

#. type: Plain text
msgid ""
"While it is possible to use loop devices as lower-level devices for DRBD, "
"doing so is not recommended due to deadlock issues."
msgstr ""
"ループデバイスをDRBDの下位レベルデバイスとして使用することもできますが、デッ"
"ドロックの問題があるためお勧めできません。"

#. type: Plain text
msgid ""
"It is _not_ necessary for this storage area to be empty before you create a "
"DRBD resource from it. In fact it is a common use case to create a two-node "
"cluster from a previously non-redundant single-server system using DRBD "
"(some caveats apply -- please refer to <<s-metadata>> if you are planning to "
"do this)."
msgstr ""
"DRBDリソースを作成する前に、そのストレージ領域を空にしておく _必要はありませ"
"ん_ 。DRBDを使用して、非冗長のシングルサーバシステムから、2ノードのクラスタシ"
"ステムを作成することは一般的なユースケースですが、いくつか重要な注意点があり"
"ます。(その場合には<<s-metadata>>を参照ください)"

#. type: Plain text
msgid "For the purposes of this guide, we assume a very simple setup:"
msgstr "本ガイドの説明は、次のようなとてもシンプルな構成を前提としています。"

#. type: Plain text
msgid "Both hosts have a free (currently unused) partition named `/dev/sda7`."
msgstr ""
"両ホストには使用可能な(現在未使用の) `/dev/sda7` というパーティションがある。"

#. type: Plain text
msgid "We are using <<s-internal-meta-data,internal meta data>>."
msgstr "<<s-internal-meta-data,内部メタデータ>>を使用する。"

#. type: Title ====
#, no-wrap
msgid "Preparing your network configuration"
msgstr "ネットワーク構成の準備"

#. type: Plain text
msgid ""
"It is recommended, though not strictly required, that you run your DRBD "
"replication over a dedicated connection. At the time of this writing, the "
"most reasonable choice for this is a direct, back-to-back, Gigabit Ethernet "
"connection. When DRBD is run over switches, use of redundant components and "
"the _bonding_ driver (in _active-backup_ mode) is recommended."
msgstr ""
"必須要件ではありませんが、DRBDによるレプリケーションの実行には、専用接続を使"
"用することをお勧めします。この書き込みには、ギガビットイーサネット同士をケー"
"ブルで直結した接続が最適です。DRBDをスイッチを介して使用する場合には、冗長コ"
"ンポーネントと _bonding_ ドライバ( _active-backup_ モードで)の使用を推奨しま"
"す。"

#. type: Plain text
msgid ""
"It is generally not recommended to run DRBD replication via routers, for "
"reasons of fairly obvious performance drawbacks (adversely affecting both "
"throughput and latency)."
msgstr ""
"一般に、ルータを介してDRBDレプリケーションを行うことはお勧めできません。ス"
"ループットと待ち時間の両方に悪影響を及ぼし、パフォーマンスが大幅に低下しま"
"す。"

#. type: Plain text
msgid ""
"In terms of local firewall considerations, it is important to understand "
"that DRBD (by convention) uses TCP ports from 7788 upwards, with every "
"resource listening on a separate port. DRBD uses _two_ TCP connections for "
"every resource configured. For proper DRBD functionality, it is required "
"that these connections are allowed by your firewall configuration."
msgstr ""
"ローカルファイアウォールの要件として重要な点は、通常、DRBDは7788以上のTCPポー"
"トを使用し、それぞれのTCPリソースが個別のTCPポート上で待機するということで"
"す。DRBDは _2つ_ のTCP接続を使用します。これらの接続が許可されるようにファイ"
"アウォールを設定する必要があります。"

#. type: Plain text
msgid ""
"Security considerations other than firewalling may also apply if a Mandatory "
"Access Control (MAC) scheme such as SELinux or AppArmor is enabled. You may "
"have to adjust your local security policy so it does not keep DRBD from "
"functioning properly."
msgstr ""
"SELinuxやAppArmorなどのMAC (Mandatory Access Control)スキーマが有効な場合は、"
"ファイアウォール以外のセキュリティ要件も考慮する場合があります。DRBDが正しく"
"機能するように、 必要に応じてローカルセキュリティポリシーを調整してください。"

#. type: Plain text
msgid ""
"You must, of course, also ensure that the TCP ports for DRBD are not already "
"used by another application."
msgstr ""
"また、DRBDに使用するTCPポートを別のアプリケーションが使用していないことも確認"
"してください。"

#. type: Plain text
msgid ""
"It is not (yet) possible to configure a DRBD resource to support more than "
"one TCP connection pair. If you want to provide for DRBD connection load-"
"balancing or redundancy, you can easily do so at the Ethernet level (again, "
"using the _bonding_ driver)."
msgstr ""
"現時点では1つのDRBDリソースに複数のTCPコネクション・ペアを設定することはでき"
"ません。DRBD接続に負荷分散や冗長性が必要な場合は、イーサネットレベルで簡単に"
"実現できます(この場合も _bonding_ ドライバを使用してください)。"

#. type: Plain text
msgid ""
"Our two DRBD hosts each have a currently unused network interface, `eth1`, "
"with IP addresses `10.1.1.31` and `10.1.1.32` assigned to it, respectively."
msgstr ""
"2つのDRBDホストそれぞれに、現在使用されていないネットワークインタフェース "
"`eth1` が存在する(IPアドレスはそれぞれ `10.1.1.31` と `10.1.1.32` )。"

#. type: Plain text
msgid "No other services are using TCP ports 7788 through 7799 on either host."
msgstr "どちらのホストでも他のサービスがTCPポート7788〜7799を使用していない。"

#. type: Plain text
msgid ""
"The local firewall configuration allows both inbound and outbound TCP "
"connections between the hosts over these ports."
msgstr ""
"ローカルファイアウォール設定は、これらのポートを介したホスト間のインバウンド"
"とアウトバウンドの両方のTCP接続を許可する。"

#. type: Title ====
#, no-wrap
msgid "Configuring your resource"
msgstr "リソースの設定"

#. type: Plain text
msgid ""
"All aspects of DRBD are controlled in its configuration file, `/etc/drbd."
"conf`. Normally, this configuration file is just a skeleton with the "
"following contents:"
msgstr ""
"DRBDのすべての機能は、設定ファイル `/etc/drbd.conf` で制御されます。通常、こ"
"の設定ファイルは、次のような内容となっています。"

#. type: delimited block -
#, no-wrap
msgid ""
"include \"/etc/drbd.d/global_common.conf\";\n"
"include \"/etc/drbd.d/*.res\";\n"
msgstr ""
"include \"/etc/drbd.d/global_common.conf\";\n"
"include \"/etc/drbd.d/*.res\";\n"

#. type: Plain text
msgid ""
"By convention, `/etc/drbd.d/global_common.conf` contains the <<s-drbdconf-"
"global,`global`>> and <<s-drbdconf-common,`common`>> sections of the DRBD "
"configuration, whereas the `.res` files contain one <<s-drbdconf-resource,"
"`resource`>> section each."
msgstr ""
"通例では、`/etc/drbd.d/global_common.conf` にはDRBD設定の <<s-drbdconf-"
"global, `global`>> と <<s-drbdconf-common, `common`>> セクションが含まれま"
"す。また、 `.res` ファイルには各 <<s-drbdconf-resource, `リソース`>> セクショ"
"ンが含まれます。"

#. type: Plain text
msgid ""
"It is also possible to use `drbd.conf` as a flat configuration file without "
"any `include` statements at all. Such a configuration, however, quickly "
"becomes cluttered and hard to manage, which is why the multiple-file "
"approach is the preferred one."
msgstr ""
"`drbd.conf` に `include` ステートメントを使用せずにすべての設定を記載すること"
"も可能です。しかし、設定の見やすさの観点から、複数のファイルに分割することを"
"お勧めします。"

#. type: Plain text
msgid ""
"Regardless of which approach you employ, you should always make sure that "
"`drbd.conf`, and any other files it includes, are _exactly identical_ on all "
"participating cluster nodes."
msgstr ""
"いずれにしても `drbd.conf` や、その他の設定ファイルは、すべてのクラスタノード"
"で `正確に同じ` である必要があります。"

#. type: Plain text
msgid ""
"The DRBD source tarball contains an example configuration file in the "
"`scripts` subdirectory. Binary installation packages will either install "
"this example configuration directly in `/etc`, or in a package-specific "
"documentation directory such as `/usr/share/doc/packages/drbd`."
msgstr ""
"DRBDのソースtarファイルの `scripts` サブディレクトリに、サンプル設定ファイル"
"があります。バイナリインストールパッケージの場合、サンプル設定ファイルは直接 "
"`/etc` にインストールされるか、 `/usr/share/doc/packages/drbd` などのパッケー"
"ジ固有の文書ディレクトリにインストールされます。"

#. type: Plain text
msgid ""
"This section describes only those few aspects of the configuration file "
"which are absolutely necessary to understand in order to get DRBD up and "
"running. The configuration file's syntax and contents are documented in "
"great detail in the man page of `drbd.conf`."
msgstr ""
"このセクションは、DRBDを稼働させるために理解しておく必要のある設定ファイルの"
"項目についての説明です。設定ファイルの構文と内容の詳細については `drbd.conf` "
"マニュアルページを参照ください。"

#. type: Title =====
#, no-wrap
msgid "Example configuration"
msgstr "設定例"

#. type: Plain text
msgid ""
"For the purposes of this guide, we assume a minimal setup in line with the "
"examples given in the previous sections:"
msgstr ""
"本ガイドでの説明は、前章であげた例をもとにする最小限の構成を前提にしていま"
"す。"

#. type: Block title
#, no-wrap
msgid "Simple DRBD configuration (`/etc/drbd.d/global_common.conf`)"
msgstr "シンプルなDRBD構成例 (`/etc/drbd.d/global_common.conf`)"

#. type: delimited block -
#, no-wrap
msgid ""
"global {\n"
"  usage-count yes;\n"
"}\n"
"common {\n"
"  net {\n"
"    protocol C;\n"
"  }\n"
"}\n"
msgstr ""
"global {\n"
"  usage-count yes;\n"
"}\n"
"common {\n"
"  net {\n"
"    protocol C;\n"
"  }\n"
"}\n"

#. type: Block title
#, no-wrap
msgid "Simple DRBD resource configuration (`/etc/drbd.d/r0.res`)"
msgstr "シンプルなDRBDリソースの構成例 (`/etc/drbd.d/r0.res`)"

#. type: delimited block -
#, no-wrap
msgid ""
"resource \"r0\" {\n"
"  device minor 1;\n"
"  disk \"/dev/sda7\";\n"
"  meta-disk internal;\n"
msgstr ""
"resource \"r0\" {\n"
"  device minor 1;\n"
"  disk \"/dev/sda7\";\n"
"  meta-disk internal;\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  on \"alice\" {\n"
"    node-id 0;\n"
"  }\n"
"  on \"bob\" {\n"
"    node-id 1;\n"
"  }\n"
"  connection {\n"
"    host \"alice\" address 10.1.1.31:7789;\n"
"    host \"bob\" address 10.1.1.32:7789;\n"
"  }\n"
"}\n"
msgstr ""
"  on \"alice\" {\n"
"    node-id 0;\n"
"  }\n"
"  on \"bob\" {\n"
"    node-id 1;\n"
"  }\n"
"  connection {\n"
"    host \"alice\" address 10.1.1.31:7789;\n"
"    host \"bob\" address 10.1.1.32:7789;\n"
"  }\n"
"}\n"

#. type: Plain text
msgid "This example configures DRBD in the following fashion:"
msgstr "この例では、DRBDが次のように設定されます。"

#. type: Plain text
msgid ""
"You \"opt in\" to be included in DRBD's usage statistics (see <<fp-usage-"
"count>>)."
msgstr "DRBDの使用状況の統計をオプトインとして含める(<<fp-usage-count>>参照)。"

#. type: Plain text
msgid ""
"Resources are configured to use fully synchronous replication (<<s-"
"replication-protocols,Protocol C>>) unless explicitly specified otherwise."
msgstr ""
"特に他の指定がない限り完全に同期したレプリケーションを使用するようにリソース"
"を設定する(<<s-replication-protocols,プロトコルC>>)。"

#. type: Plain text
msgid "Our cluster consists of two nodes, 'alice' and 'bob'."
msgstr "クラスタには2つのノード `alice` と `bob` がある。"

#. type: Plain text
msgid ""
"We have a resource arbitrarily named `r0` which uses `/dev/sda7` as the "
"lower-level device, and is configured with <<s-internal-meta-data,internal "
"meta data>>."
msgstr ""
"`r0` という名前のリソース(名前は自由に設定可能)があり `/dev/sda7` を下位レベ"
"ルデバイスとして使用し、また、<<s-internal-meta-data,内部メタデータ>>を構成す"
"る。"

#. type: Plain text
msgid ""
"The resource uses TCP port 7789 for its network connections, and binds to "
"the IP addresses 10.1.1.31 and 10.1.1.32, respectively."
msgstr ""
"リソースはネットワーク接続にTCPポート7789を使用し、それぞれIPアドレス"
"10.1.1.31と10.1.1.32にバインドされる"

#. type: Plain text
msgid ""
"The configuration above implicitly creates one volume in the resource, "
"numbered zero (`0`). For multiple volumes in one resource, modify the syntax "
"as follows (assuming that the same lower-level storage block devices are "
"used on both nodes):"
msgstr ""
"暗黙的に、上記の設定はリソースの1つのボリュームを作成し、番号 `ゼロ(0)` が付"
"与されます。1つのリソースに複数のボリュームを設定する場合には、次のようにしま"
"す(両ノードで下位デバイスとして同レベルでストレージブロックデバイスを使用する"
"場合)。"

#. type: Block title
#, no-wrap
msgid "Multi-volume DRBD resource configuration (`/etc/drbd.d/r0.res`)"
msgstr "複数ボリュームのDRBDリソース構成例(`/etc/drbd.d/r0.res`)"

#. type: delimited block -
#, no-wrap
msgid ""
"resource \"r0\" {\n"
"  volume 0 {\n"
"    device minor 1;\n"
"    disk \"/dev/sda7\";\n"
"    meta-disk internal;\n"
"  }\n"
"  volume 1 {\n"
"    device minor 2;\n"
"    disk \"/dev/sda8\";\n"
"    meta-disk internal;\n"
"  }\n"
"  on \"alice\" {\n"
"    node-id 0;\n"
"  }\n"
"  on \"bob\" {\n"
"    node-id 1;\n"
"    volume 1 {\n"
"      disk \"/dev/sda9\";\n"
"    }\n"
"  }\n"
"  connection {\n"
"    host \"alice\" address 10.1.1.31:7789;\n"
"    host \"bob\" address 10.1.1.32:7789;\n"
"  }\n"
"}\n"
msgstr ""
"resource \"r0\" {\n"
"  volume 0 {\n"
"    device minor 1;\n"
"    disk \"/dev/sda7\";\n"
"    meta-disk internal;\n"
"  }\n"
"  volume 1 {\n"
"    device minor 2;\n"
"    disk \"/dev/sda8\";\n"
"    meta-disk internal;\n"
"  }\n"
"  on \"alice\" {\n"
"    node-id 0;\n"
"  }\n"
"  on \"bob\" {\n"
"    node-id 1;\n"
"    volume 1 {\n"
"      disk \"/dev/sda9\";\n"
"    }\n"
"  }\n"
"  connection {\n"
"    host \"alice\" address 10.1.1.31:7789;\n"
"    host \"bob\" address 10.1.1.32:7789;\n"
"  }\n"
"}\n"

#. type: Plain text
msgid ""
"Host sections ('on' keyword) inherit _volume_ sections from the resource "
"level. They may contain _volume_ themselves, these values have precedence "
"over inherited values."
msgstr ""
"ホストセクション（'on' キーワード）は、リソースレベルから _volume_ セクション"
"を継承します。それには _volume_ 自体が含まれる場合があり、この値は継承された"
"値よりも優先されます。"

#. type: Plain text
msgid ""
"Volumes may also be added to existing resources on the fly. For an example "
"see <<s-lvm-add-pv>>."
msgstr ""
"ボリュームは既存のデバイスの動作中にも追加できます。<<s-lvm-add-pv>>をご参照"
"ください。"

#. type: Plain text
msgid ""
"For compatibility with older releases of DRBD it supports also drbd-8.4 like "
"configuration files."
msgstr ""
"DRBD の古いリリースとの互換性のために、drbd-8.4 の構成ファイルもサポートしま"
"す。"

#. type: Block title
#, no-wrap
msgid "An old(8.4) style configuration file"
msgstr "古い（8.4）スタイルの構成ファイル"

#. type: delimited block -
#, no-wrap
msgid ""
"resource r0 {\n"
"  on alice {\n"
"    device    /dev/drbd1;\n"
"    disk      /dev/sda7;\n"
"    meta-disk internal;\n"
"    address 10.1.1.31:7789;\n"
"  }\n"
"  on bob {\n"
"    device    /dev/drbd1;\n"
"    disk      /dev/sda7;\n"
"    meta-disk internal;\n"
"    address   10.1.1.32:7789;\n"
"  }\n"
msgstr ""
"resource r0 {\n"
"  on alice {\n"
"    device    /dev/drbd1;\n"
"    disk      /dev/sda7;\n"
"    meta-disk internal;\n"
"    address 10.1.1.31:7789;\n"
"  }\n"
"  on bob {\n"
"    device    /dev/drbd1;\n"
"    disk      /dev/sda7;\n"
"    meta-disk internal;\n"
"    address   10.1.1.32:7789;\n"
"  }\n"

#. type: Plain text
msgid ""
"Strings that do not contain keywords, might be gives without double quotes `"
"\"`."
msgstr ""
"キーワードを含まない文字列は、二重引用符 `\"` なしで指定される場合がありま"
"す。"

#. type: Plain text
msgid ""
"The old version to specify the device, was to give a string containing the "
"name of the resulting device file."
msgstr "古いバージョンのデバイス指定は、デバイスファイル名を与えることでした。"

#. type: Plain text
msgid "Two node configurations get node numbers assigned by drbdadm."
msgstr "2 ノード構成は、drbdadm によって割り当てられたノード番号を使用します。"

#. type: Plain text
msgid "A pure two node configuration gets an implicit connection."
msgstr "純粋な 2 ノード構成は暗黙的な connection を使用します。"

#. type: Title =====
#, no-wrap
msgid "The `global` section"
msgstr "`global` セクション"

#. type: Plain text
msgid ""
"This section is allowed only once in the configuration. It is normally in "
"the `/etc/drbd.d/global_common.conf` file. In a single-file configuration, "
"it should go to the very top of the configuration file. Of the few options "
"available in this section, only one is of relevance to most users:"
msgstr ""
"このセクションは設定の中で1回しか使用できません。通常この設定は `/etc/drbd.d/"
"global_common.conf` ファイルに記述します。設定ファイルが1つの場合は、設定ファ"
"イルの一番上に記述します。このセクションで使用できるオプションはわずかです"
"が、ほとんどのユーザーの場合、必要なのは次の1つだけです。"

#. type: Block title
#, no-wrap
msgid "`usage-count`"
msgstr "`usage-count`"

#. type: Plain text
msgid ""
"The DRBD project keeps statistics about the usage of various DRBD versions. "
"This is done by contacting an HTTP server every time a new DRBD version is "
"installed on a system. This can be disabled by setting `usage-count no;`.  "
"The default is `usage-count ask;` which will prompt you every time you "
"upgrade DRBD."
msgstr ""
"DRBDプロジェクトはさまざまなバージョンのDRBDの使用状況について統計を取りま"
"す。これは、システムに新規のDRBDバージョンがインストールされるたびに、HTTP"
"サーバに接続することにより実行されます。これを無効にするには、 `usage-count "
"no;` を指定します。デフォルトは `usage-count ask;` で、 DRBDをアップグレード"
"するたびにプロンプトが表示されます。"

#. type: Plain text
msgid ""
"DRBD's usage statistics are, of course, publicly available: see http://usage."
"drbd.org."
msgstr ""
"DRBDの使用状況の統計は公開されています。http://usage.drbd.orgを参照ください。"

#. type: Title =====
#, no-wrap
msgid "The `common` section"
msgstr "`common` セクション"

#. type: Plain text
msgid ""
"This section provides a shorthand method to define configuration settings "
"inherited by every resource. It is normally found in `/etc/drbd.d/"
"global_common.conf`. You may define any option you can also define on a per-"
"resource basis."
msgstr ""
"このセクションで、各リソースに継承される設定を簡単に定義できます。通常この設"
"定は `/etc/drbd.d/global_common.conf` に指定します。ここで定義するオプション"
"は、リソースごとに定義することもできます。"

#. type: Plain text
msgid ""
"Including a `common` section is not strictly required, but strongly "
"recommended if you are using more than one resource. Otherwise, the "
"configuration quickly becomes convoluted by repeatedly-used options."
msgstr ""
"`common` セクションは必須ではありませんが、複数のリソースを使用する場合は、記"
"述することを強くお勧めします。これにより、オプションを繰り返し使用することに"
"よって設定が複雑になることを回避できます。"

#. type: Plain text
msgid ""
"In the example above, we included `net { protocol C; }` in the `common` "
"section, so every resource configured (including `r0`)  inherits this option "
"unless it has another `protocol` option configured explicitly. For other "
"synchronization protocols available, see <<s-replication-protocols>>."
msgstr ""
"上の例では `net { protocol C; }` が `common` セクションで指定されているため、"
"設定されているすべてのリソース( `r0` 含む)がこのオプションを継承します。ただ"
"し、明示的に別の `protocol` オプションが指定されている場合は除きます。使用可"
"能なその他の同期プロトコルについては、<<s-replication-protocols>>を参照してく"
"ださい。"

#. type: Title =====
#, no-wrap
msgid "The `resource` sections"
msgstr "`resource` セクション"

#. type: Plain text
msgid ""
"A per-resource configuration file is usually named `/etc/drbd.d/__resource__."
"res`.  Any DRBD resource you define must be named by specifying a resource "
"name in the configuration. The convention is to use only letters, digits, "
"and the underscore; while it is technically possible to use other characters "
"as well, you won't like the result if you ever need the more specific "
"`__resource__:___peer__/__volume__` syntax."
msgstr ""
"各リソースの設定ファイルは、通常 `/etc/drbd.d/resource.res` という名前にしま"
"す。定義するDRBDリソースは、設定ファイルでresource nameを指定して名前を付ける"
"必要があります。通常は文字または数字、アンダースコアのみを使用します。他の文"
"字を使用することも技術的には可能ですが、より具体的な `__resource__:___peer__/"
"__volume__` の構文が必要になった場合、うまくいかないでしょう。"

#. type: Plain text
msgid ""
"Every resource configuration must also have at least two `on _host_` sub-"
"sections, one for every cluster node. All other configuration settings are "
"either inherited from the `common` section (if it exists), or derived from "
"DRBD's default settings."
msgstr ""
"各リソースには各クラスタノードに最低2つの `on <host>` サブセクションも必要で"
"す。その他すべての設定は `common` セクション(記述した場合)から継承されるか、"
"DRBDのデフォルト設定から取得されます。"

#. type: Plain text
msgid ""
"In addition, options with equal values on all hosts can be specified "
"directly in the `resource` section. Thus, we can further condense our "
"example configuration as follows:"
msgstr ""
"さらに、オプションの値が両方のホストで等しい場合は、直接 `resource` セクショ"
"ンで指定することができます。このため、設定例は次のように短くすることができま"
"す。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource \"r0\" {\n"
"  device minor 1;\n"
"  disk \"/dev/sda7\";\n"
"  meta-disk internal;\n"
"  on \"alice\" {\n"
"    address   10.1.1.31:7789;\n"
"  }\n"
"  on \"bob\" {\n"
"    address   10.1.1.32:7789;\n"
"  }\n"
"}\n"
msgstr ""
"resource \"r0\" {\n"
"  device minor 1;\n"
"  disk \"/dev/sda7\";\n"
"  meta-disk internal;\n"
"  on \"alice\" {\n"
"    address   10.1.1.31:7789;\n"
"  }\n"
"  on \"bob\" {\n"
"    address   10.1.1.32:7789;\n"
"  }\n"
"}\n"

#. type: Title ====
#, no-wrap
msgid "Defining network connections"
msgstr "ネットワークコネクションの定義"

#. type: Plain text
msgid ""
"Currently the communication links in DRBD 9 must build a full mesh, i.e. in "
"every resource every node must have a direct connection to every other node "
"(excluding itself, of course)."
msgstr ""
"現時点では、DRBD9の通信リンクはフルメッシュである必要があります。つまり、全リ"
"ソース全ノードが他の全ノードに直接のコネクションを持っている必要があります(当"
"然、自ノードに対しては不要です)。"

#. type: Plain text
msgid ""
"For the simple case of two hosts `drbdadm` will insert the (single) network "
"connection by itself, for ease of use and backwards compatibility."
msgstr ""
"ホスト2台のシンプルな構成の場合、使い勝手と後方互換性のため、`drbdadm` は(1つ"
"の)ネットワークコネクションを自身で挿入します。"

#. type: Plain text
msgid ""
"The net effect of this is a quadratic number of network connections over "
"hosts. For the \"traditional\" two nodes one connection is needed; for three "
"hosts there are three node pairs; for four, six pairs; 5 hosts: 10 "
"connections, and so on. For (the current)  maximum of 16 nodes there'll be "
"120 host pairs to connect."
msgstr ""
"必要なネットワークコネクション数はホスト数の二次関数です。\"従来の\"2ノードで"
"は1コネクションが必要でしたが、3つのホストでは3対、4つのホストでは6対、5つの"
"ホストでは10対のコネクションが…というように必要になってきます。32ノードであれ"
"ば496対のコネクションが必要になります。"

#. type: Block title
#, no-wrap
msgid "Number of connections for _N_ hosts"
msgstr "_N_ 個のホストの時のコネクション数"

#. type: Target for macro image
#, no-wrap
msgid "images/connection-mesh.svg"
msgstr "images/connection-mesh.svg"

#. type: Plain text
msgid "An example configuration file for three hosts would be this:"
msgstr "以下は3つのホストでの設定ファイルの例です。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource r0 {\n"
"  device    minor 1;\n"
"  disk      \"/dev/sda7\";\n"
"  meta-disk internal;\n"
"  on alice {\n"
"    address   10.1.1.31:7000;\n"
"    node-id   0;\n"
"  }\n"
"  on bob {\n"
"    address   10.1.1.32:7000;\n"
"    node-id   1;\n"
"  }\n"
"  on charlie {\n"
"    address   10.1.1.33:7000;\n"
"    node-id   2;\n"
"  }\n"
"  connection-mesh {\n"
"    hosts alice bob charlie;\n"
"  }\n"
"}\n"
msgstr ""
"resource r0 {\n"
"  device    minor 1;\n"
"  disk      \"/dev/sda7\";\n"
"  meta-disk internal;\n"
"  on alice {\n"
"    address   10.1.1.31:7000;\n"
"    node-id   0;\n"
"  }\n"
"  on bob {\n"
"    address   10.1.1.32:7000;\n"
"    node-id   1;\n"
"  }\n"
"  on charlie {\n"
"    address   10.1.1.33:7000;\n"
"    node-id   2;\n"
"  }\n"
"  connection-mesh {\n"
"    hosts alice bob charlie;\n"
"  }\n"
"}\n"

#. type: Plain text
msgid ""
"If you have enough network cards in your servers, you can create direct "
"cross-over links between server pairs.  A single four-port ethernet card "
"allows you to have a single management interface, and to connect three other "
"servers, to get a full mesh for four cluster nodes."
msgstr ""
"サーバに十分なネットワークカードがあれば、サーバ間をクロスケーブルで直結でき"
"ます。 1つ4ポートのイーサネットカードであれば、4ノードのフルメッシュにするた"
"めに1つの管理インターフェースと3つの他サーバへの接続を行うことができます。"

#. type: Plain text
msgid ""
"In this case you can specify a different IP address to use the direct link:"
msgstr "この場合には直接接続に異なるIPアドレスを指定することができます。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource r0 {\n"
"  ...\n"
"  connection {\n"
"    host alice   address 10.1.2.1:7010;\n"
"    host bob     address 10.1.2.2:7001;\n"
"  }\n"
"  connection {\n"
"    host alice   address 10.1.3.1:7020;\n"
"    host charlie address 10.1.3.2:7002;\n"
"  }\n"
"  connection {\n"
"    host bob     address 10.1.4.1:7021;\n"
"    host charlie address 10.1.4.2:7012;\n"
"  }\n"
"}\n"
msgstr ""
"resource r0 {\n"
"  ...\n"
"  connection {\n"
"    host alice   address 10.1.2.1:7010;\n"
"    host bob     address 10.1.2.2:7001;\n"
"  }\n"
"  connection {\n"
"    host alice   address 10.1.3.1:7020;\n"
"    host charlie address 10.1.3.2:7002;\n"
"  }\n"
"  connection {\n"
"    host bob     address 10.1.4.1:7021;\n"
"    host charlie address 10.1.4.2:7012;\n"
"  }\n"
"}\n"

#. type: Plain text
msgid ""
"For easier maintenance and debugging, it’s recommended that you use different "
"ports for each endpoint. This will allow you to more easily associate packets "
"to an endpoint when doing a `tcpdump`."
msgstr ""
"管理とデバッグを容易にするため、エンドポイントごとに異なるポートを使用するこ"
"とをお勧めします。 `tcpdump` 使用の際にパケットの追跡が容易になります。"

#. type: Plain text
msgid ""
"The examples below will still be using two servers only; please see "
"<<s-4node-example>> for a four-node example."
msgstr ""
"以下の例は2サーバのみで使用するものです。4ノードでの例は<<s-4node-example>>を"
"参照ください。"

#. type: Title ====
#, no-wrap
msgid "Configuring transport implementations"
msgstr "トランスポートプロトコルの設定"

#. type: Plain text
msgid ""
"DRBD allows configuring multiple paths per connection, by introducing "
"multiple path sections in a connection. Please see the following example:"
msgstr ""
"DRBD は、connection に複数の path セクションを使用することで、connection ごと"
"に複数の path を構成できます。次の例を参照してください。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource> {\n"
"  ...\n"
"  connection {\n"
"    path {\n"
"      host alpha address 192.168.41.1:7900;\n"
"      host bravo address 192.168.41.2:7900;\n"
"    }\n"
"    path {\n"
"      host alpha address 192.168.42.1:7900;\n"
"      host bravo address 192.168.42.2:7900;\n"
"    }\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource> {\n"
"  ...\n"
"  connection {\n"
"    path {\n"
"      host alpha address 192.168.41.1:7900;\n"
"      host bravo address 192.168.41.2:7900;\n"
"    }\n"
"    path {\n"
"      host alpha address 192.168.42.1:7900;\n"
"      host bravo address 192.168.42.2:7900;\n"
"    }\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid ""
"Obviously the two endpoint hostnames need to be equal in all paths of a "
"connection. Paths may be on different IPs (potentially different NICs) or may "
"only be on different ports."
msgstr ""
"2 つのエンドポイントホスト名は connection の path 内で同じである必要がありま"
"す。path は異なる IP（潜在的に異なるNIC）上にある場合もあれば、異なるポート上"
"のみである場合もあります。"

#. type: Plain text
msgid ""
"The TCP transport uses one path at a time. If the backing TCP "
"connections get dropped, or show timeouts, the TCP transport implementation "
"tries to establish a connection over the next path. It goes over all paths "
"in a round-robin fashion until a connection gets established."
msgstr ""
"TCP トランスポートは、一度に1つの path を使用します。使用中の TCP 接続がダウ"
"ンした場合、またはタイムアウトになった場合、次の path に接続を確立しようとし"
"ます。接続が確立されるまで、ラウンドロビン方式ですべての path を試みます。"

#. type: Plain text
msgid ""
"The RDMA transport uses all paths of a connection concurrently and it "
"balances the network traffic between the paths evenly."
msgstr ""
"RDMA トランスポートは、connection のすべての path を同時に使用し、path 間の"
"ネットワークトラフィックを均等に分散します。"

#. type: Plain text
msgid ""
"DRBD supports multiple network transports. A transport implementation can be "
"configured for each connection of a resource."
msgstr ""
"DRBDは複数のネットワーク転送プロトコルに対応しています。 トランスポートプロト"
"コルの設定はリソースの各コネクションごとに設定できます。"

#. type: Title =====
#, no-wrap
msgid "TCP/IP"
msgstr "TCP/IP"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource> {\n"
"  net {\n"
"    transport \"tcp\";\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource> {\n"
"  net {\n"
"    transport \"tcp\";\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid ""
"`tcp` is the default transport. Each connection that lacks a transport "
"option uses the `tcp` transport."
msgstr ""
"デフォルトは `tcp` です。トランスポートオプションを設定していない場合は "
"`TCP` トランスポートが使用されます。"

#. type: Plain text
msgid ""
"The `tcp` transport can be configured with the net options: `sndbuf-size`, "
"`rcvbuf-size`, `connect-int`, `sock-check-timeo`, `ping-timeo`, `timeout`."
msgstr ""
"`tcp` トランスポートオプションでは次のnetオプションが設定できます。 `sndbuf-"
"size` 、 `rcvbuf-size` 、 `connect-int` 、 ` sock-check-timeo` 、 `ping-"
"timeo` 、 `timeout` 。"

#. type: Title =====
#, no-wrap
msgid "RDMA"
msgstr "RDMA"

#. type: delimited block -
#, no-wrap
msgid ""
"resource <resource> {\n"
"  net {\n"
"    transport \"rdma\";\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource> {\n"
"  net {\n"
"    transport \"rdma\";\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
msgid ""
"The `rdma` transport can be configured with the net options: `sndbuf-size`, "
"`rcvbuf-size`, `max_buffers`, `connect-int`, `sock-check-timeo`, `ping-"
"timeo`, `timeout`."
msgstr ""
"`rdma` トランスポートでは次のnetオプションが設定できます。 `sndbuf-size` 、 "
"`rcvbuf-size` 、 `max_buffers` 、 `connect-int` 、 `sock-check-timeo` 、 "
"`ping-timeo` 、 `timeout` 。"

#. type: Plain text
msgid ""
"The `rdma` transport is a zero-copy-receive transport. One implication of "
"that is that the `max_buffers` configuration options must be set to a value "
"big enough to hold all `rcvbuf-size`."
msgstr ""
"`rdma` トランスポートはゼロコピーレシーブ転送です。その関係で、 "
"`max_buffers` の設定オプションはすべての `rcvbuf-size` を保存するのに十分なサ"
"イズにする必要があります。"

#. type: Plain text
msgid ""
"`rcvbuf-size` is configured in bytes, while `max_buffers` is configured in "
"pages. For optimal performance `max_buffers` should be big enough to hold "
"all of `rcvbuf-size` and the amount of data that might be in flight to the "
"backend device at any point in time."
msgstr ""
"`rcvbuf-size` はバイト単位で設定しますが、 `max_buffers` はページ単位で設定し"
"ます。パフォーマンス最適化のためには、 `max_buffers` はすべての `rcvbuf-"
"size` と、下位デバイスとの間の全通信量を合わせたものよりも大きい必要がありま"
"す。"

#. type: Plain text
msgid ""
"In case you are using InfiniBand HCAs with the `rdma` transport, you need to "
"configure IPoIB as well. The IP address is not used for data transfer, but "
"it is used to find the right adapters and ports while establishing the "
"connection."
msgstr ""
"InfiniBand HCAで `rdma` トランスポートを使っている場合、IPoIBも設定する必要が"
"あります。IPアドレスはデータ転送では使用しませんが、コネクションを確立する際"
"に正しいアダプタとポートを見つけるために使用します。"

#. type: Plain text
msgid ""
"The configuration options `sndbuf-size`, `rcvbuf-size` are only considered "
"at the time a connection is established. I.e. you can change them while the "
"connection is established. They will take effect in the moment the "
"connection is re-established."
msgstr ""
"設定オプションの `sndbuf-size` と `rcvbuf-size` はコネクションが確立される時"
"に考慮されます。つまり、接続が確立している時は変更する事ができますが、その変"
"更が反映されるのは、再接続後になります。"

#. type: Title =====
#, no-wrap
msgid "Performance considerations for RDMA"
msgstr "RDMAのパフォーマンスにおける考慮事項"

#. type: Plain text
msgid ""
"By looking at the pseudo file _/sys/kernel/debug/drbd/<resource>/connections/"
"<peer>/transport_, the counts of available receive descriptors (rx_desc) and "
"transmit descriptors (tx_desc)  can be monitored. If one of the "
"descriptor kinds becomes depleted you should increase `sndbuf-size` or "
"`rcvbuf-size`."
msgstr ""
"擬似ファイル/sys/kernel/debug/drbd/<リソース>/connections/<対向ノード>/"
"transportを見れば、使用可能な受信識別子(rx_desc)と送信識別子(tx_desc)の数を監"
"視できます。識別子が枯渇した場合には `sndbuf-size` または `rcvbuf-size` を増"
"やす必要があります。"

#. type: Title ====
#, no-wrap
msgid "Enabling your resource for the first time"
msgstr "リソースを初めて有効にする"

#. type: Plain text
msgid ""
"After you have completed initial resource configuration as outlined in the "
"previous sections, you can bring up your resource."
msgstr ""
"すでに述べた手順に従って最初のリソース設定を完了したら、リソースを稼働させま"
"す。"

#. type: Plain text
msgid "Each of the following steps must be completed on both nodes."
msgstr "両方のノードに対して、次の手順を行います。"

#. type: Plain text
msgid ""
"Please note that with our example config snippets (`resource r0 { ... }`), "
"`<resource>` would be `r0`."
msgstr ""
"さきほどの構成例( `resource r0{ … }` )では、 `<resource>` は `r0` となりま"
"す。"

#. type: Block title
#, no-wrap
msgid "Create device metadata"
msgstr "メタデータを作成する"

#. type: Plain text
msgid ""
"This step must be completed only on initial device creation. It initializes "
"DRBD's metadata:"
msgstr ""
"この手順は、最初にデバイスを作成するときにのみ必要です。これにより、DRBDのメ"
"タデータを初期化します。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm create-md <resource>\n"
"v09 Magic number not found\n"
"Writing meta data...\n"
"initialising activity log\n"
"NOT initializing bitmap\n"
"New drbd meta data block successfully created.\n"
msgstr ""
"# drbdadm create-md <resource>\n"
"v09 Magic number not found\n"
"Writing meta data...\n"
"initialising activity log\n"
"NOT initializing bitmap\n"
"New drbd meta data block successfully created.\n"

#. type: Plain text
msgid ""
"Please note that the number of bitmap slots that are allocated in the meta-"
"data depends on the number of hosts for this resource; per default the hosts "
"in the resource configuration are counted.  If all hosts are specified "
"_before_ creating the meta-data, this will \"just work\"; adding bitmap "
"slots for further nodes is possible later, but incurs some manual work."
msgstr ""
"メタデータに割り当てられるビットマップスロットの数はリソースのホストの数に依"
"存します。 デフォルトではリソース設定のホストの数をカウントします。 メタデー"
"タの作成前にすべてのホストが指定されていれば、そのまま動作します。後から追加"
"ノード用のビットマップを付け足すことも可能ですが、手動での作業が必要になりま"
"す。"

#. type: Block title
#, no-wrap
msgid "Enable the resource"
msgstr "リソースを有効にする"

#. type: Plain text
msgid ""
"This step associates the resource with its backing device (or devices, in "
"case of a multi-volume resource), sets replication parameters, and connects "
"the resource to its peer:"
msgstr ""
"これにより、リソースとその下位デバイス(マルチボリュームリソースの場合は、すべ"
"てのデバイス)とを結びつけます。また、対向ノードのリソースと接続します。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm up <resource>\n"
msgstr "# drbdadm up <resource>\n"

#. type: Block title
#, no-wrap
msgid "Observe the status via `drbdadm status`"
msgstr "`drbdadm status` でステータスを確認する"

#. type: Plain text
msgid ""
"``drbdsetup``'s status output should now contain information similar to the "
"following:"
msgstr "`drbdsetup` のステータス出力は次のような情報を表示します。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm status r0\n"
"r0 role:Secondary\n"
"  disk:Inconsistent\n"
"  bob role:Secondary\n"
"    disk:Inconsistent\n"
msgstr ""
"# drbdadm status r0\n"
"r0 role:Secondary\n"
"  disk:Inconsistent\n"
"  bob role:Secondary\n"
"    disk:Inconsistent\n"

#. type: Plain text
msgid "The _Inconsistent/Inconsistent_ disk state is expected at this point."
msgstr ""
"この時点では `Inconsistent/Inconsistent` のディスク状態になっているはずです。"

#. type: Plain text
msgid ""
"By now, DRBD has successfully allocated both disk and network resources and "
"is ready for operation. What it does not know yet is which of your nodes "
"should be used as the source of the initial device synchronization."
msgstr ""
"これで、DRBDがディスクリソースとネットワークリソースに正しく割り当てられ、稼"
"働できるようになりました。次に、どちらのノードをデバイスの初期同期のソースと"
"して使用するか指定する必要があります。"

#. type: Title ====
#, no-wrap
msgid "The initial device synchronization"
msgstr "デバイスの初期同期"

#. type: Plain text
msgid "There are two more steps required for DRBD to become fully operational:"
msgstr "DRBDを完全に機能させるには、さらに次の2つの手順が必要です。"

#. type: Block title
#, no-wrap
msgid "Select an initial sync source"
msgstr "同期元を選択する"

#. type: Plain text
msgid ""
"If you are dealing with newly-initialized, empty disks, this choice is "
"entirely arbitrary. If one of your nodes already has valuable data that you "
"need to preserve, however, _it is of crucial importance_ that you select "
"that node as your synchronization source.  If you do initial device "
"synchronization in the wrong direction, you will lose that data. Exercise "
"caution."
msgstr ""
"新しく初期化した空のディスクを使用する場合は、任意のディスクを同期元にできま"
"す。いずれかのノードにすでに重要なデータが格納されている場合は、 _十分注意し"
"て、必ず_ そのノードを同期元として選択してください。デバイスの初期同期の方向"
"が誤っていると、データを失うおそれがあります。慎重に行ってください。"

#. type: Block title
#, no-wrap
msgid "Start the initial full synchronization"
msgstr "初期フル同期を開始する"

#. type: Plain text
msgid ""
"This step must be performed on only one node, only on initial resource "
"configuration, and only on the node you selected as the synchronization "
"source. To perform this step, issue this command:"
msgstr ""
"この手順は、最初のリソース設定の際に、同期ソースとして選択した1つのノードに対"
"してのみ実行します。次のコマンドで実行します。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm primary --force <resource>\n"
msgstr "# drbdadm primary --force <resource>\n"

#. type: Plain text
msgid ""
"After issuing this command, the initial full synchronization will commence. "
"You will be able to monitor its progress via `drbdadm status`. It may take "
"some time depending on the size of the device."
msgstr ""
"このコマンドを指定すると、初期フル同期が開始します。 `drbdadm status` で同期"
"の進行状況を監視できます。デバイスのサイズによっては、同期に時間がかかる場合"
"があります。"

#. type: Plain text
msgid ""
"By now, your DRBD device is fully operational, even before the initial "
"synchronization has completed (albeit with slightly reduced performance). If "
"you started with empty disks you may now already create a filesystem on the "
"device, use it as a raw block device, mount it, and perform any other "
"operation you would with an accessible block device."
msgstr ""
"この時点で、初期同期が完了していなくてもDRBDデバイスは完全に稼働します(ただ"
"し、パフォーマンスは多少低いです)。空のディスクから開始した場合は、デバイスに"
"ファイルシステムを作成してもかまいません。これを下位ブロックデバイスとして使"
"用し、マウントして、アクセス可能なブロックデバイスとしてさまざまな操作を実行"
"することができます。"

#. type: Plain text
msgid ""
"You will now probably want to continue with <<p-work>>, which describes "
"common administrative tasks to perform on your resource."
msgstr ""
"リソースに対して一般的な管理タスクを行う場合は、<<p-work>>に進んでください。"

#. type: Title ====
#, no-wrap
msgid "Skipping initial resynchronization"
msgstr "初期同期のスキップ"

#. type: Plain text
msgid ""
"If (and only if) you are starting DRBD resources from scratch (with no "
"valueable data on them) you can use following command sequence to skip "
"initial resync (don't do that with data you want to keep on the devices):"
msgstr ""
"DRBD リソースを最初から開始する場合（貴重なデータがない場合のみ）、次のコマン"
"ドシーケンスを使用して、最初の同期をスキップできます（デバイスにデータを保存"
"する場合は実行しないでください）。"

#. type: Plain text
msgid "On all nodes:"
msgstr "すべてのノードで次のコマンドを実行します。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm create-md <res>\n"
"# drbdadm up <res>\n"
msgstr ""
"# drbdadm create-md <res>\n"
"# drbdadm up <res>\n"

#. type: Plain text
msgid ""
"The command `drbdadm status` should now show all disks as _Inconsistent_."
msgstr ""
"コマンド `drbdadm status` は、すべてのディスクを _Inconsistent_ として表示す"
"るはずです。"

#. type: Plain text
msgid "Then, on one node execute the following command:"
msgstr "次に１つのノードで次のコマンドを実行します。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm new-current-uuid --clear-bitmap <resource>/<volume>\n"
msgstr "# drbdadm new-current-uuid --clear-bitmap <resource>/<volume>\n"

#. type: Plain text
msgid "or"
msgstr "または"

#. type: delimited block -
#, no-wrap
msgid "# drbdsetup new-current-uuid --clear-bitmap <minor>\n"
msgstr "# drbdsetup new-current-uuid --clear-bitmap <minor>\n"

#. type: Plain text
msgid ""
"Running `drbdadm status` now shows the disks as _UpToDate_ (even tough the "
"backing devices might be out of sync). You can now create a file system on "
"the disk and start using it."
msgstr ""
"その後 `drbdadm status` を実行すると、ディスクが _UpToDate_ として表示される"
"ようになります（下位デバイスが同期していない場合でも）。これでディスク上に"
"ファイルシステムを作成し、使用を開始できます。"

#. type: Plain text
msgid "Don't do the above with data you want to keep or it gets corrupted."
msgstr "データを保存したい場合は使用しないでください。データが壊れます。"

#. type: Title ====
#, no-wrap
msgid "Using truck based replication"
msgstr "トラックベースのレプリケーションの使用"

#. type: Plain text
msgid ""
"In order to preseed a remote node with data which is then to be kept "
"synchronized, and to skip the initial full device synchronization, follow "
"these steps."
msgstr ""
"リモートノードに同期するデータを前もってロードし、デバイスの初期同期をスキッ"
"プする場合は、次の手順を行います。"

#. type: Plain text
msgid ""
"This assumes that your local node has a configured, but disconnected DRBD "
"resource in the _Primary_ role.  That is to say, device configuration is "
"completed, identical `drbd.conf` copies exist on both nodes, and you have "
"issued the commands for <<s-initial-full-sync,initial resource promotion>> "
"on your local node"
msgstr ""
"初期設定済みで `プライマリ` に昇格し、相手ノードとの接続を切断した状態のDRBD"
"リソースが必要です。つまり、デバイスの設定が完了し、両方のノードに同一の "
"`drbd.conf` のコピーが存在し <<s-initial-full-sync,最初のリソース昇格>>をロー"
"カルノードで実行するコマンドを発行した後、"

#. type: Plain text
msgid "but the remote node is not connected yet."
msgstr "リモートノードがまだ接続されていない状態です。"

#. type: Plain text
msgid "On the local node, issue the following command:"
msgstr "ローカルノードで次のコマンドを実行します。"

#. type: Plain text
msgid ""
"Create a consistent, verbatim copy of the resource's data _and its "
"metadata_. You may do so, for example, by removing a hot-swappable drive "
"from a RAID-1 mirror.  You would, of course, replace it with a fresh drive, "
"and rebuild the RAID set, to ensure continued redundancy. But the removed "
"drive is a verbatim copy that can now be shipped off site.  If your local "
"block device supports snapshot copies (such as when using DRBD on top of "
"LVM), you may also create a bitwise copy of that snapshot using `dd`."
msgstr ""
"リソースのデータ _およびそのメタデータ_ の正確に同一のコピーを作成します。 た"
"とえば、ホットスワップ可能な RAID-1ドライブの一方を抜き取ります。この場合は、"
"もちろん 新しいドライブをセットしてRAIDセットを再構築しておくべきでしょう。 "
"抜き取ったドライブは、正確なコピーとして リモートサイトに移動できます。別の方"
"法としては、ローカルのブロックデバイスがスナップショットコピーをサポートする"
"場合 (LVMの上位でDRBDを使用する場合など)は、 `dd` を使用してスナップショット"
"のビット単位のコピーを作ってもかまいません。"

#. type: Plain text
msgid "On the local node, issue:"
msgstr "ローカルノードで次のコマンドを実行します。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm new-current-uuid <resource>\n"
msgstr "# drbdadm new-current-uuid <resource>\n"

#. type: Plain text
msgid "or the matching `drbdsetup` command."
msgstr "または `drbdsetup` コマンドを使用します。"

#. type: Plain text
msgid ""
"Note the absence of the `--clear-bitmap` option in this second invocation."
msgstr "この2回目のコマンドには `--clear-bitmap` がありません。"

#. type: Plain text
msgid "Physically transport the copies to the remote peer location."
msgstr "対向ホストの設置場所にコピーを物理的に移動します。"

#. type: Plain text
msgid ""
"Add the copies to the remote node. This may again be a matter of plugging in a "
"physical disk, or grafting a bitwise copy of your shipped data onto existing "
"storage on the remote node.  Be sure to restore or copy not only your "
"replicated data, but also the associated DRBD metadata. If you fail to do "
"so, the disk shipping process is moot."
msgstr ""
"コピーをリモートノードに追加します。ここでも物理ディスクを接続するか、リモー"
"トノードの既存のストレージに移動したデータのビット単位のコピーを追加します。"
"レプリケートしたデータだけでなく、関連するDRBDメタデータも必ず復元するかコ"
"ピーしてください。そうでない場合、ディスクの移動を正しく行うことができませ"
"ん。"

#. type: Plain text
msgid ""
"On the new node we need to fix the node ID in the meta data, and exchange "
"the peer-node info for the two nodes. Please see the following lines as "
"example for changing node id from 2 to 1 on a resource `r0` volume `0`."
msgstr ""
"新しいノードでメタデータのノードIDを修正し、2つのノード間で対向ノードの情報を"
"交換する必要があります。リソース `r0` ボリューム `0` 上でnode idを2から1に変"
"更するには、次の行を参照ください。"

#. type: Plain text
msgid "This must be done while the volume is not in use."
msgstr "これはボリュームが未使用中のときに実行する必要があります。"

#. type: Plain text
msgid ""
"You need to edit the first four lines to match your needs. V is the resource "
"name with the volume number. NODE_FROM is the node ID of the node the data "
"originates from. NODE_TO is the node ID of the node where data will be "
"replicated to. META_DATA_LOCATION is the location of the meta data which "
"might be internal or flex-external."
msgstr ""
"最初の4行は環境に合わせて変更します。V は、ボリューム番号を持つリソース名で"
"す。 NODE_FROM は、データの発信元のノードのノード ID です。NODE_TO は、データ"
"が複製されるノードのノード ID です。META_DATA_LOCATION はメタデータの場所で "
"internal または flex-external のどちらかです。"

#. type: delimited block -
#, no-wrap
msgid ""
"V=r0/0\n"
"NODE_FROM=2\n"
"NODE_TO=1\n"
"META_DATA_LOCATION=internal\n"
msgstr ""
"V=r0/0\n"
"NODE_FROM=2\n"
"NODE_TO=1\n"
"META_DATA_LOCATION=internal\n"

#. type: delimited block -
#, no-wrap
msgid ""
"drbdadm -- --force dump-md $V > /tmp/md_orig.txt\n"
"sed -e \"s/node-id $NODE_FROM/node-id $NODE_TO/\" \\\n"
"\t-e \"s/^peer.$NODE_FROM. /peer-NEW /\" \\\n"
"\t-e \"s/^peer.$NODE_TO. /peer[$NODE_FROM] /\" \\\n"
"\t-e \"s/^peer-NEW /peer[$NODE_TO] /\" \\\n"
"\t< /tmp/md_orig.txt > /tmp/md.txt\n"
msgstr ""
"drbdadm -- --force dump-md $V > /tmp/md_orig.txt\n"
"sed -e \"s/node-id $NODE_FROM/node-id $NODE_TO/\" \\\n"
"\t-e \"s/^peer.$NODE_FROM. /peer-NEW /\" \\\n"
"\t-e \"s/^peer.$NODE_TO. /peer[$NODE_FROM] /\" \\\n"
"\t-e \"s/^peer-NEW /peer[$NODE_TO] /\" \\\n"
"\t< /tmp/md_orig.txt > /tmp/md.txt\n"

#. type: delimited block -
#, no-wrap
msgid "drbdmeta --force $(drbdadm sh-minor $V) v09 $(drbdadm sh-md-dev $V) $META_DATA_LOCATION restore-md /tmp/md.txt\n"
msgstr "drbdmeta --force $(drbdadm sh-minor $V) v09 $(drbdadm sh-md-dev $V) $META_DATA_LOCATION restore-md /tmp/md.txt\n"

#. type: Block title
#, no-wrap
msgid "NOTE"
msgstr "NOTE"

#. type: Plain text
msgid ""
"`drbdmeta` before 8.9.7 cannot cope with out-of-order `peer` sections; "
"you'll need to exchange the blocks via an editor."
msgstr ""
"バージョン 8.9.7 以前の `drbdmeta` 順不同の対向ノードセクションを扱えません。"
"エディタを用いてブロックを交換する必要があります。"

#. type: Plain text
msgid "Bring up the resource on the remote node:"
msgstr "リモートノードで次のコマンドを実行します。"

#. type: Plain text
msgid ""
"After the two peers connect, they will not initiate a full device "
"synchronization. Instead, the automatic synchronization that now commences "
"only covers those blocks that changed since the invocation of "
"`drbdadm{nbsp}--clear-bitmap{nbsp}new-current-uuid`."
msgstr ""
"2つのホストを接続しても、デバイスのフル同期は開始されません。代わりに、 "
"`drbdadm{nbsp}--clear-bitmap{nbsp}new-current-uuid` の呼び出し以降に変更され"
"たブロックのみを対象とする自動同期が開始されます。"

#. type: Plain text
msgid ""
"Even if there were _no_ changes whatsoever since then, there may still be a "
"brief synchronization period due to areas covered by the <<s-activity-log,"
"Activity Log>> being rolled back on the new Secondary. This may be mitigated "
"by the use of <<p-checksum-sync,checksum-based synchronization>>."
msgstr ""
"以降、データの変更が _全くない_ 場合でも、セカンダリで<<s-activity-log,アク"
"ティビティログ>>を含む領域がロールバックされるため、同期が短時間行われること"
"があります。これは<<p-checksum-sync,チェックサムベースの同期>>を使用すること"
"で緩和されます。"

#. type: Plain text
msgid ""
"You may use this same procedure regardless of whether the resource is a "
"regular DRBD resource, or a stacked resource. For stacked resources, simply "
"add the `-S` or `--stacked` option to `drbdadm`."
msgstr ""
"この手順は、リソースが通常のDRBDリソースの場合でもスタックリソースの場合でも"
"使用できます。スタックリソースの場合は、 `-S` または `--stacked` オプション"
"を `drbdadm` に追加します。"

#. type: Title ====
#, no-wrap
msgid "Example configuration for four nodes"
msgstr "4ノードでの構成例"

#. type: Plain text
msgid "Here is an example for a four-node cluster."
msgstr "以下は4ノードクラスタの例です。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource r0 {\n"
"  device      minor 0;\n"
"  disk        /dev/vg/r0;\n"
"  meta-disk   internal;\n"
msgstr ""
"resource r0 {\n"
"  device      minor 0;\n"
"  disk        /dev/vg/r0;\n"
"  meta-disk   internal;\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  on store1 {\n"
"    address   10.1.10.1:7100;\n"
"    node-id   1;\n"
"  }\n"
"  on store2 {\n"
"    address   10.1.10.2:7100;\n"
"    node-id   2;\n"
"  }\n"
"  on store3 {\n"
"    address   10.1.10.3:7100;\n"
"    node-id   3;\n"
"  }\n"
"  on store4 {\n"
"    address   10.1.10.4:7100;\n"
"    node-id   4;\n"
"  }\n"
msgstr ""
"  on store1 {\n"
"    address   10.1.10.1:7100;\n"
"    node-id   1;\n"
"  }\n"
"  on store2 {\n"
"    address   10.1.10.2:7100;\n"
"    node-id   2;\n"
"  }\n"
"  on store3 {\n"
"    address   10.1.10.3:7100;\n"
"    node-id   3;\n"
"  }\n"
"  on store4 {\n"
"    address   10.1.10.4:7100;\n"
"    node-id   4;\n"
"  }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  connection-mesh {\n"
"\thosts     store1 store2 store3 store4;\n"
"  }\n"
"}\n"
msgstr ""
"  connection-mesh {\n"
"\thosts     store1 store2 store3 store4;\n"
"  }\n"
"}\n"

#. type: Plain text
msgid ""
"In case you want to see the `connection-mesh` configuration expanded, try "
"`drbdadm dump _<resource>_ -v`."
msgstr ""
"`connection-mesh` 設定を確認したい場合には `drbdadm dump <resource> -v` を実"
"行します。"

#. type: Plain text
msgid ""
"As another example, if the four nodes have enough interfaces to provide a "
"complete mesh via direct linksfootnote:[i.e. three crossover and at least "
"one outgoing/management interface], you can specify the IP addresses of the "
"interfaces:"
msgstr ""
"別の例として、4ノードに直接接続でフルメッシュにできるだけのインターフェースが"
"ある場合には、footnote:[例:3つのノード間接続用と最低1つの外部接続/管理用イン"
"ターフェース]インターフェースにIPアドレスを指定することができます。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource r0 {\n"
"  ...\n"
msgstr ""
"resource r0 {\n"
"  ...\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  # store1 has crossover links like 10.99.1x.y\n"
"  connection {\n"
"    host store1  address 10.99.12.1 port 7012;\n"
"    host store2  address 10.99.12.2 port 7021;\n"
"  }\n"
"  connection {\n"
"    host store1  address 10.99.13.1  port 7013;\n"
"    host store3  address 10.99.13.3  port 7031;\n"
"  }\n"
"  connection {\n"
"    host store1  address 10.99.14.1  port 7014;\n"
"    host store4  address 10.99.14.4  port 7041;\n"
"  }\n"
msgstr ""
"  # store1 has crossover links like 10.99.1x.y\n"
"  connection {\n"
"    host store1  address 10.99.12.1 port 7012;\n"
"    host store2  address 10.99.12.2 port 7021;\n"
"  }\n"
"  connection {\n"
"    host store1  address 10.99.13.1  port 7013;\n"
"    host store3  address 10.99.13.3  port 7031;\n"
"  }\n"
"  connection {\n"
"    host store1  address 10.99.14.1  port 7014;\n"
"    host store4  address 10.99.14.4  port 7041;\n"
"  }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  # store2 has crossover links like 10.99.2x.y\n"
"  connection {\n"
"    host store2  address 10.99.23.2  port 7023;\n"
"    host store3  address 10.99.23.3  port 7032;\n"
"  }\n"
"  connection {\n"
"    host store2  address 10.99.24.2  port 7024;\n"
"    host store4  address 10.99.24.4  port 7042;\n"
"  }\n"
msgstr ""
"  # store2 has crossover links like 10.99.2x.y\n"
"  connection {\n"
"    host store2  address 10.99.23.2  port 7023;\n"
"    host store3  address 10.99.23.3  port 7032;\n"
"  }\n"
"  connection {\n"
"    host store2  address 10.99.24.2  port 7024;\n"
"    host store4  address 10.99.24.4  port 7042;\n"
"  }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  # store3 has crossover links like 10.99.3x.y\n"
"  connection {\n"
"    host store3  address 10.99.34.3  port 7034;\n"
"    host store4  address 10.99.34.4  port 7043;\n"
"  }\n"
"}\n"
msgstr ""
"  # store3 has crossover links like 10.99.3x.y\n"
"  connection {\n"
"    host store3  address 10.99.34.3  port 7034;\n"
"    host store4  address 10.99.34.4  port 7043;\n"
"  }\n"
"}\n"

#. type: Plain text
msgid ""
"Please note the numbering scheme used for the IP addresses and ports. "
"Another resource could use the same IP addresses, but ports `71__xy__`, the "
"next one `72__xy__`, and so on."
msgstr ""
"IPアドレスやポート番号の付け方には注意してください。別のリソースであれば同じ"
"IPアドレスを使用することができますが、 71xy、72xy のようにずらしてください。"
