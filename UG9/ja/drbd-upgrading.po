# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-03-07 03:54+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title ===
#, no-wrap
msgid "Upgrading DRBD"
msgstr "DRBDのアップグレード"

#. type: Plain text
msgid ""
"Upgrading DRBD is a fairly simple process. This section will cover the "
"process of upgrading from 8.4.x to 9.x in great detail. Upgrades within "
"version 9 are much easier, see the short version <<s-upgrade-within-9,"
"below>>."
msgstr ""
"DRBDのアップグレードは非常にシンプルな手順です。この章では DRBD8.4 から 9.x"
"へ のアップグレード手順を説明します。DRBD9 系内でのアップグレードの手順につい"
"てはより簡単ですので <<s-upgrade-within-9,こちら>> の項目を参照ください。"

#. type: Title ====
#, no-wrap
msgid "Compatibility"
msgstr "互換性"

#. type: Plain text
msgid ""
"DRBD is _wire protocol_ compatible over minor versions. Its _wire protocol_ "
"is independent of the host kernel version and the machines' CPU "
"architectures."
msgstr ""
"DRBD は、マイナーバージョン間でワイヤプロトコル互換です。これはホストのカーネ"
"ルのバージョンやマシンの CPU アーキテクチャに依存しません。"

#. type: Plain text
msgid ""
"DRBD is protocol compatible within a major number. For example, all version "
"8.x.y releases are protocol compatible."
msgstr ""
"DRBD は、メジャーバージョン間でプロトコル互換です。たとえば、すべてのバージョ"
"ン 8.x.y リリース間はプロトコル互換です。"

#. type: Plain text
msgid ""
"DRBD 9.a.b releases are generally protocol compatible with DRBD 8.c.d.  In "
"particular, all DRBD 9.a.b releases other than DRBD 9.1.0 to 9.1.7 inclusive "
"are compatible with DRBD 8.c.d."
msgstr ""
"DRBD 9.a.b リリースは、通常、DRBD 8.c.d とプロトコル互換性があります。特に、"
"DRBD 9.1.0 から 9.1.7 までを除くすべての DRBD 9.a.b リリースは、DRBD 8.c.d と"
"互換性があります。"

# no-wrap
#. type: Title ====
#, no-wrap
msgid "General Overview"
msgstr "概要"

#. type: Plain text
msgid "The general process for upgrading 8.4 to 9.x is as follows:"
msgstr "8.4 から 9.x へのアップグレード手順の概要は以下の通りです。"

#. type: Plain text
msgid ""
"Configure the <<s-updating-your-repo,new repositories>> (if using packages "
"from LINBIT)."
msgstr ""
"<<s-updating-your-repo,新しいリポジトリ>>を設定する。(LINBITのパッケージを"
"使っている場合)"

#. type: Plain text
msgid "Verify that the current situation <<s-upgrade-check,is okay>>."
msgstr "現在の状態が <<s-upgrade-check,問題ない>> 事を確認する。"

#. type: Plain text
msgid "<<s-upgrade-pausing-the-cluster,Pause>> any cluster manager."
msgstr "クラスタ管理ソフトを <<s-upgrade-pausing-the-cluster,停止>> する。"

#. type: Plain text
msgid "Get <<s-Upgrading-the-packages,new versions>> installed."
msgstr "<<s-Upgrading-the-packages,新しいバージョン>>をインストールする。"

#. type: Plain text
msgid ""
"If you want to move to more than two nodes, you will need to resize the "
"lower-level storage to provide room for the additional metadata. This topic "
"is discussed in the <<ch-lvm,LVM Chapter>>."
msgstr ""
"2ノード以上を移動させたい場合は、追加メタデータ用のスペースを加えるために下位"
"レベルデバイスをリサイズする必要がある。この点については<<ch-lvm,LVMの章>>参"
"照。"

#. type: Plain text
msgid ""
"Unconfigure resources, unload DRBD 8.4, and <<s-upgrade-reload-kernel-mod,"
"load the v9 kernel module>>."
msgstr ""
"リソースの設定を取り除き、DRBD8.4 をアンロードし、そして <<s-upgrade-reload-"
"kernel-mod,v9のカーネルモジュールをロード>> する。"

#. type: Plain text
msgid ""
"<<s-upgrade-convert,Convert DRBD metadata>> to format `v09`, perhaps "
"changing the number of bitmaps in the same step."
msgstr ""
"`v09` の形式に<<s-upgrade-convert,DRBDメタデータをコンバート>>する。ビット"
"マップ数も同様の手順。"

#. type: Plain text
msgid "Take the DRBD <<s-upgrade-start-drbd,resources up>>, and be happy."
msgstr "<<s-upgrade-start-drbd,リソースを起動>>をして完了。"

#. type: Title ====
#, no-wrap
msgid "Updating Your Repository"
msgstr "リポジトリのアップデート"

#. type: Plain text
msgid ""
"Due to the number of changes between the 8.4 and 9.x branches, LINBIT has "
"created separate repositories for each. The best way to get LINBIT's "
"software installed on your machines, if you have a LINBIT customer or "
"evaluation account, is to download a small https://my.linbit.com/linbit-"
"manage-node.py[Python helper script] and run it on your target machines."
msgstr ""
"8.4 ブランチと 9.x ブランチの間で多くの変更があったため、LINBIT はそれぞれに"
"個別のリポジトリを作成しました。 LINBIT の顧客または評価アカウントをお持ちの"
"場合、マシンに LINBIT のソフトウェアをインストールする最良の方法は、 https://"
"my.linbit.com/linbit-manage-node.py[Python ヘルパー クリプト] をダウンロード"
"し、ターゲットマシンで実行することです。"

#. type: Plain text
msgid ""
"Running the script will allow you to enable certain LINBIT package "
"repositories. When upgrading from DRBD 8.4, it is recommended that you "
"enable the `drbd-9` package repository."
msgstr ""
"スクリプトを実行すると、特定の LINBIT パッケージリポジトリを有効にすることが"
"できます。DRBD 8.4 からアップグレードする場合、 `drbd-9` パッケージリポジトリ"
"を有効にすることをお勧めします。"

#. type: Plain text
msgid ""
"While the helper script does give you the option of enabling a `drbd-9.0` "
"package repository, this is not recommended as a way to upgrade from DRBD "
"8.4, as that branch will likely be discontinued in the future and DRBD "
"versions 9.1+ are protocol compatible with version 8.4."
msgstr ""
"ヘルパースクリプトは `drbd-9.0` パッケージリポジトリを有効にするオプションを"
"提供しますが、これは DRBD 8.4 からのアップグレード方法としては推奨されませ"
"ん。そのブランチは将来廃止される可能性が高く、DRBD バージョン 9.1 はバージョ"
"ン 8.4 とプロトコル互換性があるためです。"

#. type: Title =====
#, no-wrap
msgid "RHEL/CentOS Systems"
msgstr "RHEL/CentOS システム"

#. type: Plain text
msgid ""
"Download LINBIT's Python helper script, add execute user permissions, and "
"then run it. The script will prompt you to enter your LINBIT customer portal "
"user name and password."
msgstr ""
"LINBIT の Python ヘルパースクリプトをダウンロードし、ユーザーの実行権限を追加"
"して実行します。スクリプトにより、LINBIT カスタマーポータルのユーザー名とパス"
"ワードを入力するよう求められます。"

#. type: delimited block -
#, no-wrap
msgid ""
"# cd /tmp\n"
"# curl -O 'https://my.linbit.com/linbit-manage-node.py'\n"
"# chmod u+x linbit-manage-node.py\n"
"# ./linbit-manage-node.py\n"
msgstr ""
"# cd /tmp\n"
"# curl -O 'https://my.linbit.com/linbit-manage-node.py'\n"
"# chmod u+x linbit-manage-node.py\n"
"# ./linbit-manage-node.py\n"

#. type: Plain text
msgid "Script must be run as superuser."
msgstr "スクリプトはスーパーユーザーとして実行する必要があります。"

#. type: Plain text
msgid ""
"After enabling the `drbd-9` LINBIT repository through the helper script's "
"menu choices, allow the script to write the new repository configuration to "
"the appropriate file. Let the script add the LINBIT signing key to your "
"keyring. Follow the script's instructions to exclude certain packages from "
"other repositories that would otherwise overlap with LINBIT's repositories."
msgstr ""
"ヘルパー スクリプトのメニュー選択で `drbd-9` LINBIT リポジトリを有効にした"
"後、スクリプトが新しいリポジトリ構成を適切なファイルに書き込むことを許可しま"
"す。スクリプトに従い、LINBIT 署名キーをキーリングに追加するようにします。"
"LINBIT のリポジトリと重複する他のリポジトリから特定のパッケージを除外する指示"
"に従います。"

#. type: Title =====
#, no-wrap
msgid "Debian/Ubuntu Systems"
msgstr "Debian/Ubuntu システム"

#. type: Plain text
msgid ""
"When using LINBIT package repositories to update DRBD 8.4 to 9.1+, note that "
"LINBIT currently only keeps two LTS Ubuntu versions up-to-date: Focal "
"(20.04) and Jammy (22.04). If you are running DRBD v8.4, you are likely on "
"an older version of Ubuntu Linux than these. Before using the helper script "
"to add LINBIT package repositories to update DRBD, you would first need to "
"update your system to a LINBIT supported LTS version."
msgstr ""
"LINBIT パッケージリポジトリを使用して DRBD 8.4 を 9.1 に更新する場合、LINBIT "
"は現在、Focal (20.04) と Jammy (22.04) の 2 つの LTS Ubuntu バージョンのみを"
"最新に保つことに注意してください。DRBD v8.4 を実行している場合は、これらより"
"も古いバージョンの Ubuntu Linux を使用している可能性があります。ヘルパースク"
"リプトを使用して LINBIT パッケージ リポジトリを追加し、DRBD を更新する前に、"
"まずシステムを LINBIT がサポートする LTS バージョンに更新する必要があります。"

#. type: delimited block -
#, no-wrap
msgid ""
"# cd /tmp\n"
"# wget 'https://my.linbit.com/linbit-manage-node.py'\n"
"# chmod u+x linbit-manage-node.py\n"
"# ./linbit-manage-node.py\n"
msgstr ""
"# cd /tmp\n"
"# wget 'https://my.linbit.com/linbit-manage-node.py'\n"
"# chmod u+x linbit-manage-node.py\n"
"# ./linbit-manage-node.py\n"

#. type: Plain text
msgid ""
"After enabling the `drbd-9` LINBIT repository through the helper script's "
"menu choices, allow the script to write the new repository configuration to "
"the appropriate file. Let the script add the LINBIT signing key to your "
"keyring."
msgstr ""
"ヘルパー スクリプトのメニュー選択で `drbd-9` LINBIT リポジトリを有効にした"
"後、スクリプトで新しいリポジトリ構成を適切なファイルに書き込むことができるよ"
"うにします。スクリプトで LINBIT 署名キーをキーリングに追加します。"

#. type: Title ====
#, no-wrap
msgid "Checking the DRBD State"
msgstr "DRBD の状態を確認する"

#. type: Plain text
msgid ""
"Before you update DRBD, verify that your resources are in sync. The output "
"of `cat /proc/drbd` should show an _UpToDate/UpToDate_ status for your "
"resources."
msgstr ""
"リソースが同期していることを確認します。`cat /proc/drbd` が `UpToDate/"
"UpToDate` を出力しています。(これは、DRBD8系 _以下_ でのみ有効です)"

#. type: delimited block -
#, no-wrap
msgid "node-2# cat /proc/drbd\n"
msgstr "node-2# cat /proc/drbd\n"

#. type: delimited block -
#, no-wrap
msgid ""
"version: 8.4.9-1 (api:1/proto:86-101)\n"
"GIT-hash: [...] build by linbit@buildsystem, 2016-11-18 14:49:21\n"
"GIT-hash: [...] build by linbit@buildsystem, 2016-11-18 14:49:21\n"
msgstr ""
"version: 8.4.9-1 (api:1/proto:86-101)\n"
"GIT-hash: [...] build by linbit@buildsystem, 2016-11-18 14:49:21\n"
"GIT-hash: [...] build by linbit@buildsystem, 2016-11-18 14:49:21\n"

#. type: delimited block -
#, no-wrap
msgid ""
" 0: cs:Connected ro:Secondary/Secondary ds:UpToDate/UpToDate C r-----\n"
"     ns:0 nr:211852 dw:211852 dr:0 al:0 bm:0 lo:0 pe:0 ua:0 ap:0 ep:1 wo:d oos:0\n"
msgstr ""
" 0: cs:Connected ro:Secondary/Secondary ds:UpToDate/UpToDate C r-----\n"
"     ns:0 nr:211852 dw:211852 dr:0 al:0 bm:0 lo:0 pe:0 ua:0 ap:0 ep:1 wo:d oos:0\n"

#. type: Plain text
msgid ""
"The `cat /proc/drbd` command is deprecated in DRBD versions 9.x for getting "
"resource status information. After upgrading DRBD, use the `drbdadm status` "
"command to get resource status information."
msgstr ""
"`cat /proc/drbd` コマンドは、リソース ステータス情報を取得するための DRBD "
"バージョン 9.x で廃止されました。 DRBD をアップグレードした後、 `drbdadm "
"status` コマンドを使用してリソースのステータス情報を取得します。"

#. type: Title ====
#, no-wrap
msgid "Pausing the Services"
msgstr "サービスの一時停止"

#. type: Plain text
msgid ""
"Now that you know the resources are in sync, start by upgrading the "
"secondary node.  This can be done manually or according to your cluster "
"manager's documentation."
msgstr ""
"リソースが同期している事を確認したら、セカンダリノードをアップグレードしま"
"す。この手順は手動で行うことができます。またはクラスタマネージャのドキュメン"
"トに従って実行します。"

#. type: Plain text
msgid ""
"Both processes are covered below. If you are running Pacemaker as your "
"cluster manager do not use the manual method."
msgstr ""
"両手順は以下の通りです。Pacemakerの動作中は手動では操作しないでください。"

#. type: Title =====
#, no-wrap
msgid "Manual Method"
msgstr "手動手順"

#. type: delimited block -
#, no-wrap
msgid "node-2# systemctl stop drbd@<resource>.target\n"
msgstr "node-2# systemctl stop drbd@<resource>.target\n"

#. type: Plain text
msgid ""
"To use the `systemctl stop` command with a DRBD resource target, you would "
"have needed to have enabled the `drbd.service` previously. You can verify "
"this by using the `systemctl is-enabled drbd.service` command."
msgstr ""
"DRBD リソースターゲットで `systemctl stop` コマンドを使用するには、あらかじ"
"め `drbd.service` を有効にする必要があります。これは、 `systemctl is-enabled "
"drbd.service` コマンドを使用して確認できます。"

#. type: Plain text
#, no-wrap
msgid "Pacemaker"
msgstr "Pacemaker"

#. type: Plain text
msgid ""
"Put the secondary node into standby mode. In this example `node-2` is "
"secondary."
msgstr ""
"セカンダリノードをスタンバイモードにします。この例では `bob` はセカンダリで"
"す。"

#. type: delimited block -
#, no-wrap
msgid "node-2# crm node standby node-2\n"
msgstr "node-2# crm node standby node-2\n"

#. type: Plain text
msgid ""
"You can watch the status of your cluster using `crm_mon -rf` or watch `cat /"
"proc/drbd` until it shows _Unconfigured_ for your resources."
msgstr ""
"クラスタの状態を 'crm_mon -rf' で確認することができます。または、リソースの状"
"態を、もし \"Unconfigured\" と表示されていなければ 'cat /proc/drbd' で確認す"
"ることができます。"

#. type: Title ====
#, no-wrap
msgid "Upgrading the Packages"
msgstr "パッケージのアップグレード"

#. type: Plain text
msgid "Now update your packages."
msgstr "パッケージをアップデートします。"

#. type: Plain text
msgid "RHEL/CentOS:"
msgstr "RHEL/CentOS:"

#. type: delimited block -
#, no-wrap
msgid "node-2# dnf -y upgrade\n"
msgstr "node-2# dnf -y upgrade\n"

#. type: Plain text
msgid "Debian/Ubuntu:"
msgstr "Debian/Ubuntu:"

#. type: delimited block -
#, no-wrap
msgid "node-2# apt-get update && apt-get upgrade\n"
msgstr "node-2# apt-get update && apt-get upgrade\n"

#. type: Plain text
msgid ""
"Once the upgrade is finished you will have the latest DRBD 9.x kernel module "
"and `drbd-utils` installed on your secondary node, `node-2`."
msgstr ""
"アップグレードが完了すると、最新の DRBD9.0 のカーネルモジュールと drbd-utils "
"がセカンダリノードの `bob` にインストールされています。"

#. type: Plain text
msgid "But the kernel module is not active yet."
msgstr "しかしカーネルモジュールはまだ有効化されていません。"

#. type: Title ====
#, no-wrap
msgid "Loading the New Kernel Module"
msgstr "新しいカーネルモジュールのロード"

#. type: Plain text
msgid ""
"By now the DRBD module should not be in use anymore, so unload it by "
"entering the following command:"
msgstr ""
"現時点でDRBDモジュールは使用していませんので、以下コマンドでアンロードしま"
"す。"

#. type: delimited block -
#, no-wrap
msgid "node-2# rmmod drbd_transport_tcp; rmmod drbd\n"
msgstr "node-2# rmmod drbd_transport_tcp; rmmod drbd\n"

#. type: Plain text
msgid ""
"If there is a message like `ERROR: Module drbd is in use`, then not all "
"resources have been correctly stopped."
msgstr ""
"\" `ERROR : Module drbd is in use` \" のようなメッセージが出る場合は、まだす"
"べてのリソースが正常に停止していません。"

#. type: Plain text
msgid ""
"Retry <<s-upgrading-drbd>>, or run the command `drbdadm down all` to find "
"out which resources are still active."
msgstr ""
"<<s-upgrading-drbd>> を再実行し、どのリソースがまだ稼働しているのか確認するた"
"め `drbdadm down all` を実行します。"

#. type: Plain text
msgid ""
"Some typical issues that might prevent you from unloading the kernel module "
"are:"
msgstr "よくあるアンロードを妨げる原因には以下のものがあります。"

#. type: Plain text
msgid "NFS export on a DRBD-backed filesystem (see `exportfs -v` output)"
msgstr ""
"DRBDが下位デバイスのファイルシステムにNFSエクスポートがある( `exportfs -v` の"
"出力を確認)"

#. type: Plain text
msgid "Filesystem still mounted - check `grep drbd /proc/mounts`"
msgstr "ファイルシステムをマウント中 - `grep drbd /proc/mounts` を確認"

#. type: Plain text
msgid "Loopback device active (`losetup -l`)"
msgstr "ループバックデバイスがアクティブ ( `losetup -l` )"

#. type: Plain text
msgid "Device mapper using DRBD, directly or indirectly (`dmsetup ls --tree`)"
msgstr ""
"デバイスマッパーが直接または間接的にDRBDを使用している。( `dmsetup ls --"
"tree` )"

#. type: Plain text
msgid "LVM with a DRBD-PV (`pvs`)"
msgstr ""
"DRBDデバイスが物理ボリュームとなっていて、そのLVMがアクティブ ( `pvs` )"

#. type: Plain text
msgid "This list is not complete. These are just the most common examples."
msgstr ""
"上記はよくあるケースであり、すべてのケースを網羅するものではないという事に注"
"意ください。"

#. type: Plain text
msgid "Now you can load the new DRBD module."
msgstr "これで、DRBDモジュールをロードすることができます。"

#. type: delimited block -
#, no-wrap
msgid "node-2# modprobe drbd\n"
msgstr "node-2# modprobe drbd\n"

#. type: Plain text
msgid ""
"Next, you can verify that the version of the DRBD kernel module that is "
"loaded is the updated 9.x version. If the installed package is for the wrong "
"kernel version, the `modprobe` would be successful, but output from a "
"`drbdadm --version` command would show that the DRBD kernel version "
"(`DRBD_KERNEL_VERSION_CODE`) was still at the older 8.4 (`0x08040` in "
"hexadecimal)  version."
msgstr ""
"次に、ロードされている DRBD カーネル モジュールのバージョンが更新された 9.x "
"バージョンであることを確認できます。インストールされたパッケージが間違った"
"カーネル バージョン用である場合、`modprobe` は成功しますが、`drbdadm --"
"version` コマンドからの出力は、DRBD カーネル バージョン "
"(`DRBD_KERNEL_VERSION_CODE`) がまだ古い 8.4 (`16 進数で 0x08040`) バージョン"
"になります。"

#. type: Plain text
msgid ""
"The output of `drbdadm --version` should show 9.x.y and look similar to this:"
msgstr ""
"'drbdadm --version' の出力は 9.0.x を表示し、次のようになっているでしょう。"

#. type: delimited block -
#, no-wrap
msgid ""
"DRBDADM_BUILDTAG=GIT-hash:\\ [...]\\ build\\ by\\ @buildsystem\\,\\ 2022-09-19\\ 12:15:10\n"
"DRBDADM_API_VERSION=2\n"
"DRBD_KERNEL_VERSION_CODE=0x09010b\n"
"DRBD_KERNEL_VERSION=9.1.11\n"
"DRBDADM_VERSION_CODE=0x091600\n"
"DRBDADM_VERSION=9.22.0\n"
msgstr ""
"DRBDADM_BUILDTAG=GIT-hash:\\ [...]\\ build\\ by\\ @buildsystem\\,\\ 2022-09-19\\ 12:15:10\n"
"DRBDADM_API_VERSION=2\n"
"DRBD_KERNEL_VERSION_CODE=0x09010b\n"
"DRBD_KERNEL_VERSION=9.1.11\n"
"DRBDADM_VERSION_CODE=0x091600\n"
"DRBDADM_VERSION=9.22.0\n"

#. type: Plain text
msgid ""
"On the primary node, `node-1`, `drbdadm --version` will still show the prior "
"kernel version, until you upgrade it."
msgstr ""
"プライマリノードのaliceでは、 'drbdadm --version' はアップグレードをするまで"
"は以前のバージョンを表示します。"

#. At this point the cluster is running two different versions of DRBD. While this
#. is not recommended to be used for longer time spans, it is inevitable for the (short) upgrade period.
#.  Stop
#. any service using DRBD and then DRBD on the primary node, `node-1`, and promote
#. `node-2`. Again this can be done either manually or by using the Pacemaker shell.
#. * Manually
#. ----
#. node-1 # umount /dev/drbd/by-res/r0
#. node-1 # systemctl stop drbd <1>
#. node-1 # rmmod drbd_transport_tcp; rmmod drbd
#. node-2 # drbdadm primary r0
#. node-2 # mount /dev/drbd/by-res/r0/0 /mnt/drbd <2>
#. ----
#. <1> To use the `systemctl stop` command with a DRBD resource target, you would have
#. needed to have enabled the `drbd.service` previously. You can verify this by using the
#. `systemctl is-enabled drbd.service` command.
#. <2> The mount command now references `/0` which defines the volume number of a resource. See
#. <<s-recent-changes-volumes>> for more information on the new volumes feature.
#. * Pacemaker
#. ----
#. # crm node standby node-1
#. ----
#. WARNING: This will interrupt running services by stopping them and
#. migrating them to the secondary server, `node-2`.
#. At this point you can safely upgrade DRBD by using `dnf` or `apt` commands.
#. ----
#. node-1# dnf -y upgrade
#. ----
#. ----
#. node-1# apt update && apt upgrade
#. ----
#. Once the upgrade is complete you will now have the latest version
#. of DRBD on `node-1` and can start DRBD.
#. * Manually
#. +
#. ----
#. node-1# systemctl start drbd@<resource>.service
#. ----
#. * Pacemaker
#. +
#. ----
#. node-1# crm node online node-1
#. ----
#. NOTE: Services will still be located on `node-2` and will remain there
#. until you migrate them back.
#. Both servers should now show the latest version of DRBD in a connected
#. state.
#. ----
#. # cat /proc/drbd
#. version: 9.0.0 (api:2/proto:86-110)
#. GIT-hash: 768965a7f158d966bd3bd4ff1014af7b3d9ff10c build by root@node-2, 2015-09-03 13:58:02
#. Transports (api:10): tcp (1.0.0)
#. # drbdsetup status
#. r0 role:Secondary
#.   disk:UpToDate
#.   node-2 role:Secondary
#.     peer-disk:UpToDate
#. ----
#. type: Title ====
#, no-wrap
msgid "Migrating Your Configuration Files"
msgstr "設定ファイルの移行"

#. type: Plain text
msgid ""
"DRBD 9.x is backward compatible with the 8.4 configuration files; however, "
"some syntax has changed. See <<s-recent-changes-config>> for a full list of "
"changes. In the meantime you can port your old configs fairly easily by "
"using `drbdadm dump all` command. This will output both a new global "
"configuration followed by the new resource configuration files. Take this "
"output and make changes accordingly."
msgstr ""
"DRBD 9.x は 8.4 の設定ファイルに後方互換性がありますが、一部の構文は変更して"
"います。変更点の全一覧は <<s-recent-changes-config>> を参照してくださ"
"い。'drbdadm dump all' コマンドを使えば古い設定を簡単に移すことができます。こ"
"れは、新しいリソース設定ファイルに続いて新しいグローバル設定も両方とも出力し"
"ます。この出力を使って適宜変更してください。"

#. type: Title ====
#, no-wrap
msgid "Changing the Metadata"
msgstr "メタデータの変更 "

#. type: Plain text
msgid ""
"Now you need to convert the on-disk metadata to the new version. You can do "
"this by using the `drbdadm create-md` command and answering two questions."
msgstr ""
"ここで、ディスク上のメタデータを新しいバージョンに変換する必要があります。 "
"`drbdadm create-md` コマンドを使用して 2 つの質問に答えるだけです。"

#. type: Plain text
msgid ""
"If you want to change the number of nodes, you should already have increased "
"the size of the lower level device, so that there is enough space to store "
"the additional bitmaps; in that case, you would run the command below with "
"an additional argument `--max-peers=__<N>__`. When determining the number of "
"(possible) peers please take setups like the <<s-drbd-client>> into account."
msgstr ""
"たくさんのノードを変更したい場合には、追加のビットマップに十分なスペースを確"
"保するため、すでに下位デバイスの容量を拡張していることでしょう。この場合には"
"以下のコマンドを追加の引数 `--max-peers=<N>` を付けて実行します。対向ノードの"
"数(予定)を決める時には、<<s-drbd-client>>も考慮に入れてください。"

#. type: delimited block -
#, no-wrap
msgid ""
"# drbdadm create-md <resource>\n"
"You want me to create a v09 style flexible-size internal meta data block.\n"
"There appears to be a v08 flexible-size internal meta data block\n"
"already in place on <disk> at byte offset <offset>\n"
msgstr ""
"# drbdadm create-md <resource>\n"
"You want me to create a v09 style flexible-size internal meta data block.\n"
"There appears to be a v08 flexible-size internal meta data block\n"
"already in place on <disk> at byte offset <offset>\n"

#. type: delimited block -
#, no-wrap
msgid ""
"Valid v08 meta-data found, convert to v09?\n"
"[need to type 'yes' to confirm] yes\n"
msgstr ""
"Valid v08 meta-data found, convert to v09?\n"
"[need to type 'yes' to confirm] yes\n"

#. type: delimited block -
#, no-wrap
msgid ""
"md_offset <offsets...>\n"
"al_offset <offsets...>\n"
"bm_offset <offsets...>\n"
msgstr ""
"md_offset <offsets...>\n"
"al_offset <offsets...>\n"
"bm_offset <offsets...>\n"

#. type: delimited block -
#, no-wrap
msgid "Found some data\n"
msgstr "Found some data\n"

#. type: delimited block -
#, no-wrap
msgid " ==> This might destroy existing data! <==\n"
msgstr " ==> This might destroy existing data! <==\n"

#. type: delimited block -
#, no-wrap
msgid ""
"Do you want to proceed?\n"
"[need to type 'yes' to confirm] yes\n"
msgstr ""
"Do you want to proceed?\n"
"[need to type 'yes' to confirm] yes\n"

#. type: delimited block -
#, no-wrap
msgid ""
"Writing meta data...\n"
"New drbd meta data block successfully created.\n"
"success\n"
msgstr ""
"Writing meta data...\n"
"New drbd meta data block successfully created.\n"
"success\n"

#. type: Plain text
msgid ""
"Of course, you can pass `all` for the resource names, too. And if you feel "
"lucky, brave, or both you can avoid the questions by using the `--force` "
"flag like this:"
msgstr ""
"もちろん、リソース名を `all` にすることも可能です。また、以下のようにすれば質"
"問されるのを回避することができます(コマンド内の順序が重要です)。"

#. type: delimited block -
#, no-wrap
msgid "drbdadm -v --max-peers=<N>  -- --force create-md <resources>\n"
msgstr "drbdadm -v --max-peers=<N>  -- --force create-md <resources>\n"

#. type: Plain text
msgid ""
"The order of these arguments is important. Make sure you understand the "
"potential data loss implications of this command before you enter it."
msgstr ""
"これらの引数の順序は重要です。このコマンドを入力する前に、このコマンドの潜在"
"的なデータ損失の意味を理解していることを確認してください。"

#. type: Title ====
#, no-wrap
msgid "Starting DRBD Again"
msgstr "DRBDを再び起動する"

#. type: Plain text
msgid ""
"Now, the only thing left to do is to get the DRBD devices up and running "
"again. You can do this by using the `drbdadm up all` command."
msgstr ""
"あとはDRBDデバイスを再びupにして起動するだけです。単純に、 `drbdadm up all` "
"で済みます。"

#. type: Plain text
msgid ""
"Next, depending on whether you are using a cluster manager or if you keep "
"track of your DRBD resources manually, there are two different ways to bring "
"up your resources. If you are using a cluster manager follow its "
"documentation."
msgstr ""
"次は、クラスタ管理ソフトを使用しているか、手動でリソースを管理しているかに"
"よって方法が異なります。クラスタマネージャを使用している場合は、そのドキュメ"
"ントに従ってください。"

#. type: Plain text
msgid "Manually"
msgstr "手動"

#. type: delimited block -
#, no-wrap
msgid "node-2# systemctl start drbd@<resource>.target\n"
msgstr "node-2# systemctl start drbd@<resource>.target\n"

#. type: delimited block -
#, no-wrap
msgid "# crm node online node-2\n"
msgstr "# crm node online node-2\n"

#. type: Plain text
msgid ""
"This should make DRBD connect to the other node, and the resynchronization "
"process will start."
msgstr "これによってDRBDは他のノードに接続し、再同期プロセスが開始します。"

#. type: Plain text
msgid ""
"When the two nodes are _UpToDate_ on all resources again, you can move your "
"applications to the already upgraded node (here `node-2`), and then follow "
"the same steps on the cluster node still running version 8.4."
msgstr ""
"すべてのリソースが2つのノードで `UpToDate` になったら、アップグレードしたノー"
"ド(ここでは `bob` )にアプリケーションを移動させることができます。そして、まだ"
"8.4 が稼働しているノードで同じ手順を行ってください。"

#. type: Title ====
#, no-wrap
msgid "Upgrading Within DRBD 9"
msgstr "DRBD9 のアップグレード"

#. type: Plain text
msgid ""
"If you are already running DRBD 9.x, it is sufficient to <<s-Upgrading-the-"
"packages,install new package versions>>, make the cluster node <<s-upgrade-"
"pausing-the-cluster,_standby_>>, <<s-upgrade-reload-kernel-mod,unload then "
"reload>> the kernel module, <<s-upgrade-start-drbd,start the resources>>, "
"and make the cluster node _online_ again."
msgstr ""
"既に DRBD9.x を使っている場合には <<s-Upgrading-the-packages,新しいバージョン"
"のパッケージをインストール>> することができます。クラスタノードを <<s-"
"upgrade-pausing-the-cluster,スタンバイ>> にして、カーネルモジュールを <<s-"
"upgrade-reload-kernel-mod,アンロード/リロード>> し、 <<s-upgrade-start-drbd,"
"リソースを起動>> 、そしてクラスタノードを再度 `online` にします。footnote:[少"
"なくとも、過去にあった書き込み時の状態;)]"

#. type: Plain text
msgid ""
"These individual steps have been detailed above, so they are not repeated "
"here."
msgstr "個々の手順については上述の項の通りですので、ここでは省略します。"
