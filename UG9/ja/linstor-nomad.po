# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: \n"
"POT-Creation-Date: 2022-05-13 14:52+0900\n"
"PO-Revision-Date: 2021-07-05 08:21+0900\n"
"Last-Translator: 黒木　博 <h-kuroki@sios.com>\n"
"Language-Team: \n"
"Language: ja\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Generator: Poedit 3.0\n"

#. type: Title ==
#, no-wrap
msgid "LINSTOR Volumes in Nomad"
msgstr "NomadのLINSTORボリューム"

#. type: Plain text
msgid "indexterm:[Nomad]"
msgstr "indexterm:[Nomad]"

#. type: Plain text
msgid ""
"This chapter describes using LINSTOR and DRBD to provision volumes in Nomad."
msgstr ""
"この章では、LINSTORとDRBDを使用してNomadでボリュームをプロビジョニングする方"
"法について説明します。"

#. type: Title ===
#, no-wrap
msgid "Introduction to Nomad"
msgstr "Nomad の紹介"

#. type: Plain text
msgid ""
"https://www.nomadproject.io/[Nomad] is a simple and flexible workload "
"orchestrator to deploy and manage containers and non-containerized "
"applications across on-premises and cloud environments."
msgstr ""
"https://www.nomadproject.io/[Nomad] は、コンテナとコンテナ化されていないアプ"
"リケーションをオンプレミスとクラウド上にデプロイして管理するための、シンプル"
"で柔軟性のあるワークロードオーケストレーターです。"

#. type: Plain text
msgid ""
"Nomad supports provisioning storage volumes using https://www.nomadproject."
"io/docs/internals/plugins/csi[plug-ins] conforming to the https://github.com/"
"container-storage-interface/spec[Container Storage Interface (CSI)]."
msgstr ""
"Nomad は https://github.com/containerストレージインタフェース/仕様[Container "
"Storage Interface(CSI)] に準拠した https://www.nomadproject.io/docs/"
"internals/plugins/csi[plug-ins] 経由のストレージボリュームのプロビジョニング"
"をサポートします。"

#. type: Plain text
msgid ""
"LINBIT distributes a CSI plug-in in the form of container images from http://"
"drbd.io[drbd.io]. The plug-in can be configured to work with a LINSTOR "
"cluster that is deployed along or inside a Nomad cluster."
msgstr ""
"LINBIT は、CSIプラグインを http://drbd.io[drbd.io] のコンテナイメージの形で配"
"布しています。このプラグインは、Nomadクラスタに沿って、またはその内部にデプロ"
"イされたLINSTORクラスタと連携するように構成できます。"

#. type: Title ===
#, no-wrap
msgid "Deploying LINSTOR on Nomad"
msgstr "NomadにLINSTORの展開"

#. type: Plain text
msgid ""
"This section describes how you can deploy and configure a new LINSTOR "
"cluster in Nomad."
msgstr ""
"この項では、Nomadで新しいLINSTORクラスタを展開および設定する方法について説明"
"します。"

#. type: Plain text
msgid ""
"If you want to install LINSTOR directly on your nodes, check out the <<s-"
"installation, guide on installing LINSTOR>>. You can skip this section and "
"jump directly to <<s-nomad-linstor-csi-deployment, deploying the CSI "
"driver>>."
msgstr ""
"LINSTORをノードに直接インストールする場合は、 <<s-installation, LINSTOR のイ"
"ンストール>> を参照してください。このセクションをスキップして、 <<s-nomad-"
"linstor-csi-deployment, CSI ドライバのデプロイ>> に直接移動できます。"

#. type: Title ====
#, no-wrap
msgid "Preparing Nomad"
msgstr "Nomadを準備する"

#. type: Plain text
msgid "To run LINSTOR, every Nomad agent needs to be configured to:"
msgstr ""
"LINSTORを実行するには、すべてのNomadエージェントを次のように設定する必要があ"
"ります。"

#. type: Plain text
msgid ""
"Support the https://www.nomadproject.io/docs/drivers/docker[docker driver] "
"and allow executing privileged containers"
msgstr ""
"https://www.nomadproject.io/docs/drivers/docker[docker driver]をサポートし、"
"特権コンテナの実行を許可します。"

#. type: Plain text
msgid ""
"To allow running privileged containers, add the following snippet to your "
"Nomad agent configuration and restart Nomad"
msgstr ""
"特権コンテナーの実行を許可するには、以下のスニペットをNomadエージェント構成に"
"追加して、Nomadを再起動します。"

#. type: Block title
#, no-wrap
msgid "/etc/nomad.d/docker-privileged.hcl"
msgstr "/etc/nomad.d/docker-privileged.hcl"

#. type: delimited block -
#, no-wrap
msgid ""
"plugin \"docker\" {\n"
"  config {\n"
"    allow_privileged = true\n"
"  }\n"
"}\n"
msgstr ""
"plugin \"docker\" {\n"
"  config {\n"
"    allow_privileged = true\n"
"  }\n"
"}\n"

#. type: Plain text
msgid ""
"Support for container networking. If you don't have the https://www.cni.dev/"
"[Container Network Interface] plug-ins installed, you will only be able to "
"use `mode = \"host\"` in your job networks. For most production setups, we "
"recommend installing the default plug-ins:"
msgstr ""
"コンテナネットワークのサポート。 https://www.cni.dev/[Container Network "
"Interface] プラグインがインストールされていない場合は、ジョブネットワークで "
"`mode = \"host\"` のみを使用できます。ほとんどの本番環境のセットアップでは、"
"デフォルトのプラグインをインストールすることをお勧めします。"

#. type: Plain text
msgid ""
"Head to the https://github.com/containernetworking/plugins/releases/[plug-in "
"release page], select the release archive appropriate for your distribution "
"and unpack them in `/opt/cni/bin`. You might need to create the directory "
"before unpacking."
msgstr ""
"https://github.com/containernetworking/plugins/releases/[plug-in release "
"page] に移動し、ディストリビューションに適したリリースアーカイブを選択して、/"
"opt/cni/bin に解凍します。解凍する前にディレクトリを作成する必要があるかもし"
"れません。"

#. type: Plain text
msgid ""
"Provide a host volume, allowing a container access to the hosts `/dev` "
"directory"
msgstr ""
"ホストボリュームを提供して、ホストの `/dev` ディレクトリへのコンテナアクセス"
"を許可する"

#. type: Plain text
msgid ""
"To create a host volume, add the following snippet to your Nomad agent "
"configuration and restart Nomad."
msgstr ""
"ホストボリュームを作成するには、以下のスニペットをNomadエージェント構成に追加"
"し、Nomadを再起動します。"

#. type: Block title
#, no-wrap
msgid "/etc/nomad.d/host-volume-dev.hcl"
msgstr "/etc/nomad.d/host-volume-dev.hcl"

#. type: delimited block -
#, no-wrap
msgid ""
"client {\n"
"  host_volume \"dev\" {\n"
"    path = \"/dev\"\n"
"  }\n"
"}\n"
msgstr ""
"client {\n"
"  host_volume \"dev\" {\n"
"    path = \"/dev\"\n"
"  }\n"
"}\n"

#. type: Title ====
#, no-wrap
msgid "Creating a LINSTOR Controller Job"
msgstr "LINSTORコントローラジョブの作成"

#. type: Plain text
msgid ""
"The LINSTOR Controller is deployed as a service with no replicas. At any "
"point in time, there can only be one LINSTOR Controller running in a "
"cluster. It is possible to restart the controller on a new node, provided it "
"still has access to the database. See <<s-linstor_ha>> for more information."
msgstr ""
"LINSTOR コントローラは、レプリカのないサービスとして導入されます。どの時点に"
"おいても、1つのクラスタ内で実行可能なLINSTOR コントローラは1つのみです。デー"
"タベースへのアクセス権がある場合は、新しいノードでコントローラを再起動できま"
"す。詳細は <<s-linstor_ha>> を参照してください。"

#. type: Plain text
msgid ""
"The following example will create a Nomad job starting a single LINSTOR "
"Controller in datacenter `dc1` and connect to an external database."
msgstr ""
"次の例では、データセンター `dc1` で単一のLINSTORコントローラを起動するNomad"
"ジョブを作成し、外部データベースに接続します。"

#. type: Block title
#, no-wrap
msgid "linstor-controller.hcl"
msgstr "linstor-controller.hcl"

#. type: delimited block -
#, no-wrap
msgid ""
"job \"linstor-controller\" {\n"
"  datacenters = [\"dc1\"] <1>\n"
"  type = \"service\"\n"
msgstr ""
"job \"linstor-controller\" {\n"
"  datacenters = [\"dc1\"] <1>\n"
"  type = \"service\"\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  group \"linstor-controller\" {\n"
"    network {\n"
"      mode = \"bridge\"\n"
"      # port \"linstor-api\" { <2>\n"
"      #   static = 3370\n"
"      #   to = 3370\n"
"      # }\n"
"    }\n"
msgstr ""
"  group \"linstor-controller\" {\n"
"    network {\n"
"      mode = \"bridge\"\n"
"      # port \"linstor-api\" { <2>\n"
"      #   static = 3370\n"
"      #   to = 3370\n"
"      # }\n"
"    }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"    service { <3>\n"
"      name = \"linstor-api\"\n"
"      port = \"3370\"\n"
msgstr ""
"    service { <3>\n"
"      name = \"linstor-api\"\n"
"      port = \"3370\"\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      connect {\n"
"        sidecar_service {}\n"
"      }\n"
msgstr ""
"      connect {\n"
"        sidecar_service {}\n"
"      }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      check {\n"
"        expose = true\n"
"        type = \"http\"\n"
"        name = \"api-health\"\n"
"        path = \"/health\"\n"
"        interval = \"30s\"\n"
"        timeout = \"5s\"\n"
"      }\n"
"    }\n"
msgstr ""
"      check {\n"
"        expose = true\n"
"        type = \"http\"\n"
"        name = \"api-health\"\n"
"        path = \"/health\"\n"
"        interval = \"30s\"\n"
"        timeout = \"5s\"\n"
"      }\n"
"    }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"    task \"linstor-controller\" {\n"
"      driver = \"docker\"\n"
"      config {\n"
"        image = \"drbd.io/linstor-controller:v1.13.0\" <4>\n"
msgstr ""
"    task \"linstor-controller\" {\n"
"      driver = \"docker\"\n"
"      config {\n"
"        image = \"drbd.io/linstor-controller:v1.13.0\" <4>\n"

#. type: delimited block -
#, no-wrap
msgid ""
"        auth { <5>\n"
"          username = \"example\"\n"
"          password = \"example\"\n"
"          server_address = \"drbd.io\"\n"
"        }\n"
msgstr ""
"        auth { <5>\n"
"          username = \"example\"\n"
"          password = \"example\"\n"
"          server_address = \"drbd.io\"\n"
"        }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"        mount {\n"
"          type = \"bind\"\n"
"          source = \"local\"\n"
"          target = \"/etc/linstor\"\n"
"        }\n"
"      }\n"
msgstr ""
"        mount {\n"
"          type = \"bind\"\n"
"          source = \"local\"\n"
"          target = \"/etc/linstor\"\n"
"        }\n"
"      }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      # template { <6>\n"
"      #  destination = \"local/linstor.toml\"\n"
"      #  data = <<EOH\n"
"      #    [db]\n"
"      #    user = \"example\"\n"
"      #    password = \"example\"\n"
"      #    connection_url = \"jdbc:postgresql://postgres.internal.example.com/linstor\"\n"
"      #  EOH\n"
"      # }\n"
msgstr ""
"      # template { <6>\n"
"      #  destination = \"local/linstor.toml\"\n"
"      #  data = <<EOH\n"
"      #    [db]\n"
"      #    user = \"example\"\n"
"      #    password = \"example\"\n"
"      #    connection_url = \"jdbc:postgresql://postgres.internal.example.com/linstor\"\n"
"      #  EOH\n"
"      # }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      resources {\n"
"        cpu    = 500 # 500 MHz\n"
"        memory = 700 # 700MB\n"
"      }\n"
"    }\n"
"  }\n"
"}\n"
msgstr ""
"      resources {\n"
"        cpu    = 500 # 500 MHz\n"
"        memory = 700 # 700MB\n"
"      }\n"
"    }\n"
"  }\n"
"}\n"

#. type: Plain text
msgid "Replace `dc1` with your own data center name"
msgstr "`dc1` はデータセンタ名に置き換えてください"

#. type: Plain text
msgid "This exposes the LINSTOR API on the host on port `3370`."
msgstr "これにより、ホストでポート `3370` の LINSTOR API が公開されます。"

#. type: Plain text
msgid ""
"Uncomment this section if your cluster is not configured with {consul-"
"connect}[Consul Connect]."
msgstr ""
"クラスタが {consul-connect}[Consul Connect] で構成されていない場合は、このセ"
"クションのコメントを削除してください。"

#. type: Plain text
msgid ""
"The `service` block is used to expose the LINSTOR API to other jobs through "
"the service mesh."
msgstr ""
"`service` ブロックは、サービスメッシュを介してL INSTOR API を他のジョブに公開"
"するために使用されます。"

#. type: Plain text
msgid ""
"If your cluster is not configured for {consul-connect}[Consul Connect] you "
"can remove this section."
msgstr ""
"クラスタが {consul-connect}[Consul Connect] で構成されていない場合は、このセ"
"クションを削除してください。"

#. type: Plain text
msgid ""
"This sets the LINSTOR Controller image to run. The latest images are "
"available from http://drbd.io[drbd.io]."
msgstr ""
"LINSTOR Controller イメージを実行するように設定します。最新のイメージは "
"http://drbd.io[drbd.io] から入手できます。"

#. type: Plain text
msgid ""
"The use of the `:latest` tag is strongly discouraged, as it can quickly lead "
"to version mismatches and unintended upgrades."
msgstr ""
"`:latest` タグの使用は、バージョンの不一致や意図しないアップグレードにすぐに"
"つながる可能性があるため、お勧めしません。"

#. type: Plain text
msgid ""
"Sets the authentication to use when pulling the image. If pulling from `drbd."
"io`, you need to use your LINBIT customer login here. Read more about "
"pulling from a private repo https://www.nomadproject.io/docs/drivers/"
"docker#authentication[here]."
msgstr ""
"イメージを pull するときに使用する認証を設定します。 `drbd.io` から pull する"
"場合は、ここでLINBITの顧客ログインを使用する必要があります。プライベートレポ"
"ジトリからの pull に関しては https://www.nomadproject.io/docs/drivers/"
"docker#authentication[こちら] を参照ください。 "

#. type: Plain text
msgid ""
"This template can be used to set arbitrary configuration options for "
"LINSTOR. This example configures an external database for LINSTOR. You can "
"find a more detailed explanation of LINSTOR's database options <<s-linstor-"
"external-database,here>> and more on Nomad templates https://www."
"nomadproject.io/docs/job-specification/template#template-examples[here]."
msgstr ""
"このテンプレートは、LINSTORの任意の構成オプションを設定するために使用できま"
"す。この例では、LINSTORの外部データベースを構成します。詳細は LINSTOR データ"
"ベースオプション <<s-linstor-external-database,こちら>> およびNomadテンプレー"
"ト https://www.nomadproject.io/docs/job-specification/template#template-"
"examples#template-examples[こちら] を参照ください。"

#. type: Plain text
msgid "Apply the job by running:"
msgstr "次のコマンドを実行して、ジョブを適用します。"

#. type: delimited block -
#, no-wrap
msgid ""
"$ nomad job run linstor-controller.hcl\n"
"==> Monitoring evaluation \"7d8911a7\"\n"
"    Evaluation triggered by job \"linstor-controller\"\n"
"==> Monitoring evaluation \"7d8911a7\"\n"
"    Evaluation within deployment: \"436f4b2d\"\n"
"    Allocation \"0b564c73\" created: node \"07754224\", group \"controller\"\n"
"    Evaluation status changed: \"pending\" -> \"complete\"\n"
"==> Evaluation \"7d8911a7\" finished with status \"complete\"\n"
msgstr ""
"$ nomad job run linstor-controller.hcl\n"
"==> Monitoring evaluation \"7d8911a7\"\n"
"    Evaluation triggered by job \"linstor-controller\"\n"
"==> Monitoring evaluation \"7d8911a7\"\n"
"    Evaluation within deployment: \"436f4b2d\"\n"
"    Allocation \"0b564c73\" created: node \"07754224\", group \"controller\"\n"
"    Evaluation status changed: \"pending\" -> \"complete\"\n"
"==> Evaluation \"7d8911a7\" finished with status \"complete\"\n"

#. type: Title =====
#, no-wrap
msgid "Using a Host Volume for LINSTOR's Database"
msgstr "LINSTOR データベースにホストボリュームを使用"

#. type: Plain text
msgid ""
"If you want to try LINSTOR without setting up an external database, you can "
"make use of LINSTOR's built-in filesystem based database. To make the "
"database persistent, you need to ensure it is placed on a host volume."
msgstr ""
"外部データベースを設定せずにLINSTORを試したい場合は、LINSTOR 組み込みのファイ"
"ルシステムベースのデータベースを利用できます。データベースを永続的にするに"
"は、データベースがホストボリュームに配置されていることを確認する必要がありま"
"す。"

#. type: Plain text
msgid ""
"Using a host volume means that only a single node is able to run the LINSTOR "
"Controller. If the node is unavailable, the LINSTOR Cluster will also be "
"unavailable. For alternatives, use an external (highly available) database "
"or deploy the <<s-linstor_ha,LINSTOR cluster directly on the hosts>>."
msgstr ""
"ホストボリュームを使用すると、1つのノードのみでLINSTOR コントローラを実行でき"
"ます。ノードが使用不可の場合は、LINSTOR クラスタも使用不可になります。代替策"
"として、外部(高可用性)データベースを使用するか、 <<s-linstor_ha,LINSTORクラス"
"タをホストに直接導入>> します。"

#. type: Plain text
msgid ""
"To create a host volume for the LINSTOR database, first create the directory "
"on the host with the expected permissions"
msgstr ""
"LINSTOR データベース用のホストボリュームを作成するには、まず、必要な権限を持"
"つディレクトリをホスト上に作成します。"

#. type: delimited block -
#, no-wrap
msgid ""
"$ mkdir -p /var/lib/linstor\n"
"$ chown -R 1000:0 /var/lib/linstor\n"
msgstr ""
"$ mkdir -p /var/lib/linstor\n"
"$ chown -R 1000:0 /var/lib/linstor\n"

#. type: Plain text
msgid ""
"Then add the following snippet to your Nomad agent configuration and restart "
"Nomad"
msgstr ""
"次に、以下のスニペットをNomadエージェント構成に追加し、Nomadを再起動します。"

#. type: Block title
#, no-wrap
msgid "/etc/nomad.d/host-volume-linstor-db.hcl"
msgstr "/etc/nomad.d/host-volume-linstor-db.hcl"

#. type: delimited block -
#, no-wrap
msgid ""
"client {\n"
"  host_volume \"linstor-db\" {\n"
"    path = \"/var/lib/linstor\"\n"
"  }\n"
"}\n"
msgstr ""
"client {\n"
"  host_volume \"linstor-db\" {\n"
"    path = \"/var/lib/linstor\"\n"
"  }\n"
"}\n"

#. type: Plain text
msgid ""
"Then, add the following snippets to the `linstor-controller.hcl` example "
"from above and adapt the `connection_url` option from the configuration "
"template."
msgstr ""
"次に、上記の例の `linstor-controller.hcl` に次のスニペットを追加し、構成テン"
"プレートの `connection_url` オプションを変更します。"

#. type: Block title
#, no-wrap
msgid "`job > group`"
msgstr "`job > group`"

#. type: delimited block -
#, no-wrap
msgid ""
"volume \"linstor-db\" {\n"
"  type = \"host\"\n"
"  source = \"linstor-db\"\n"
"}\n"
msgstr ""
"volume \"linstor-db\" {\n"
"  type = \"host\"\n"
"  source = \"linstor-db\"\n"
"}\n"

#. type: Block title
#, no-wrap
msgid "`job > group > task`"
msgstr "`job > group > task`"

#. type: delimited block -
#, no-wrap
msgid ""
"volume_mount {\n"
"  volume = \"linstor-db\"\n"
"  destination = \"/var/lib/linstor\"\n"
"}\n"
msgstr ""
"volume_mount {\n"
"  volume = \"linstor-db\"\n"
"  destination = \"/var/lib/linstor\"\n"
"}\n"

#. type: delimited block -
#, no-wrap
msgid ""
"template {\n"
"  destination = \"local/linstor.toml\"\n"
"  data = <<EOH\n"
"    [db]\n"
"    user = \"linstor\"\n"
"    password = \"linstor\"\n"
"    connection_url = \"jdbc:h2:/var/lib/linstor/linstordb\"\n"
"  EOH\n"
"}\n"
msgstr ""
"template {\n"
"  destination = \"local/linstor.toml\"\n"
"  data = <<EOH\n"
"    [db]\n"
"    user = \"linstor\"\n"
"    password = \"linstor\"\n"
"    connection_url = \"jdbc:h2:/var/lib/linstor/linstordb\"\n"
"  EOH\n"
"}\n"

#. type: Title ====
#, no-wrap
msgid "Creating a LINSTOR Satellite Job"
msgstr "LINSTOR サテライトジョブの作成"

#. type: Plain text
msgid ""
"In Nomad, the LINSTOR satellites are deployed as a system job that runs in a "
"privileged container. In addition to the satellites, the job will also load "
"the DRBD module along with other kernel modules used by LINSTOR."
msgstr ""
"Nomad で LINSTORサテライトは、Nomadのシステムジョブとしてデプロイされ、特権コ"
"ンテナー内で実行されます。サテライトに加えて、このジョブはLINSTORで使用される"
"他のカーネルモジュールとともにDRBDモジュールもロードします。"

#. type: Plain text
msgid ""
"The following example will create a Nomad job starting a LINSTOR satellite "
"on every node in data center `dc1`."
msgstr ""
"次の例では、Nomadジョブを作成して、データセンター `dc1` のすべてのノードで"
"LINSTORサテライトを開始します。"

#. type: Block title
#, no-wrap
msgid "linstor-satellite.hcl"
msgstr "linstor-satellite.hcl"

#. type: delimited block -
#, no-wrap
msgid ""
"job \"linstor-satellite\" {\n"
"  datacenters = [\"dc1\"] <1>\n"
"  type = \"system\"\n"
msgstr ""
"job \"linstor-satellite\" {\n"
"  datacenters = [\"dc1\"] <1>\n"
"  type = \"system\"\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  group \"satellite\" {\n"
"    network {\n"
"      mode = \"host\"\n"
"    }\n"
msgstr ""
"  group \"satellite\" {\n"
"    network {\n"
"      mode = \"host\"\n"
"    }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"    volume \"dev\" { <2>\n"
"      type = \"host\"\n"
"      source = \"dev\"\n"
"    }\n"
msgstr ""
"    volume \"dev\" { <2>\n"
"      type = \"host\"\n"
"      source = \"dev\"\n"
"    }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"    task \"linstor-satellite\" {\n"
"      driver = \"docker\"\n"
msgstr ""
"    task \"linstor-satellite\" {\n"
"      driver = \"docker\"\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      config {\n"
"        image = \"drbd.io/linstor-satellite:v1.13.0\" <3>\n"
msgstr ""
"      config {\n"
"        image = \"drbd.io/linstor-satellite:v1.13.0\" <3>\n"

#. type: delimited block -
#, no-wrap
msgid ""
"        auth { <4>\n"
"          username = \"example\"\n"
"          password = \"example\"\n"
"          server_address = \"drbd.io\"\n"
"        }\n"
msgstr ""
"        auth { <4>\n"
"          username = \"example\"\n"
"          password = \"example\"\n"
"          server_address = \"drbd.io\"\n"
"        }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"        privileged = true <5>\n"
"        network_mode = \"host\" <6>\n"
"      }\n"
msgstr ""
"        privileged = true <5>\n"
"        network_mode = \"host\" <6>\n"
"      }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      volume_mount { <2>\n"
"        volume = \"dev\"\n"
"        destination = \"/dev\"\n"
"      }\n"
msgstr ""
"      volume_mount { <2>\n"
"        volume = \"dev\"\n"
"        destination = \"/dev\"\n"
"      }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      resources {\n"
"        cpu    = 500 # 500 MHz\n"
"        memory = 500 # 500MB\n"
"      }\n"
"    }\n"
msgstr ""
"      resources {\n"
"        cpu    = 500 # 500 MHz\n"
"        memory = 500 # 500MB\n"
"      }\n"
"    }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"    task \"drbd-loader\" {\n"
"      driver = \"docker\"\n"
"      lifecycle {\n"
"        hook = \"prestart\" <7>\n"
"      }\n"
msgstr ""
"    task \"drbd-loader\" {\n"
"      driver = \"docker\"\n"
"      lifecycle {\n"
"        hook = \"prestart\" <7>\n"
"      }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      config {\n"
"        image = \"drbd.io/drbd9-rhel8:v9.0.29\" <8>\n"
msgstr ""
"      config {\n"
"        image = \"drbd.io/drbd9-rhel8:v9.0.29\" <8>\n"

#. type: delimited block -
#, no-wrap
msgid ""
"        privileged = true <5>\n"
"        auth { <4>\n"
"          username = \"example\"\n"
"          password = \"example\"\n"
"          server_address = \"drbd.io\"\n"
"        }\n"
"      }\n"
msgstr ""
"        privileged = true <5>\n"
"        auth { <4>\n"
"          username = \"example\"\n"
"          password = \"example\"\n"
"          server_address = \"drbd.io\"\n"
"        }\n"
"      }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      env {\n"
"        LB_HOW = \"shipped_modules\" <9>\n"
"      }\n"
msgstr ""
"      env {\n"
"        LB_HOW = \"shipped_modules\" <9>\n"
"      }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      volume_mount { <10>\n"
"        volume = \"kernel-src\"\n"
"        destination = \"/usr/src\"\n"
"      }\n"
"      volume_mount { <10>\n"
"        volume = \"modules\"\n"
"        destination = \"/lib/modules\"\n"
"      }\n"
"    }\n"
msgstr ""
"      volume_mount { <10>\n"
"        volume = \"kernel-src\"\n"
"        destination = \"/usr/src\"\n"
"      }\n"
"      volume_mount { <10>\n"
"        volume = \"modules\"\n"
"        destination = \"/lib/modules\"\n"
"      }\n"
"    }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"    volume \"modules\" { <10>\n"
"      type = \"host\"\n"
"      source = \"modules\"\n"
"      read_only = true\n"
"    }\n"
msgstr ""
"    volume \"modules\" { <10>\n"
"      type = \"host\"\n"
"      source = \"modules\"\n"
"      read_only = true\n"
"    }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"    volume \"kernel-src\" { <10>\n"
"      type = \"host\"\n"
"      source = \"kernel-src\"\n"
"      read_only = true\n"
"    }\n"
"  }\n"
"}\n"
msgstr ""
"    volume \"kernel-src\" { <10>\n"
"      type = \"host\"\n"
"      source = \"kernel-src\"\n"
"      read_only = true\n"
"    }\n"
"  }\n"
"}\n"

#. type: Plain text
msgid "Replace `dc1` with your own data center name."
msgstr "`dc1` はデータセンタ名に置き換えてください"

#. type: Plain text
msgid ""
"The `dev` host volume is the volume created in <<s-nomad-prepare>>, which "
"allows the satellite to manage the hosts block devices."
msgstr ""
"`dev` ホストボリュームは <<s-nomad-prepare>> で作成されたボリュームであり、サ"
"テライトがホストブロックデバイスを管理できるようにします。"

#. type: Plain text
msgid ""
"This sets the LINSTOR Satellite image to run. The latest images are "
"available from http://drbd.io[drbd.io]. The satellite image version has to "
"match the version of the controller image."
msgstr ""
"LINSTORのサテライトイメージを実行するように設定します。最新のコンテナイメージ"
"は http://drbd.io[drbd.io] から入手できます。サテライトイメージのバージョン"
"は、コントローライメージのバージョンと一致している必要があります。"

#. type: Plain text
msgid ""
"To configure storage devices, DRBD and load kernel modules, the containers "
"need to be running in privileged mode."
msgstr ""
"ストレージデバイスやDRBDを構成し、カーネルモジュールをロードするためには、コ"
"ンテナーを特権モードで実行する必要があります。"

#. type: Plain text
msgid ""
"The satellite needs to communicate with DRBD, which requires access to the "
"netlink interface running in the hosts network."
msgstr ""
"サテライトはDRBDと通信する必要があるため、ホストネットワークで実行されている"
"netlinkインターフェースにアクセスする必要があります。"

#. type: Plain text
msgid ""
"The `drbd-loader` task will be executed once at the start of the satellite "
"and load DRBD and other useful kernel modules."
msgstr ""
"`drbd-loader` タスクはサテライトの開始時に1回実行され、DRBDやその他の有用な"
"カーネルモジュールをロードします。"

#. type: Plain text
msgid ""
"The `drbd-loader` is specific to the distribution you are using. Available "
"options are:"
msgstr ""
"`drbd-loader` は、使用しているディストリビューションに固有のものです。使用可"
"能なオプションは次のとおりです。"

#. type: Plain text
msgid "`drbd.io/drbd9-bionic` for Ubuntu 18.04 (Bionic Beaver)"
msgstr "Ubuntu18.04(Bionic Beaver) 用の `drbd.io/drbd9-bionic`"

#. type: Plain text
msgid "`drbd.io/drbd9-focal` for Ubuntu 20.04 (Focal Fossa)"
msgstr "Ubuntu20.04(Focal Fossa) 用の `drbd.io/drbd9-focal`"

#. type: Plain text
msgid "`drbd.io/drbd9-rhel8` for RHEL 8"
msgstr "RHEL8 用の `drbd.io/drbd9-rhel8`"

#. type: Plain text
msgid "`drbd.io/drbd9-rhel7` for RHEL 7"
msgstr "RHEL7 用の `drbd.io/drbd9-rhel7`"

#. type: Plain text
msgid ""
"The `drbd-loader` container can be configured using environment variables. "
"`LB_HOW` tells the container how to insert the DRBD kernel module. Available "
"options are:"
msgstr ""
"`drbd-loader` コンテナは環境変数で設定できます。 `LB_HOW` はコンテナにDRBD"
"カーネルモジュールの挿入方法を指示します。使用可能なオプションは次のとおりで"
"す。"

#. type: Labeled list
#, no-wrap
msgid "`shipped_modules`"
msgstr "`shipped_modules`"

#. type: Plain text
msgid "Uses the prepackaged RPMs or DEBs delivered with the container."
msgstr "コンテナに同梱されているパッケージ済みのRPMまたはDEBを使用します。"

#. type: Labeled list
#, no-wrap
msgid "`compile`"
msgstr "`コンパイル`"

#. type: Plain text
msgid ""
"Compile DRBD from source. Requires access to the kernel headers (see below)."
msgstr ""
"ソースからDRBDをコンパイルします。カーネルヘッダーへのアクセスが必要です(下記"
"参照)。"

#. type: Labeled list
#, no-wrap
msgid "`deps_only`"
msgstr "`deps_only`"

#. type: Plain text
msgid ""
"Only try to load existing modules used by the LINSTOR satellite (for example "
"`dm_thin_pool` and `dm_cache`)."
msgstr ""
"LINSTOR サテライトで使用される既存のモジュール(例えば `dm_thin_pool` や "
"`dm_cache` など)のみをロードするようにします。"

#. type: Plain text
msgid ""
"In order for the `drbd-loader` container to build DRBD or load existing "
"modules, it needs access to a hosts `/usr/src` and `/lib/modules` "
"respectively."
msgstr ""
"`drbd-loader` コンテナがDRBDを構築したり、既存のモジュールをロードしたりする"
"ためには、ホストの `/usr/src` と `/lib/modules` にアクセスできる必要がありま"
"す。"

#. type: Plain text
msgid ""
"This requires setting up additional host volumes on every node. The "
"following snippet needs to be added to every Nomad agent confiration, then "
"Nomad needs to be restarted."
msgstr ""
"これには、すべてのノードに追加のホストボリュームを設定する必要があります。次"
"のスニペットをすべての Nomad エージェント構成に追加してから、Nomad を再起動す"
"る必要があります。"

#. type: Block title
#, no-wrap
msgid "/etc/nomad.d/drbd-loader-volumes.hcl"
msgstr "/etc/nomad.d/drbd-loader-volumes.hcl"

#. type: delimited block -
#, no-wrap
msgid ""
"client {\n"
"  host_volume \"modules\" {\n"
"    path = \"/lib/modules\"\n"
"    read_only = true\n"
"  }\n"
"  host_volume \"kernel-src\" {\n"
"    path = \"/usr/src\"\n"
"    read_only = true\n"
"  }\n"
"}\n"
msgstr ""
"client {\n"
"  host_volume \"modules\" {\n"
"    path = \"/lib/modules\"\n"
"    read_only = true\n"
"  }\n"
"  host_volume \"kernel-src\" {\n"
"    path = \"/usr/src\"\n"
"    read_only = true\n"
"  }\n"
"}\n"

#. type: delimited block -
#, no-wrap
msgid ""
"$ nomad job run linstor-satellite.hcl\n"
"==> Monitoring evaluation \"0c07469d\"\n"
"    Evaluation triggered by job \"linstor-satellite\"\n"
"==> Monitoring evaluation \"0c07469d\"\n"
"    Evaluation status changed: \"pending\" -> \"complete\"\n"
"==> Evaluation \"0c07469d\" finished with status \"complete\"\n"
msgstr ""
"$ nomad job run linstor-satellite.hcl\n"
"==> Monitoring evaluation \"0c07469d\"\n"
"    Evaluation triggered by job \"linstor-satellite\"\n"
"==> Monitoring evaluation \"0c07469d\"\n"
"    Evaluation status changed: \"pending\" -> \"complete\"\n"
"==> Evaluation \"0c07469d\" finished with status \"complete\"\n"

#. type: Title ====
#, no-wrap
msgid "Configuring LINSTOR in Nomad"
msgstr "NomadでのLINSTORの設定"

#. type: Plain text
msgid ""
"Once the `linstor-controller` and `linstor-satellite` jobs are running, you "
"can start configuring the cluster using the `linstor` command line tool."
msgstr ""
"`linstor-controller` および `linstor-satellite` ジョブが実行されたら、 "
"`linstor` コマンドラインツールを使用してクラスタの設定を開始できます。"

#. type: Plain text
msgid "This can done:"
msgstr "これは次のように実行できます。"

#. type: Plain text
msgid "directly by `nomad exec`-ing into the `linstor-controller` container."
msgstr "コンテナに入って `nomad exec` で直接 `linstor-controller` を実行する。"

#. type: Plain text
msgid ""
"using the `drbd.io/linstor-client` container on the host running the "
"`linstor-controller`:"
msgstr ""
"`linstor-controller` を実行しているホスト上で `drbd.io/linstor-client` コンテ"
"ナを使用する。"

#. type: delimited block -
#, no-wrap
msgid "docker run -it --rm --net=host drbd.io/linstor-client node create\n"
msgstr "docker run -it --rm --net=host drbd.io/linstor-client node create\n"

#. type: Plain text
msgid ""
"by installing the `linstor-client` package on the host running the `linstor-"
"controller`."
msgstr ""
"`linstor-client` パッケージを `linstor-controller` を実行しているホストにイン"
"ストールします。"

#. type: Plain text
msgid ""
"In all cases, you need to <<s-adding_nodes_to_your_cluster,add the "
"satellites to your cluster>> and <<s-storage_pools,create some storage "
"pools>>. For example, to add the node `nomad-01.example.com` and configure a "
"LVM Thin storage pool, you would run:"
msgstr ""
"いずれの場合も、 <<s-adding_nodes_to_your_cluster,サテライトをクラスタに追加 "
">> および <<s-storage_pools,ストレージプールを作成>> を実行する必要がありま"
"す。たとえば、ノード `nomad-01.example.com` を追加してLVMシンストレージプール"
"を構成するには、次のコマンドを実行します。"

#. type: delimited block -
#, no-wrap
msgid ""
"$ linstor node create nomad-01.example.com\n"
"$ linstor storage-pool create lvmthin nomad-01.example.com thinpool linstor_vg/thinpool\n"
msgstr ""
"$ linstor node create nomad-01.example.com\n"
"$ linstor storage-pool create lvmthin nomad-01.example.com thinpool linstor_vg/thinpool\n"

#. type: Plain text
msgid ""
"The CSI driver requires your satellites to be named after their hostname. To "
"be precise, the satellite name needs to match Nomads `attr.unique.hostname` "
"attribute on the node."
msgstr ""
"CSIドライバでは、サテライトにホスト名に基づいた名前を付ける必要があります。正"
"確に言うと、サテライト名はノードのNomads `attr.unique.hostname` 属性と一致す"
"る必要があります。"

#. type: Title ===
#, no-wrap
msgid "Deploying the LINSTOR CSI Driver in Nomad"
msgstr "LINSTOR CSIドライバのNomadへの配備"

#. type: Plain text
msgid ""
"The CSI driver is deployed as a system job, meaning it runs on every node in "
"the cluster."
msgstr ""
"CSIドライバはシステムジョブとしてデプロイされます。つまり、クラスタ内のすべて"
"のノードで実行されます。"

#. type: Plain text
msgid ""
"The following example will create a Nomad job starting a LINSTOR CSI Driver "
"on every node in data center `dc1`."
msgstr ""
"次の例では、データセンター `dc1` 内のすべてのノードでLINSTOR CSIドライバを起"
"動するNomadジョブを作成します。"

#. type: Block title
#, no-wrap
msgid "linstor-csi.hcl"
msgstr "linstor-csi.hcl"

#. type: delimited block -
#, no-wrap
msgid ""
"job \"linstor-csi\" {\n"
"  datacenters = [\"dc1\"] <1>\n"
"  type = \"system\"\n"
msgstr ""
"job \"linstor-csi\" {\n"
"  datacenters = [\"dc1\"] <1>\n"
"  type = \"system\"\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  group \"csi\" {\n"
"    network {\n"
"      mode = \"bridge\"\n"
"    }\n"
msgstr ""
"  group \"csi\" {\n"
"    network {\n"
"      mode = \"bridge\"\n"
"    }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"    service {\n"
"      connect {\n"
"        sidecar_service { <2>\n"
"          proxy {\n"
"            upstreams {\n"
"              destination_name = \"linstor-api\"\n"
"              local_bind_port  = 8080\n"
"            }\n"
"          }\n"
"        }\n"
"      }\n"
"    }\n"
msgstr ""
"    service {\n"
"      connect {\n"
"        sidecar_service { <2>\n"
"          proxy {\n"
"            upstreams {\n"
"              destination_name = \"linstor-api\"\n"
"              local_bind_port  = 8080\n"
"            }\n"
"          }\n"
"        }\n"
"      }\n"
"    }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"    task \"csi-plugin\" {\n"
"      driver = \"docker\"\n"
"      config {\n"
"        image = \"drbd.io/linstor-csi:v0.13.1\" <3>\n"
msgstr ""
"    task \"csi-plugin\" {\n"
"      driver = \"docker\"\n"
"      config {\n"
"        image = \"drbd.io/linstor-csi:v0.13.1\" <3>\n"

#. type: delimited block -
#, no-wrap
msgid ""
"        args = [\n"
"          \"--csi-endpoint=unix://csi/csi.sock\",\n"
"          \"--node=${attr.unique.hostname}\", <5>\n"
"          \"--linstor-endpoint=http://${NOMAD_UPSTREAM_ADDR_linstor_api}\", <6>\n"
"          \"--log-level=info\"\n"
"        ]\n"
msgstr ""
"        args = [\n"
"          \"--csi-endpoint=unix://csi/csi.sock\",\n"
"          \"--node=${attr.unique.hostname}\", <5>\n"
"          \"--linstor-endpoint=http://${NOMAD_UPSTREAM_ADDR_linstor_api}\", <6>\n"
"          \"--log-level=info\"\n"
"        ]\n"

#. type: delimited block -
#, no-wrap
msgid ""
"        privileged = true <7>\n"
"      }\n"
msgstr ""
"        privileged = true <7>\n"
"      }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      csi_plugin { <8>\n"
"        id = \"linstor.csi.linbit.com\"\n"
"        type = \"monolith\"\n"
"        mount_dir = \"/csi\"\n"
"      }\n"
msgstr ""
"      csi_plugin { <8>\n"
"        id = \"linstor.csi.linbit.com\"\n"
"        type = \"monolith\"\n"
"        mount_dir = \"/csi\"\n"
"      }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      resources {\n"
"        cpu    = 100 # 100 MHz\n"
"        memory = 200 # 200MB\n"
"      }\n"
"    }\n"
"  }\n"
"}\n"
msgstr ""
"      resources {\n"
"        cpu    = 100 # 100 MHz\n"
"        memory = 200 # 200MB\n"
"      }\n"
"    }\n"
"  }\n"
"}\n"

#. type: Plain text
msgid ""
"The `sidecar_service` stanza enables use of the service mesh generated by "
"using {consul-connect}[Consul Connect].  If you have not configured this "
"feature in Nomad, or you are using an external LINSTOR Controller, you can "
"skip this configuration."
msgstr ""
"`sidecar_service` スタンザは、 {consul-connect}[Consul Connect] を使用して生"
"成されたサービスメッシュの使用を可能にします。Nomadでこの機能を構成していない"
"場合、または外部 LINSTOR コントローラーを使用している場合は、この構成をスキッ"
"プできます。"

#. type: Plain text
msgid ""
"This sets the LINSTOR CSI Driver image to run. The latest images are "
"available from http://drbd.io[drbd.io]."
msgstr ""
"LINSTOR CSIドライバイメージを実行するように設定します。最新のイメージは "
"http://drbd.io[drbd.io] から入手できます。"

#. type: Plain text
msgid ""
"This argument sets the node name used by the CSI driver to identify itself "
"in the LINSTOR API. By default, this is set to the node's hostname."
msgstr ""
"この引数は、CSIドライバがLINSTOR APIで自身を識別するために使用するノード名を"
"設定します。デフォルトでは、これはノードのホスト名に設定されます。"

#. type: Plain text
msgid ""
"This argument sets the LINSTOR API endpoint. If you are not using the consul "
"service mesh (see Nr. 2 above), this needs to be set to the Controllers API "
"endpoint. The endpoint needs to be reachable from every node this is "
"deployed on."
msgstr ""
"この引数は、LINSTOR APIエンドポイントを設定します。consulサービスメッシュ(前"
"述のNr.2を参照)を使用していない場合は、これをControllers APIエンドポイントに"
"設定する必要があります。エンドポイントは、デプロイされているすべてのノードか"
"ら到達可能である必要があります。"

#. type: Plain text
msgid ""
"The CSI driver needs to execute mount commands, requiring privileged "
"containers."
msgstr ""
"CSIドライバはマウントコマンドを実行する必要があるため、特権付きコンテナが必要"
"です。"

#. type: Plain text
msgid ""
"The `csi_plugin` stanza informs Nomad that this task is a CSI plug-in. The "
"Nomad agent will forward requests for volumes to one of the jobs containers."
msgstr ""
"`csi_plugin` スタンザは、このタスクがCSIプラグインであることをNomadに通知しま"
"す。Nomadエージェントは、ボリュームに対する要求をジョブコンテナーの1つに転送"
"します。"

#. type: delimited block -
#, no-wrap
msgid ""
"$ nomad job run linstor-csi.hcl\n"
"==> Monitoring evaluation \"0119f19c\"\n"
"    Evaluation triggered by job \"linstor-csi\"\n"
"==> Monitoring evaluation \"0119f19c\"\n"
"    Evaluation status changed: \"pending\" -> \"complete\"\n"
"==> Evaluation \"0119f19c\" finished with status \"complete\"\n"
msgstr ""
"$ nomad job run linstor-csi.hcl\n"
"==> Monitoring evaluation \"0119f19c\"\n"
"    Evaluation triggered by job \"linstor-csi\"\n"
"==> Monitoring evaluation \"0119f19c\"\n"
"    Evaluation status changed: \"pending\" -> \"complete\"\n"
"==> Evaluation \"0119f19c\" finished with status \"complete\"\n"

#. type: Title ===
#, no-wrap
msgid "Using LINSTOR Volumes in Nomad"
msgstr "NomadでのLINSTORボリュームの使用"

#. type: Plain text
msgid ""
"Volumes in Nomad are created using a https://www.nomadproject.io/docs/"
"commands/volume/create#volume-specification[volume-specification]."
msgstr ""
"Nomadのボリュームは、 https://www.nomadproject.io/docs/commands/volume/"
"create#volume-specification[volume仕様] を使用して作成されます。"

#. type: Plain text
msgid ""
"As an example, the following specification requests a 1GiB volume with 2 "
"replicas from the LINSTOR storage pool `thinpool`."
msgstr ""
"例として、次の指定では、2つのレプリカを持つ1GiBボリュームがLINSTORストレージ"
"プール `thinpool` から要求されます。"

#. type: Block title
#, no-wrap
msgid "vol1.hcl"
msgstr "vol1.hcl"

#. type: delimited block -
#, no-wrap
msgid ""
"id = \"vol1\" <1>\n"
"name = \"vol1\" <2>\n"
msgstr ""
"id = \"vol1\" <1>\n"
"name = \"vol1\" <2>\n"

#. type: delimited block -
#, no-wrap
msgid ""
"type = \"csi\"\n"
"plugin_id = \"linstor.csi.linbit.com\"\n"
msgstr ""
"type = \"csi\"\n"
"plugin_id = \"linstor.csi.linbit.com\"\n"

#. type: delimited block -
#, no-wrap
msgid ""
"capacity_min = \"1GiB\"\n"
"capacity_max = \"1GiB\"\n"
msgstr ""
"capacity_min = \"1GiB\"\n"
"capacity_max = \"1GiB\"\n"

#. type: delimited block -
#, no-wrap
msgid ""
"capability {\n"
"  access_mode = \"single-node-writer\" <3>\n"
"  attachment_mode = \"file-system\" <4>\n"
"}\n"
msgstr ""
"capability {\n"
"  access_mode = \"single-node-writer\" <3>\n"
"  attachment_mode = \"file-system\" <4>\n"
"}\n"

#. type: delimited block -
#, no-wrap
msgid ""
"mount_options {\n"
"  fs_type = \"ext4\" <5>\n"
"}\n"
msgstr ""
"mount_options {\n"
"  fs_type = \"ext4\" <5>\n"
"}\n"

#. type: delimited block -
#, no-wrap
msgid ""
"parameters { <6>\n"
"  \"resourceGroup\" = \"default-resource\",\n"
"  \"storagePool\" = \"thinpool\",\n"
"  \"autoPlace\" = \"2\"\n"
"}\n"
msgstr ""
"parameters { <6>\n"
"  \"resourceGroup\" = \"default-resource\",\n"
"  \"storagePool\" = \"thinpool\",\n"
"  \"autoPlace\" = \"2\"\n"
"}\n"

#. type: Plain text
msgid ""
"The `id` is used to reference this volume in Nomad. Used in the `volume."
"source` field of a job specification."
msgstr ""
"`id` は、Nomad でこのボリュームを参照するために使用されます。ジョブ指定の "
"`volume.source` フィールドで使用されます。"

#. type: Plain text
msgid ""
"The `name` is used when creating the volume in the back end (that is, "
"LINSTOR). Ideally this matches the `id` and is a valid LINSTOR resource "
"name. If the name would not be valid, LINSTOR CSI will generate a random "
"compatible name."
msgstr ""
"`name` は、バックエンド(LINSTORなど)でボリュームを作成するときに使用されま"
"す。理想的には、これは `id` と一致し、有効なLINSTORリソース名です。名前が有効"
"でない場合は、LINSTOR CSIによって互換性のあるランダムな名前が生成されます。"

#. type: Plain text
msgid "What kind of access the volume should support. LINSTOR CSI supports:"
msgstr ""
"ボリュームがサポートする必要があるアクセスの種類。LINSTOR CSIは次のものをサ"
"ポートします。"

#. type: Labeled list
#, no-wrap
msgid "`single-node-reader-only`"
msgstr "`single-node-reader-only`"

#. type: Plain text
msgid "Allow read only access on one node at a time."
msgstr "一度に 1 つのノードに対してのみ読み取りアクセスを許可する"

#. type: Labeled list
#, no-wrap
msgid "`single-node-writer`"
msgstr "`single-node-writer`"

#. type: Plain text
msgid "Allow read and write access on one node at a time."
msgstr "一度に 1 つのノードに対してのみ読み取り/書き込みアクセスを許可する"

#. type: Labeled list
#, no-wrap
msgid "`multi-node-reader-only`"
msgstr "`multi-node-reader-only`"

#. type: Plain text
msgid "Allow read only access from multiple nodes."
msgstr "複数のノードからの読み取り専用アクセスを許可する"

#. type: Plain text
msgid "Can be `file-system` or `block-device`."
msgstr "`file-system` または `block-device` のいずれかです。"

#. type: Plain text
msgid "Specify the file system to use. LINSTOR CSI supports `ext4` and `xfs`."
msgstr ""
"使用するファイルシステムを指定します。LINSTOR CSI は `ext4` と `xfs` をサポー"
"トします。"

#. type: Plain text
msgid ""
"Additional parameters to pass to LINSTOR CSI. The example above requests the "
"resource be part of the `default-resource` <<s-linstor-resource-groups,"
"resource group>> and should deploy 2 replicas."
msgstr ""
"LINSTOR CSI に渡す追加パラメータ。上記の例では、リソースが `default-"
"resource` <<s-linstor-resource-groups,resource group>> の一部であることを要求"
"しており、2つのレプリカをデプロイする必要があります。"

#. type: Plain text
msgid ""
"For a complete list of available parameters, you can check out the <<s-"
"kubernetes-sc-parameters,guide on Kubernetes storage classes>>. Kubernetes, "
"like Nomad, makes use of the CSI plug-in."
msgstr ""
"使用可能なパラメータの完全なリストについては、 <<s-kubernetes-sc-parameters,"
"ストレージクラスで使用可能なパラメータ>> を参照ください。Kubernetes は Nomad "
"と同様に CSI プラグインを使用します。"

#. type: Plain text
msgid "To create the volume, run the following command:"
msgstr "ボリュームを作成するには、次のコマンドを実行します。"

#. type: delimited block -
#, no-wrap
msgid ""
"$ nomad volume create vol1.hcl\n"
"Created external volume vol1 with ID vol1\n"
"$ nomad volume status\n"
"Container Storage Interface\n"
"ID    Name  Plugin ID               Schedulable  Access Mode\n"
"vol1  vol1  linstor.csi.linbit.com  true         <none>\n"
"$ linstor resource list\n"
"╭──────────────────────────────────────────────────────────────────────────────────────────────╮\n"
"┊ ResourceName ┊ Node                 ┊ Port ┊ Usage  ┊ Conns ┊    State ┊ CreatedOn           ┊\n"
"╞══════════════════════════════════════════════════════════════════════════════════════════════╡\n"
"┊ vol1         ┊ nomad-01.example.com ┊ 7000 ┊ Unused ┊ Ok    ┊ UpToDate ┊ 2021-06-15 14:56:32 ┊\n"
"┊ vol1         ┊ nomad-02.example.com ┊ 7000 ┊ Unused ┊ Ok    ┊ UpToDate ┊ 2021-06-15 14:56:32 ┊\n"
"╰──────────────────────────────────────────────────────────────────────────────────────────────╯\n"
msgstr ""
"$ nomad volume create vol1.hcl\n"
"Created external volume vol1 with ID vol1\n"
"$ nomad volume status\n"
"Container Storage Interface\n"
"ID    Name  Plugin ID               Schedulable  Access Mode\n"
"vol1  vol1  linstor.csi.linbit.com  true         <none>\n"
"$ linstor resource list\n"
"╭──────────────────────────────────────────────────────────────────────────────────────────────╮\n"
"┊ ResourceName ┊ Node                 ┊ Port ┊ Usage  ┊ Conns ┊    State ┊ CreatedOn           ┊\n"
"╞══════════════════════════════════════════════════════════════════════════════════════════════╡\n"
"┊ vol1         ┊ nomad-01.example.com ┊ 7000 ┊ Unused ┊ Ok    ┊ UpToDate ┊ 2021-06-15 14:56:32 ┊\n"
"┊ vol1         ┊ nomad-02.example.com ┊ 7000 ┊ Unused ┊ Ok    ┊ UpToDate ┊ 2021-06-15 14:56:32 ┊\n"
"╰──────────────────────────────────────────────────────────────────────────────────────────────╯\n"

#. type: Title ====
#, no-wrap
msgid "Using Volumes in Jobs"
msgstr "ジョブでのボリュームの使用"

#. type: Plain text
msgid ""
"To use the volume in a job, add the `volume` and `volume_mount` stanzas to "
"the job specification:"
msgstr ""
"ジョブでボリュームを使用するには、ジョブ指定に `volume` および "
"`volume_mount` スタンザを追加します。"

#. type: delimited block -
#, no-wrap
msgid ""
"job \"example\" {\n"
"  ...\n"
msgstr ""
"job \"example\" {\n"
"  ...\n"

#. type: delimited block -
#, no-wrap
msgid ""
"  group \"example\" {\n"
"    volume \"example-vol\" {\n"
"      type = \"csi\"\n"
"      source = \"vol1\"\n"
"      attachment_mode = \"file-system\"\n"
"      access_mode = \"single-node-writer\"\n"
"    }\n"
msgstr ""
"  group \"example\" {\n"
"    volume \"example-vol\" {\n"
"      type = \"csi\"\n"
"      source = \"vol1\"\n"
"      attachment_mode = \"file-system\"\n"
"      access_mode = \"single-node-writer\"\n"
"    }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"    task \"mount-example\" {\n"
"      volume_mount {\n"
"        volume = \"example-vol\"\n"
"        destination = \"/data\"\n"
"      }\n"
msgstr ""
"    task \"mount-example\" {\n"
"      volume_mount {\n"
"        volume = \"example-vol\"\n"
"        destination = \"/data\"\n"
"      }\n"

#. type: delimited block -
#, no-wrap
msgid ""
"      ...\n"
"    }\n"
"  }\n"
"}\n"
msgstr ""
"      ...\n"
"    }\n"
"  }\n"
"}\n"

#. type: Title ====
#, no-wrap
msgid "Creating Snapshots of Volumes"
msgstr "ボリュームのスナップショットの作成"

#. type: Plain text
msgid ""
"LINSTOR can create snapshots of existing volumes, provided the underlying "
"storage pool driver supports snapshots."
msgstr ""
"基礎となるストレージプールドライバがスナップショットをサポートしていれば、"
"LINSTORは既存のボリュームのスナップショットを作成できます。"

#. type: Plain text
msgid ""
"The following command creates a snapshot named `snap1` of the volume `vol1`."
msgstr ""
"次のコマンドは、ボリューム `vol1` の `snap1` という名前のスナップショットを作"
"成します。"

#. type: delimited block -
#, no-wrap
msgid ""
"$ nomad volume snapshot create vol1 snap1\n"
"Snapshot ID  Volume ID  Size     Create Time  Ready?\n"
"snap1        vol1       1.0 GiB  None         true\n"
"$ linstor s l\n"
"╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮\n"
"┊ ResourceName ┊ SnapshotName ┊ NodeNames                                  ┊ Volumes  ┊ CreatedOn           ┊ State      ┊\n"
"╞════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╡\n"
"┊ vol1         ┊ snap1        ┊ nomad-01.example.com, nomad-02.example.com ┊ 0: 1 GiB ┊ 2021-06-15 15:04:10 ┊ Successful ┊\n"
"╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯\n"
msgstr ""
"$ nomad volume snapshot create vol1 snap1\n"
"Snapshot ID  Volume ID  Size     Create Time  Ready?\n"
"snap1        vol1       1.0 GiB  None         true\n"
"$ linstor s l\n"
"╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮\n"
"┊ ResourceName ┊ SnapshotName ┊ NodeNames                                  ┊ Volumes  ┊ CreatedOn           ┊ State      ┊\n"
"╞════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╡\n"
"┊ vol1         ┊ snap1        ┊ nomad-01.example.com, nomad-02.example.com ┊ 0: 1 GiB ┊ 2021-06-15 15:04:10 ┊ Successful ┊\n"
"╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯\n"

#. type: Plain text
msgid ""
"You can use a snapshot to pre-populate an existing volume with data from the "
"snapshot"
msgstr ""
"スナップショットを使用して、既存のボリュームにスナップショットのデータを事前"
"に設定できます。"

#. type: delimited block -
#, no-wrap
msgid ""
"$ cat vol2.hcl\n"
"id = \"vol2\"\n"
"name = \"vol2\"\n"
"snapshot_id = \"snap1\"\n"
msgstr ""
"$ cat vol2.hcl\n"
"id = \"vol2\"\n"
"name = \"vol2\"\n"
"snapshot_id = \"snap1\"\n"

#. type: delimited block -
#, no-wrap
msgid ""
"type = \"csi\"\n"
"plugin_id = \"linstor.csi.linbit.com\"\n"
"...\n"
msgstr ""
"type = \"csi\"\n"
"plugin_id = \"linstor.csi.linbit.com\"\n"
"...\n"

#. type: delimited block -
#, no-wrap
msgid ""
"$ nomad volume create vol2.hcl\n"
"Created external volume vol2 with ID vol2\n"
msgstr ""
"$ nomad volume create vol2.hcl\n"
"Created external volume vol2 with ID vol2\n"
