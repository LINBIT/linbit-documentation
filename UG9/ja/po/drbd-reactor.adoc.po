# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: \n"
"Report-Msgid-Bugs-To: documentation@linbit.com\n"
"POT-Creation-Date: 2024-09-20 18:07+0900\n"
"PO-Revision-Date: 2024-05-27 12:14+0900\n"
"Last-Translator: 黒木　博 <h-kuroki@sios.com>\n"
"Language-Team: \n"
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: Poedit 3.4.4\n"

#. type: Title ==
#, no-wrap
msgid "DRBD Reactor"
msgstr "DRBD Reactor"

#. type: Plain text
msgid ""
"indexterm2:[DRBD Reactor] is a daemon that monitors DRBD events and reacts "
"to them.  DRBD Reactor has various potential uses, from monitoring DRBD "
"resources and metrics, to creating failover clusters to providing highly "
"available services that you would usually need to configure using complex "
"cluster managers."
msgstr ""
"indexterm2:[DRBD Reactor]は、DRBDのイベントを監視し、それらに対応するデーモン"
"です。 DRBD Reactorは、DRBDのリソースと指標の監視から、フェイルオーバークラス"
"タの作成、通常は複雑なクラスタマネージャを使って設定する必要がある高可用性"
"サービスの提供まで、さまざまな用途に利用できます。"

#. type: Title ===
#, no-wrap
msgid "Installing DRBD Reactor"
msgstr "DRBD Reactorのインストール"

#. type: Plain text
msgid ""
"DRBD Reactor can be installed from source files found within https://github."
"com/LINBIT/drbd-reactor[the project's GitHub repository]. See the "
"instructions there for details and any prerequisites."
msgstr ""
"DRBD Reactorは、プロジェクトのGitHubリポジトリ( https://github.com/LINBIT/"
"drbd-reactor )で見つかるソースファイルからインストールすることができます。詳"
"細や前提条件についてはそちらの指示をご覧ください。"

#. type: Plain text
msgid ""
"Alternatively, LINBIT customers can install DRBD Reactor from prebuilt "
"packages, available from LINBIT's `drbd-9` packages repository."
msgstr ""
"また、LINBIT のお客様は DRBD Reactor を LINBIT の `drbd-9` パッケージリポジト"
"リからビルド済みパッケージとしてインストールすることも可能です。"

#. type: Plain text
msgid ""
"Once installed, you can verify DRBD Reactor's version number by using the "
"`drbd-reactor --version` command."
msgstr ""
"インストール後、 `drbd-reactor --version` コマンドを使用して、DRBD Reactor の"
"バージョン番号を確認できます。"

#. type: Title ===
#, no-wrap
msgid "DRBD Reactor's Components"
msgstr "DRBD Reactor のコンポーネント"

#. type: Plain text
msgid ""
"Because DRBD Reactor has many different uses, it was split into two "
"components: a core component and a plugin component."
msgstr ""
"DRBD Reactorはさまざまな用途があるため、コアコンポーネントとプラグインコン"
"ポーネントに分割されました。"

#. type: Title ====
#, no-wrap
msgid "DRBD Reactor Core"
msgstr "DRBD Reactor コア"

#. type: Plain text
msgid ""
"DRBD Reactor’s core component is responsible for collecting DRBD events, "
"preparing them, and sending them to the DRBD Reactor plugins."
msgstr ""
"DRBD Reactorの中核コンポーネントは、DRBDイベントを収集し、整形して、それらを"
"DRBD Reactorプラグインに送信する役割を担っています。"

#. type: Plain text
msgid ""
"The core can be reloaded with an all new or an additional, updated "
"configuration. It can stop plugin instances no longer required and start new "
"plugin threads without losing DRBD events.  Last but not least, the core has "
"to ensure that plugins receive an initial and complete DRBD state."
msgstr ""
"コアは新しい設定や追加の更新された設定で再読み込みできます。必要ないプラグイ"
"ンインスタンスを停止し、新しいプラグインスレッドを開始することができ、DRBDイ"
"ベントを失わずに行えます。そして最後に、コアはプラグインが初期状態および完全"
"なDRBDの状態を受け取ることを確認しなければなりません。"

#. type: Title ====
#, no-wrap
msgid "DRBD Reactor Plugins"
msgstr "DRBD Reactor プラグイン"

#. type: Plain text
msgid ""
"Plugins provide DRBD Reactor with its functionality and there are different "
"plugins for different uses. A plugin receives messages from the core "
"component and acts upon DRBD resources based on the message content and "
"according to the plugin’s type and configuration."
msgstr ""
"プラグインは、DRBD Reactorの機能を提供し、異なる用途に対応するために異なるプ"
"ラグインが存在します。プラグインは、コアコンポーネントからメッセージを受信"
"し、メッセージの内容に基づいてDRBDリソースに対してプラグインの種類と構成に"
"従って動作します。"

#. type: Plain text
msgid ""
"Plugins can be instantiated multiple times, so there can be multiple "
"instances of every plugin type. So, for example, numerous plugin instances "
"could provide high-availability in a cluster, one per DRBD resource."
msgstr ""
"プラグインは複数回インスタンス化されることができるため、全てのプラグインタイ"
"プの複数のインスタンスが存在する可能性があります。例えば、多数のプラグインイ"
"ンスタンスがクラスタ内で高可用性を提供したり、1つずつDRBDリソースに対応したり"
"することができます。"

#. type: Title ====
#, no-wrap
msgid "The Promoter Plugin"
msgstr "Promoter プラグイン"

#. type: Plain text
msgid ""
"The promoter plugin is arguably DRBD Reactor's most important and useful "
"feature. You can use it to create failover clusters hosting highly available "
"services more easily than using other more complex cluster resource managers "
"(CRMs). If you want to get started quickly, you can finish reading this "
"section, then skip to <<s-drbd-reactor-promoter-plugin-configuring>>. You "
"can then try the instructions in the <<s-drbd-reactor-creating-a-ha-file-"
"system-mount>> section for an example exercise."
msgstr ""
"プロモータープラグインは、DRBDリアクターの最も重要で便利な機能と言えます。こ"
"の機能を使用すると、他のより複雑なクラスターリソースマネージャー（CRM）よりも"
"簡単に高可用性サービスをホストするフェイルオーバークラスタを作成することがで"
"きます。素早く始めたい場合は、このセクションを読み終えてから、 <<s-drbd-"
"reactor-promoter-plugin-configuring>> にスキップしてください。次に、例として"
"練習するために <<s-drbd-reactor-creating-a-ha-file-system-mount>> セクション"
"の手順を試すことができます。"

#. type: Plain text
msgid ""
"The promoter plugin monitors events on DRBD resources and executes systemd "
"units. This plugin allows DRBD Reactor to provide failover functionality to "
"a cluster to create high-availability deployments. You can use DRBD Reactor "
"and its promoter plugin as a replacement for other CRMs, such as Pacemaker, "
"in many scenarios where its lightness and its configuration simplicity offer "
"advantages."
msgstr ""
"プロモータープラグインはDRBDリソースのイベントを監視し、systemdユニットを実行"
"します。このプラグインにより、DRBD Reactorはクラスタにフェイルオーバー機能を"
"提供して高可用性展開を作成することができます。DRBD Reactorおよびそのプロモー"
"タープラグインは、軽量さと構成の簡素さが利点となる多くのシナリオで、Pacemaker"
"など他のCRMの代替として使用できます。"

#. type: Plain text
msgid ""
"For example, you can use the promoter plugin to configure fully automatic "
"recovery of isolated primary nodes. Furthermore, there is no need for a "
"separate communication layer (such as Corosync), because DRBD and DRBD "
"Reactor (used as the CRM) will always agree on the quorum status of nodes."
msgstr ""
"例えば、プロモータープラグインを使用して、孤立したプライマリノードの完全自動"
"回復を設定することができます。さらに、Corosyncなどの別個の通信レイヤーは必要"
"ありません。なぜなら、DRBDとDRBDリアクター（CRMとして使用される）は常にノード"
"のクォーラム状態について合意するからです。"

#. type: Plain text
msgid ""
"A disadvantage to the promoter plugin when compared to a CRM such as "
"Pacemaker is that it is not possible to create order constraints that are "
"independent of colocations. For example, if a web service and a database run "
"on different nodes, Pacemaker can constrain the web service to start after "
"the database. DRBD Reactor and its promoter plugin cannot."
msgstr ""
"PacemakerなどのCRMと比較してPromoterプラグインの欠点は、配置に独立した順序制"
"約を作成することができないという点です。例えば、ウェブサービスとデータベース"
"が異なるノードで実行されている場合、Pacemakerはウェブサービスがデータベースの"
"後に起動するよう制約を設定できますが、DRBD ReactorとそのPromoterプラグインで"
"はできません。"

#. type: Title =====
#, no-wrap
msgid "How the Promoter Plugin Works"
msgstr "Promoter プラグインの仕組み"

#. type: Plain text
msgid ""
"The promoter plugin’s main function is that if a DRBD device can be "
"promoted, promote it to _Primary_ and start a set of user-defined services. "
"This could be a series of services, such as:"
msgstr ""
"プロモータープラグインの主な機能は、DRBD デバイスを昇格できる場合は、それを "
"_Primary_ に昇格させて、ユーザーが指定した一連のサービスを開始することです。"
"これには、次のような一連のサービスが含まれる可能性があります："

#. type: Plain text
msgid "Promote the DRBD device."
msgstr "DRBD デバイスを昇格する。"

#. type: Plain text
msgid "Mount the device to a mount point."
msgstr "デバイスをマウントポイントにマウントする。"

#. type: Plain text
msgid "Start a database that uses a database located at the mount point."
msgstr "マウントポイントにあるデータベースを使用するデータベースを起動します。"

#. type: Plain text
msgid ""
"If a resource loses quorum, DRBD Reactor stops these services so that "
"another node that still has quorum (or the node that lost quorum when it has "
"quorum again) can start the services."
msgstr ""
"リソースがクォーラムを失うと、DRBD Reactorはこれらのサービスを停止し、クォー"
"ラムが残っている別のノード(またはクォーラムを失ったノードがクォーラムを回復し"
"たとき)がサービスを開始できるようにします。"

#. type: Plain text
msgid ""
"The promoter plugin also supports Open Cluster Framework (OCF) resource "
"agents and failure actions such as rebooting a node if a resource fails to "
"demote, so that the resource can promote on another node."
msgstr ""
"promoterプラグインは、Open Cluster Framework（OCF）リソースエージェントや、リ"
"ソースの降格に失敗した場合の再起動などの障害対応アクションもサポートしてお"
"り、リソースが別のノードで昇格できるようにしています。"

#. type: Title ====
#, no-wrap
msgid "The User Mode Helper (UMH) Plugin"
msgstr "ユーザーモードヘルパー(UMH)プラグイン"

#. type: Plain text
msgid ""
"Using this plugin and its domain specific language (DSL), you can execute a "
"script if an event you define occurs. For example, you can run a script that "
"sends a Slack message whenever a DRBD resource loses connection."
msgstr ""
"このプラグインおよびその固有のドメイン固有言語（DSL）を使用すると、定義したイ"
"ベントが発生した場合にスクリプトを実行することができます。例えば、DRBDリソー"
"スが接続を失ったときにSlackメッセージを送信するスクリプトを実行できます。"

#. type: Plain text
msgid ""
"This functionality has existed before in DRBD with “user-defined helper "
"scripts” in “kernel space”. However, DRBD Reactor, including the UMH plugin, "
"can be executed in “user space”. This allows for easier container "
"deployments and use with “read-only” host file systems such as those found "
"within container distributions."
msgstr ""
"この機能は以前から、DRBDにおいて「カーネル空間」での「ユーザー定義ヘルパース"
"クリプト」によって存在していました。しかし、UMHプラグインを含むDRBD Reactorは"
"「ユーザースペース」で実行することができます。これにより、より簡単にコンテナ"
"の展開が可能となり、コンテナディストリビューション内で見られる「読み取り専"
"用」ホストファイルシステムとの組み合わせも容易になります。"

#. type: Plain text
msgid ""
"Using UMH plugins also provides a benefit beyond what was previously "
"possible using user defined helper scripts: Now you can define your own "
"rules for all the events that are possible for a DRBD resource. You are no "
"longer limited to only the few events that there are event handlers in the "
"kernel for."
msgstr ""
"UMHプラグインを使用することで、ユーザー定義のヘルパースクリプトを使用すること"
"よりも以前にはできなかった利点が得られます。今や、DRBDリソースで可能なすべて"
"のイベントに対して独自のルールを定義できます。カーネルでイベントハンドラが存"
"在するわずかなイベントに限定されることはもはやありません。"

#. type: Plain text
msgid "UMH plugin scripts can be of two types:"
msgstr "UMHプラグインスクリプトには、2つのタイプがあります。"

#. type: Plain text
msgid ""
"*User-defined filters*. These are “one-shot” UMH scripts where an event "
"happens that triggers the script."
msgstr ""
"*ユーザー定義フィルター*。これは、あるイベントが発生するとスクリプトが起動す"
"る「ワンショット」UMHスクリプトです。"

#. type: Plain text
msgid ""
"*Kernel called helper replacements*. This type of script is currently under "
"development. These are UMH scripts that require communication to and from "
"the kernel. An event triggers the script but an action within the script "
"requires the kernel to communicate back to the script so that the script can "
"take a next action, based on the failure or success of the kernel’s action. "
"An example of such a script would be a `before-resync-target` activated "
"script."
msgstr ""
"*ヘルパーの置き換えと呼ばれるカーネル*。このタイプのスクリプトは現在開発中で"
"す。これらは、カーネルとの通信を必要とするUMHスクリプトです。イベントがスクリ"
"プトをトリガーしますが、スクリプト内のアクションは、カーネルのアクションの失"
"敗または成功に基づいて、スクリプトが次のアクションを取ることができるように、"
"カーネルがスクリプトに通信を返すことを必要とします。このようなスクリプトの例"
"としては、`before-resync-target` アクティベート スクリプトがあります。"

#. type: Title ====
#, no-wrap
msgid "The Prometheus Monitoring Plugin"
msgstr "Prometheusモニタリングプラグイン"

#. type: Plain text
msgid ""
"This plugin provides a https://prometheus.io/[Prometheus] compatible "
"endpoint that exposes various DRBD metrics, including out-of-sync bytes, "
"resource roles (for example, _Primary_), and connection states (for example, "
"_Connected_). This information can then be used in every monitoring solution "
"that supports Prometheus endpoints. The full set of metrics and an example "
"Grafana dashboard are available at the https://github.com/LINBIT/drbd-"
"reactor/blob/master/doc/prometheus.md[DRBD Reactor GitHub repository]."
msgstr ""
"このプラグインは、さまざまなDRBDメトリクス（例：同期されていないバイト、リ"
"ソースの役割（たとえば、プライマリ）、および接続状態（たとえば、接続済み）を"
"公開する、 https://prometheus.io/[Prometheus] 互換のエンドポイントを提供しま"
"す。この情報は、Prometheusエンドポイントをサポートするすべての監視ソリュー"
"ションで使用できます。すべてのメトリクスと例としてのGrafanaダッシュボード"
"は、  https://github.com/LINBIT/drbd-reactor/blob/master/doc/prometheus."
"md[DRBD Reactor GitHubリポジトリ]で提供されています。"

#. type: Title ====
#, no-wrap
msgid "The AgentX Plugin for SNMP Monitoring"
msgstr "SNMPモニタリングのためのAgentXプラグイン"

#. type: Plain text
msgid ""
"This plugin acts as an AgentX subagent for SNMP to expose various DRBD "
"metrics, for example, to monitor DRBD resources via SNMP. AgentX is a "
"standardized protocol that can be used between the SNMP daemon and a "
"subagent, such as the AgentX plugin in DRBD Reactor."
msgstr ""
"このプラグインは、SNMPのためのAgentXサブエージェントとして機能し、さまざまな"
"DRBDメトリクスを公開します。たとえば、SNMPを介してDRBDリソースを監視するため"
"に使用されます。AgentXは、SNMPデーモンとAgentXプラグインのようなサブエージェ"
"ントの間で使用できる標準化されたプロトコルです。"

#. type: Plain text
msgid ""
"The DRBD metrics that this plugin exposes to the SNMP daemon are shown in "
"https://github.com/LINBIT/drbd-reactor/blob/master/doc/agentx.md#metrics[the "
"project's source code repository]."
msgstr ""
"このプラグインがSNMPデーモンに公開するDRBDメトリクスは、プロジェクトのソース"
"コードリポジトリである https://github.com/LINBIT/drbd-reactor/blob/master/"
"doc/agentx.md#metrics[the project's source code repository] に示されていま"
"す。"

#. type: Title ===
#, no-wrap
msgid "Configuring DRBD Reactor"
msgstr "DRBD Reactor の構成"

#. type: Plain text
msgid ""
"Before you can run DRBD Reactor, you must configure it. Global "
"configurations are made within a main TOML configuration file, which should "
"be created here: `/etc/drbd-reactor.toml`. The file has to be a valid TOML "
"(https://toml.io) file. Plugin configurations should be made within snippet "
"files that can be placed into the default DRBD Reactor snippets directory, `/"
"etc/drbd-reactor.d`, or into another directory if specified in the main "
"configuration file. An https://github.com/LINBIT/drbd-reactor/blob/master/"
"example/drbd-reactor.toml[example configuration file] can be found in the "
"`example` directory of the DRBD Reactor GitHub repository."
msgstr ""
"DRBD Reactorを実行する前に、その設定を行う必要があります。グローバル設定はメ"
"インのTOML設定ファイル内で行われます。このファイルはこちらに作成されるべきで"
"す： `/etc/drbd-reactor.toml` 。このファイルは有効なTOML (https://toml.io) "
"ファイルである必要があります。プラグインの設定はスニペットファイル内で行われ"
"るべきで、これらはデフォルトのDRBD Reactorスニペットディレクトリである `/etc/"
"drbd-reactor.d` に配置されるか、メイン設定ファイルで別のディレクトリが指定さ"
"れている場合はそれに配置されます。DRBD Reactor GitHubリポジトリの `example` "
"ディレクトリには https://github.com/LINBIT/drbd-reactor/blob/master/example/"
"drbd-reactor.toml[設定ファイルの例] が見つかります。"

#. type: Plain text
msgid ""
"For documentation purposes only, the example configuration file mentioned "
"above contains example plugin configurations. However, for deployment, "
"plugin configurations should always be made within snippet files."
msgstr ""
"文書化の目的でのみ、上記で言及されている例の設定ファイルには、例のプラグイン"
"の設定が含まれています。しかしながら、展開時には、プラグインの設定は常にスニ"
"ペットファイル内で行うべきです。"

#. type: Title ====
#, no-wrap
msgid "Configuring DRBD Reactor's Core"
msgstr "DRBD Reactorのコアの設定"

#. type: Plain text
msgid ""
"DRBD Reactor’s core configuration file consists of global settings and log "
"level settings."
msgstr ""
"DRBD Reactorの中核となる設定ファイルは、グローバル設定とログレベル設定から構"
"成されています。"

#. type: Plain text
msgid ""
"Global settings include specifying a snippets directory, specifying a "
"statistics update polling time period, as well as specifying a path to a log "
"file. You can also set the log level within the configuration file to one "
"of: trace, debug, info, warn, error, off. “Info” is the default log level."
msgstr ""
"グローバル設定には、スニペットディレクトリの指定、統計情報の更新ポーリング期"
"間の指定、ログファイルへのパスの指定が含まれます。また、設定ファイル内のログ"
"レベルを、trace、debug、info、warn、error、off のいずれかに設定することができ"
"ます。「情報」はデフォルトのログレベルです。"

#. type: Plain text
msgid "See the `drbd-reactor.toml` man page for the syntax of these settings."
msgstr ""
"これらの設定のシンタックスについては、 `drbd-reactor.toml` のマニュアルページ"
"を参照してください。"

#. type: Title ====
#, no-wrap
msgid "Configuring DRBD Reactor Plugins"
msgstr "DRBD Reactorプラグインの設定"

#. type: Plain text
msgid ""
"You configure DRBD Reactor plugins by editing TOML formatted snippet files. "
"Every plugin can specify an ID (`id`) in its configuration section. On a "
"DRBD Reactor daemon reload, started plugins that are still present in the "
"new configuration keep running. Plugins without an ID get stopped and "
"restarted if still present in the new configuration."
msgstr ""
"DRBD Reactorプラグインは、TOML形式のスニペットファイルを編集して構成します。"
"各プラグインは、構成セクション内でID（`id`）を指定できます。DRBD Reactorデー"
"モンを再読み込みすると、新しい構成にまだ存在する開始されたプラグインは実行さ"
"れたままです。IDのないプラグインは停止され、新しい構成にまだ存在する場合は再"
"起動されます。"

#. type: Plain text
msgid ""
"For plugins without an ID, every DRBD Reactor service reload is a restart."
msgstr ""
"IDを持たないプラグインの場合、DRBDリアクターサービスの再読み込みはすべて再起"
"動となります。"

#. type: Title ====
#, no-wrap
msgid "Configuring the Promoter Plugin"
msgstr "Promoter プラグインの設定"

#. type: Plain text
msgid ""
"You will typically have one snippet file for each DRBD resource that you "
"want DRBD Reactor and the promoter plugin to watch and manage."
msgstr ""
"通常、DRBD Reactorとプロモータープラグインが監視および管理する各DRBDリソース"
"につき1つのスニペットファイルがあるでしょう。"

#. type: Plain text
msgid "Here is an example promoter plugin configuration snippet:"
msgstr "以下はPromoter プラグインの設定スニペットの例です。"

#. type: delimited block -
#, no-wrap
msgid ""
"[[promoter]]\n"
"[promoter.resources.my_drbd_resource] <1>\n"
"dependencies-as = \"Requires\" <2>\n"
"target-as = \"Requires\" <3>\n"
"start = [\"path-to-my-file-system-mount.mount\", \"foo.service\"] <4>\n"
"on-drbd-demote-failure = \"reboot\" <5>\n"
"secondary-force = true <6>\n"
"preferred-nodes = [\"nodeA\", \"nodeB\"] <7>\n"
msgstr ""
"[[promoter]]\n"
"[promoter.resources.my_drbd_resource] <1>\n"
"dependencies-as = \"Requires\" <2>\n"
"target-as = \"Requires\" <3>\n"
"start = [\"path-to-my-file-system-mount.mount\", \"foo.service\"] <4>\n"
"on-drbd-demote-failure = \"reboot\" <5>\n"
"secondary-force = true <6>\n"
"preferred-nodes = [\"nodeA\", \"nodeB\"] <7>\n"

#. type: Plain text
msgid ""
"\"my_drbd_resource\" specifies the name of the DRBD resource that DRBD "
"Reactor and the promoter plugin should watch and manage."
msgstr ""
"\"my_drbd_resource\"は、DRBD Reactorとプロモータープラグインが監視して管理す"
"べきDRBDリソースの名前を指定しています。"

#. type: Plain text
msgid ""
"Specifies the systemd dependency type to generate inter-service dependencies "
"as."
msgstr ""
"サービス間依存関係を生成するための systemd 依存関係の種類を指定します。"

#. type: Plain text
msgid ""
"Specifies the systemd dependency type to generate service dependencies in "
"the final target unit."
msgstr ""
"最終的なターゲットユニットでサービスの依存関係を生成するための systemd の依存"
"関係のタイプを指定します。"

#. type: Plain text
msgid ""
"`start` specifies what should be started when the watched DRBD resource is "
"promotable. In this example, the promoter plugin would start a file system "
"mount unit and a service unit."
msgstr ""
"`start` は、監視されているDRBDリソースが昇格可能になったときに何を開始するか"
"を指定します。この例では、昇格プラグインはファイルシステムのマウントユニット"
"とサービスユニットを開始します。"

#. type: Plain text
msgid ""
"Specifies the action to take if a DRBD resource fails to demote, for "
"example, after a loss of quorum event. In such a case, an action should be "
"taken on the node that fails to demote that will trigger some \"self-"
"fencing\" of the node and cause another node to promote. Actions can be one "
"of: reboot, reboot-force, reboot-immediate, poweroff, poweroff-force, "
"poweroff-immediate, exit, exit-force."
msgstr ""
"DRBDリソースが降格に失敗した場合に取るべきアクションを指定します (クォーラム"
"損失イベント後など)。この場合、降格に失敗したノードに対して、そのノードの「セ"
"ルフフェンス」を作動させ、別のノードを昇格させるようなアクションを実行する必"
"要があります。アクションは、reboot, reboot-force, reboot-immediate, "
"poweroff, poweroff-force, poweroff-immediate, exit, exit-force のいずれかにな"
"ります。"

#. type: Plain text
msgid ""
"If a node loses quorum, DRBD Reactor will try to demote the node to a "
"secondary role. If the resource was configured to suspend I/O operations "
"upon loss of quorum, this setting specifies whether or not to demote the "
"node to a secondary role using `drbdadm`'s force secondary feature. See the "
"<<s-force-secondary>> section of the DRBD User's Guide for more details. "
"\"true\" is the default option if this setting is not specified. It is "
"specified here for illustrative purposes."
msgstr ""
"ノードがクォーラムを失うと、DRBD Reactorはそのノードをセカンダリロールに降格"
"させようとします。リソースがクォーラムを失ったときにI/O操作を中断するように設"
"定されている場合、この設定は、`drbdadm` のforce secondary機能を使ってノードを"
"セカンダリロールに降格させるかどうかを指定します。詳細については、DRBDユー"
"ザーズガイドの <<s-force-secondary>> セクションを参照してください。この設定が"
"指定されていない場合は、\"true \"がデフォルトのオプションです。ここでは説明の"
"ために指定されています。"

#. type: Plain text
msgid ""
"If set, resources are started on the preferred nodes, in the specified "
"order, if possible."
msgstr ""
"設定された場合、可能であれば指定された順序で、優先ノードでリソースが開始され"
"る。"

#. type: Title =====
#, no-wrap
msgid "Specifying a Promoter Start List Service String Spanning Multiple Lines"
msgstr "Promoter 開始リストでの複数行にわたるサービス文字列の指定"

#. type: Plain text
msgid ""
"For formatting or readability reasons, it is possible to split a long "
"service string across multiple lines within a promoter plugin snippet file's "
"start list of services. You can do this by using https://toml.io/en/"
"v1.0.0#string[TOML syntax for multi-line basic strings]. In the following "
"example, the first and third service strings in a promoter plugin's start "
"list are split across multiple lines. A backslash (\\) at the end of a line "
"within a multi-line basic string ensures that a newline character is not "
"inserted between lines within the string."
msgstr ""
"フォーマットや可読性の観点から、Promoter プラグインのスニペットファイルのサー"
"ビスの開始リスト内で、長いサービス文字列を複数行に分割することが可能です。こ"
"れは、 https://toml.io/en/v1.0.0#string[TOML構文を使用したマルチラインベー"
"シック文字列] によって行うことができます。次の例では、Promoter プラグインの開"
"始リスト内の最初と三番目のサービス文字列が複数行に分割されています。マルチラ"
"インベーシック文字列内の行末にあるバックスラッシュ（\\）は、文字列内の行間に"
"改行文字が挿入されないようにします。"

#. type: delimited block -
#, no-wrap
msgid ""
"[...]\n"
"start = [\n"
"\"\"\"\n"
"ocf:heartbeat:Filesystem fs_mysql device=/dev/drbd1001 \\\n"
"directory=/var/lib/mysql fstype=ext4 run_fsck=no\"\"\",\n"
"\"mariadb.service\",\n"
"\"\"\"ocf:heartbeat:IPaddr2 db_virtip ip=192.168.222.65 \\\n"
"cidr_netmask=24 iflabel=virtualip\"\"\"\n"
"]\n"
"[...]\n"
msgstr ""
"[...]\n"
"start = [\n"
"\"\"\"\n"
"ocf:heartbeat:Filesystem fs_mysql device=/dev/drbd1001 \\\n"
"directory=/var/lib/mysql fstype=ext4 run_fsck=no\"\"\",\n"
"\"mariadb.service\",\n"
"\"\"\"ocf:heartbeat:IPaddr2 db_virtip ip=192.168.222.65 \\\n"
"cidr_netmask=24 iflabel=virtualip\"\"\"\n"
"]\n"
"[...]\n"

#. type: Plain text
msgid ""
"You can also use this technique to split up long strings within other plugin "
"snippet files."
msgstr ""
"この技術を使用して、他のプラグインスニペットファイル内の長い文字列を分割する"
"こともできます。"

#. type: Title =====
#, no-wrap
msgid "Configuring Resource Freezing"
msgstr "リソースフリーズの設定"

#. type: Plain text
msgid ""
"Starting with DRBD Reactor version 0.9.0, you can configure the promoter "
"plugin to \"freeze\" a resource that DRBD Reactor is controlling, rather "
"than stopping it when a currently active node loses quorum. DRBD Reactor can "
"then \"thaw\" the resource when the node regains quorum and becomes active, "
"rather than having to restart the resource if it was stopped."
msgstr ""
"DRBD Reactor バージョン 0.9.0 からは、Promoter プラグインを設定して、DRBD "
"Reactor が制御しているリソース を、現在アクティブなノードが独立権を失った時に"
"停止させるのではなく、「フリーズ」できるようになりました。ノードが再び独立権"
"を回復しアクティブになった場合、DRBD Reactor はリソースを再開させる代わりに"
"「解凍」することができ ます。それにより、リソースを再起動する必要がなくなりま"
"す。"

#. type: Plain text
msgid ""
"While in most cases the default stop and start behavior will be preferred, "
"the freeze and thaw configuration could be useful for a resource that takes "
"a long time to start, for example, a resource that includes services such as "
"a large database. If a _Primary_ node loses quorum in such a cluster, and "
"the remaining nodes are unable to form a partition with quorum, freezing the "
"resource could be useful, especially if the _Primary_ node's loss of quorum "
"was momentary, for example due to a brief network issue. When the formerly "
"_Primary_ node with a frozen resource reconnects with its peer nodes, the "
"node would again become _Primary_ and DRBD Reactor would thaw the resource. "
"The result of this behavior could be that the resource is again available in "
"seconds, rather than minutes, because the resource did not have to start "
"from a stopped state, it only had to resume from a frozen one."
msgstr ""
"ほとんどの場合、デフォルトの停止と開始の動作が優先されますが、フリーズと再開"
"の構成は、起動に時間がかかるリソース (たとえば、大規模なデータベースなどの"
"サービスを含むリソース) に役立つ場合があります。そのようなクラスターで "
"_Primary_ ノードがクォーラムを失い、残りのノードがクォーラムでパーティション"
"を形成できない場合、リソースのフリーズが役立つ可能性があります。ネットワーク"
"の問題. フリーズしたリソースを持つ以前の _Primary_ ノードがピアノードに再接続"
"すると、ノードは再び _Primary_ になり、DRBD Reactor はリソースを再開します. "
"この動作の結果、リソースは数秒で再び利用可能になる可能性があります。リソース"
"は停止状態から開始する必要がなく、フリーズ状態から再開するだけで済みました。"

#. type: Plain text
msgid "====== Requirements:"
msgstr "====== 要件:"

#. type: Plain text
msgid ""
"Before configuring the promoter plugin's freeze feature for a resource, you "
"will need:"
msgstr ""
"リソースのために Promoter プラグインの凍結機能を設定する前に、次のものが必要"
"です:"

#. type: Plain text
msgid ""
"A system that uses https://www.kernel.org/doc/html/latest/admin-guide/cgroup-"
"v2.html[cgroup v2], implementing unified cgroups. You can verify this by the "
"presence of `/sys/fs/cgroup/cgroup.controllers` on your system. If this is "
"not present, and your kernel supports it, you should be able to add the "
"kernel command line argument `systemd.unified_cgroup_hierarchy=1` to enable "
"this feature."
msgstr ""
"https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html[cgroup "
"v2]  を使用し、統合された cgroup を実装するシステム。これは、システムに「/"
"sys/fs/cgroup/cgroup.controllers」が存在することで確認できます。これが存在せ"
"ず、カーネルがサポートしている場合は、カーネル コマンド ライン引数 `systemd."
"unified_cgroup_hierarchy=1` を追加して、この機能を有効にできるはずです。"

#. type: Plain text
msgid ""
"This should only be relevant for RHEL 8, Ubuntu 20.04, and earlier versions."
msgstr ""
"これは、RHEL 8、Ubuntu 20.04、およびそれ以前のバージョンにのみ関連するはずで"
"す。"

#. type: Plain text
msgid "The following DRBD options configured for the resource:"
msgstr "リソース用に構成された次の DRBD オプション:"

#. type: Plain text
msgid "`on-no-quorum` set to `suspend-io`;"
msgstr "`on-no-quorum` を `suspend-io` にセット;"

#. type: Plain text
msgid "`on-no-data-accessible` set to `suspend-io`;"
msgstr "`on-no-data-accessible` を `suspend-io` にセット;"

#. type: Plain text
msgid "`on-suspended-primary` set to `force-secondary`;"
msgstr "`on-suspended-primary` を `force-secondary` にセット;"

#. type: Plain text
msgid "`rr-conflict` (`net` option) set to `retry-connect`."
msgstr "`rr-conflict` (`net` option) を `retry-connect` にセット;"

#. type: Plain text
msgid ""
"A resource that can \"tolerate\" freezing and thawing. You can test how your "
"resource (and any applications that rely on the resource) respond to "
"freezing and thawing by using the `systemctl freeze <systemd_unit>`, and the "
"`systemctl thaw <systemd_unit>` commands. Here you specify the systemd unit "
"or units that correspond to the start list of services within the promoter "
"plugin's configuration. You can use these commands to test how your "
"applications behave, after services that they depend on are frozen and "
"thawed."
msgstr ""
"凍結と解凍に「耐える」ことができるリソース。`systemctl freeze "
"<systemd_unit>` と `systemctl thaw <systemd_unit>` コマンドを使用して、リソー"
"ス（およびリソースに依存するアプリケーション）が凍結と解凍にどのように応答す"
"るかをテストできます。ここで、Promoter プラグインの構成内の起動リストに対応す"
"る systemd ユニットまたはユニットを指定します。これらのコマンドを使用して、ア"
"プリケーションが依存するサービスが凍結され、解凍された後にどのように振る舞う"
"かをテストできます。"

#. type: Plain text
msgid ""
"If you are unsure whether your resource and applications will tolerate "
"freezing, then it is safer to keep the default stop and start behavior."
msgstr ""
"リソースとアプリケーションがフリーズに耐えられるかどうかわからない場合は、デ"
"フォルトの停止と開始の動作を維持する方が安全です。"

#. type: Plain text
msgid ""
"To configure resource freezing, add the following line to your DRBD Reactor "
"resource's promoter plugin snippet file:"
msgstr ""
"リソースの凍結を設定するには、DRBD リアクター リソースのプロモーター プラグイ"
"ン スニペット ファイルに次の行を追加してください。"

#. type: delimited block -
#, no-wrap
msgid "on-quorum-loss = \"freeze\"\n"
msgstr "on-quorum-loss = \"freeze\"\n"

#. type: Title =====
#, no-wrap
msgid "Using OCF Resource Agents with the Promoter Plugin"
msgstr "Promoter プラグインで OCF リソースエージェントを利用する"

#. type: Plain text
msgid ""
"You can also configure the promoter plugin to use OCF resource agents in the "
"`start` list of services."
msgstr ""
"Promoter プラグインを設定して、サービスの `start` リストで OCF リソース エー"
"ジェントを使用することもできます。"

#. type: Plain text
msgid ""
"If you have a LINBIT customer or evaluation account, you can install the "
"`resource-agents` package available in LINBIT's `drbd-9` package repository "
"to install a suite of open source resource agent scripts, including the "
"\"Filesystem\" OCF resource agent."
msgstr ""
"LINBIT の顧客または評価アカウントをお持ちの場合は、LINBIT の `drbd-9` パッ"
"ケージ リポジトリで利用可能な `resource-agents` パッケージをインストールし"
"て、\"Filesystem\" OCF リソース エージェントを含むリソース エージェントスクリ"
"プトをインストールできます。"

#. type: Plain text
msgid ""
"The syntax for specifying an OCF resource agent as a service within a "
"`start` list is `ocf:$vendor:$agent instance-id [key=value key=value ...]`. "
"Here, `instance-id` is user-defined and `key=value` pairs, if specified, are "
"passed as environment variables to the created systemd unit file. For "
"example:"
msgstr ""
"OCF リソースエージェントを `start` リスト内のサービスとして指定するためのシン"
"タックスは `ocf:$vendor:$agent instance-id [key=value key=value ...]` となり"
"ます。ここで、`instance-id` はユーザー定義で、`key=value` のペアは、指定され"
"た場合、作成される systemd ユニットファイルに環境変数として渡されます。例えば"

#. type: delimited block -
#, no-wrap
msgid ""
"[[promoter]]\n"
"[...]\n"
"start = [\"ocf:heartbeat:IPaddr2 ip_mysql ip=10.43.7.223 cidr_netmask=16\"]\n"
"[...]\n"
msgstr ""
"[[promoter]]\n"
"[...]\n"
"start = [\"ocf:heartbeat:IPaddr2 ip_mysql ip=10.43.7.223 cidr_netmask=16\"]\n"
"[...]\n"

#. type: Plain text
msgid ""
"The promoter plugin expects OCF resource agents in the `/usr/lib/ocf/"
"resource.d/` directory."
msgstr ""
"Promoterプラグインは、 `/usr/lib/ocf/resource.d/` ディレクトリ内のOCFリソース"
"エージェントを想定しています。"

#. type: Title =====
#, no-wrap
msgid "When to Use systemd Mount Units and OCF Filesystem Resource Agents"
msgstr "systemd マウントユニットと OCF ファイルシステムリソースエージェントを使用するタイミング"

#. type: Plain text
msgid ""
"Almost all scenarios that you might use DRBD Reactor and its promoter plugin "
"will likely involve a file system mount. If your use case involves a "
"promoter start list of services with other services or applications besides "
"a file system mount, then you should use a systemd mount unit to handle the "
"file system mounting."
msgstr ""
"DRBD ReactorとそのPromoterプラグインを利用するほとんどのシナリオでは、おそら"
"くファイルシステムのマウントが含まれるでしょう。もし、Promoterの起動リストに"
"ファイルシステムのマウント以外のサービスやアプリケーションが含まれる場合は、"
"systemdのマウントユニットを使用してファイルシステムのマウントを処理すべきで"
"す。"

#. type: Plain text
msgid ""
"However, you should not use a systemd file system mount unit if a file "
"system mount point is the end goal, that is, it would be the last service in "
"your promoter plugin start list of services.  Instead, use an OCF Filesystem "
"resource agent to handle mounting and unmounting the file system."
msgstr ""
"ただし、ファイルシステムのマウントポイントが最終目標である場合、つまり、それ"
"があなたの Promoter プラグインのサービス開始リストの最後になる場合は、"
"systemd のファイルシステムマウントユニットを使用しないでください。代わりに、"
"OCF Filesystem リソースエージェントを使用してファイルシステムのマウントとアン"
"マウントを処理してください。"

#. type: Plain text
msgid ""
"In this case, using an OCF resource agent is preferred because the resource "
"agent will be able to escalate the demotion of nodes, by using `kill` "
"actions and other various signals against processes that might be holding "
"the mount point open. For example, there could be a user running an "
"application against a file in the file system that systemd would not know "
"about. In that case, systemd would not be able to unmount the file system "
"and the promoter plugin would not be able to demote the node."
msgstr ""
"この場合、OCFリソースエージェントを使用することが好ましいです。リソースエー"
"ジェントは、マウントポイントを保持している可能性のあるプロセスに対して "
"`kill` アクションやその他のさまざまなシグナルを使ってノードのダウングレードを"
"行うことができます。例えば、systemdが知らないファイルシステム内のファイルに対"
"してアプリケーションを実行しているユーザーがいるかもしれません。その場合、"
"systemdはファイルシステムをアンマウントできず、Promoterプラグインはノードをダ"
"ウングレードできません。"

#. type: Plain text
msgid ""
"You can find more information in the https://github.com/LINBIT/drbd-reactor/"
"blob/master/doc/promoter.md#ha-involving-file-system-mount-points[DRBD "
"Reactor GitHub documentation]."
msgstr ""
"詳細は、 https://github.com/LINBIT/drbd-reactor/blob/master/doc/promoter."
"md#ha-involving-file-system-mount-points[DRBD Reactor GitHub ドキュメント] に"
"あります。"

#. type: Title ====
#, no-wrap
msgid "Configuring the User Mode Helper (UMH) Plugin"
msgstr "ユーザーモードヘルパー（UMH）プラグインの設定"

#. type: Plain text
msgid "Configuration for this plugin consists of:"
msgstr "このプラグインの構成は以下の通りです："

#. type: Plain text
msgid "Rule type"
msgstr "ルールタイプ"

#. type: Plain text
msgid "Command or script to execute"
msgstr "実行するコマンドまたはスクリプト"

#. type: Plain text
msgid "User-defined environment variables (optional)"
msgstr "ユーザー定義環境変数(オプション)"

#. type: Plain text
msgid "Filters based on DRBD resource name, event type, or state changes"
msgstr "DRBDリソース名、イベントタイプ、または状態変化に基づくフィルタリング"

#. type: Plain text
msgid ""
"There are four different DRBD types a rule can be defined for: `resource`, "
"`device`, `peerdevice`, or `connection`."
msgstr ""
"ルールを定義できるDRBDの種類は4つあります。 `resource`, `device`, "
"`peerdevice`, or `connection`."

#. type: Plain text
msgid ""
"For each rule type, you can configure a command or script to execute using "
"`sh -c` as well as any user-defined environment variables. User-defined "
"environment variables are in addition to the commonly set ones:"
msgstr ""
"それぞれのルールタイプに対して、`sh -c` を使って実行するコマンドやスクリプ"
"ト、および任意のユーザ定義環境変数を設定することができます。ユーザ定義の環境"
"変数は、一般的に設定されているものに加えて、次のようなものがあります。"

#. type: Plain text
msgid "HOME “/”"
msgstr "HOME “/”"

#. type: Plain text
msgid "TERM “Linux”"
msgstr "TERM “Linux”"

#. type: Plain text
msgid "PATH “/sbin:/usr/sbin:/bin:/usr/bin”"
msgstr "PATH “/sbin:/usr/sbin:/bin:/usr/bin”"

#. type: Plain text
msgid ""
"You can also filter UMH rule types by DRBD resource name or event type "
"(exists, create, destroy, or change)."
msgstr ""
"UMHルールの種類をDRBDリソース名またはイベントタイプ（存在、作成、破棄、変更）"
"でフィルタリングすることも可能です。"

#. type: Plain text
msgid ""
"Finally, you can filter the plugin’s action based on DRBD state changes. "
"Filters should be based upon both the old and the new (current) DRBD state, "
"that are reported to the plugin, because you want the plugin to react to "
"changes. This is only possible if two states, old and new, are filtered for, "
"otherwise the plugin might trigger randomly. For example, if you only "
"specified a new (current) DRBD role as a DRBD state to filter for, the "
"plugin might trigger even when the new role is the same as the old DRBD role."
msgstr ""
"最後に、プラグインのアクションを DRBD の状態変化に基づいてフィルタリングでき"
"ます。フィルタは、プラグインに報告される過去の状態と新しい（現在の）DRBDの状"
"態の両方に基づいている必要があります。なぜなら、プラグインが変更に反応するよ"
"うにしたいからです。このような場合、古い状態と新しい状態を両方フィルタリング"
"することで、プラグインが無作為にトリガーされるのを防ぐことができます。たとえ"
"ば、新しい（現在の）DRBDの役割だけをフィルタリング対象として指定した場合、新"
"しい役割が古いDRBDの役割と同じ場合でもプラグインがトリガーされる可能性があり"
"ます。"

#. type: Plain text
msgid ""
"Here is an example UMH plugin configuration snippet for a `resource` rule:"
msgstr ""
"こちらは、`resource` ルールのための UMH プラグインの設定スニペットの例です："

#. type: delimited block -
#, no-wrap
msgid ""
"[[umh]]\n"
"[[umh.resource]]\n"
"command = \"slack.sh $DRBD_RES_NAME on $(uname -n) from $DRBD_OLD_ROLE to $DRBD_NEW_ROLE\"\n"
"event-type = \"Change\"\n"
"resource-name = \"my-resource\"\n"
"old.role = { operator = \"NotEquals\", value = \"Primary\" }\n"
"new.role = \"Primary\"\n"
msgstr ""
"[[umh]]\n"
"[[umh.resource]]\n"
"command = \"slack.sh $DRBD_RES_NAME on $(uname -n) from $DRBD_OLD_ROLE to $DRBD_NEW_ROLE\"\n"
"event-type = \"Change\"\n"
"resource-name = \"my-resource\"\n"
"old.role = { operator = \"NotEquals\", value = \"Primary\" }\n"
"new.role = \"Primary\"\n"

#. type: Plain text
msgid ""
"This example UMH plugin configuration is based on change event messages "
"received from DRBD Reactor’s daemon for the DRBD resource specified by the "
"`resource-name` value `my-resource`."
msgstr ""
"この例のUMHプラグインの設定は、`resource-name` 値が `my-resource` で指定され"
"たDRBDリソースから受け取った変更イベントメッセージに基づいています。"

#. type: Plain text
msgid ""
"If the resource’s old role was not _Primary_ and its new (current) role is "
"_Primary_, then a script named `slack.sh` runs with the arguments that "
"follow. As the full path is not specified, the script needs to reside within "
"the commonly set `PATH` environment variable (`/sbin:/usr/sbin:/bin:/usr/"
"bin`) of the host machine (or container if run that way).  Presumably, the "
"script sends a message to a Slack channel informing of the resource role "
"change.  Variables specified in the command string value are substituted for "
"based on specified values elsewhere in the plugin's configuration, for "
"example, the value specified by `resource-name` will be substituted for "
"`$DRBD_RES_NAME` when the command runs."
msgstr ""
"もしリソースの古い役割が「_Primary_」ではなく、新しい（現在の）役割が"
"「_Primary_」である場合、`slack.sh` というスクリプトが後に続く引数を使って実"
"行されます。フルパスが指定されていないため、スクリプトはホストマシン（または"
"コンテナで実行される場合はそうであれば）の一般的に設定された `PATH` 環境変数"
"（`/sbin:/usr/sbin:/bin:/usr/bin`）の中に配置されている必要があります。おそら"
"く、このスクリプトはリソースの役割変更を通知するためにSlackチャンネルにメッ"
"セージを送信するでしょう。コマンド文字列値で指定された変数は、例えば、"
"`resource-name` で指定された値はコマンドが実行される際に `$DRBD_RES_NAME` に"
"置換されます。"

#. type: Plain text
msgid ""
"The example configuration above uses the specified operator \"NotEquals\" to "
"evaluate whether or not the `old.role` value of \"Primary\" was true. If you "
"do not specify an operator, then the default operator is \"Equals\", as in "
"the `new.role = \"Primary\"` filter in the example configuration."
msgstr ""
"上記の設定例では、指定された演算子 \"NotEquals\" を使用して、`old.role` の値 "
"\"Primary\" が真であるかどうかを評価しています。演算子を指定しない場合は、設"
"定例の `new.role = \"Primary\"` フィルタのように、デフォルトの演算子は "
"\"Equals\" となります。"

#. type: Plain text
msgid ""
"There are more rules, fields, filter types, and variables that you can "
"specify in your UMH plugin configurations. See the https://github.com/LINBIT/"
"drbd-reactor/blob/master/doc/umh.md[UMH documentation page] in the DRBD "
"Reactor GitHub repository for more details, explanations, examples, and "
"caveats."
msgstr ""
"UMHプラグインの構成で指定できる規則、フィールド、フィルタータイプ、および変数"
"には、さらに多くのものがあります。詳細な説明、例、および注意事項については、"
"DRBD Reactor GitHubリポジトリ内の https://github.com/LINBIT/drbd-reactor/"
"blob/master/doc/umh.md[UMHドキュメントページ] を参照してください。"

#. type: Title ====
#, no-wrap
msgid "Configuring the Prometheus Plugin"
msgstr "Prometheus プラグインの設定"

#. type: Plain text
msgid ""
"This plugin provides a Prometheus compatible HTTP endpoint serving DRBD "
"monitoring metrics, such as the DRBD connection state, whether or not the "
"DRBD device has quorum, number of bytes out of sync, indication of TCP send "
"buffer congestion, and many more. The `drbd-reactor.prometheus` man page has "
"a full list of metrics and more details."
msgstr ""
"このプラグインは、Prometheus互換のHTTPエンドポイントを提供し、DRBDのモニタリ"
"ングメトリクスを提供します。具体的には、DRBDの接続状態、DRBDデバイスがクォー"
"ラムを持っているかどうか、同期が取れていないバイト数、TCP送信バッファの混雑の"
"指標などが含まれます。`drbd-reactor.prometheus` のmanページには、メトリクスの"
"完全なリストと詳細が記載されています。"

#. type: Title ====
#, no-wrap
msgid "Configuring the AgentX Plugin for SNMP Monitoring"
msgstr "SNMP 監視のための AgentX プラグインの設定"

#. type: Plain text
msgid ""
"Configuring the AgentX plugin involves installing an SNMP management "
"information base (MIB) that defines the DRBD metrics that will be exposed, "
"configuring the SNMP daemon, and editing a DRBD Reactor configuration "
"snippet file for the AgentX plugin."
msgstr ""
"AgentXプラグインの設定には、公開されるDRBDメトリクスを定義するSNMP管理情報"
"ベース（MIB）のインストール、SNMPデーモンの設定、AgentXプラグイン用のDRBDリア"
"クター設定スニペットファイルの編集が含まれます。"

#. type: Plain text
msgid ""
"You will need to complete the following setup steps on all your DRBD Reactor "
"nodes."
msgstr ""
"すべての DRBD Reactor ノードで次のセットアップ手順を完了する必要があります。"

#. type: Title =====
#, no-wrap
msgid "Prerequisites"
msgstr "前提条件"

#. type: Plain text
msgid ""
"Before configuring this plugin to expose various DRBD metrics to an SNMP "
"daemon, you will need to install the following packages, if they are not "
"already installed."
msgstr ""
"このプラグインを設定して、さまざまな DRBD のメトリクスを SNMP デーモンに公開"
"する前に、もしまだインストールされていない場合は、以下のパッケージをインス"
"トールする必要があります。"

#. type: Plain text
msgid "For RPM-based systems:"
msgstr "RPMベースのシステム向け:"

#. type: delimited block -
#, no-wrap
msgid "# dnf -y install net-snmp net-snmp-utils\n"
msgstr "# dnf -y install net-snmp net-snmp-utils\n"

#. type: Plain text
msgid "For DEB-based systems:"
msgstr "DEBベースのシステム向け:"

#. type: delimited block -
#, no-wrap
msgid "# apt -y install snmp snmpd\n"
msgstr "# apt -y install snmp snmpd\n"

#. type: Plain text
msgid ""
"If you encounter errors related to missing MIBs when using SNMP commands "
"against the LINBIT MIB, you will have to download the missing MIBs. You can "
"do this manually or else install the `snmp-mibs-downloader` DEB package."
msgstr ""
"LINBITのMIBに対してSNMPコマンドを使用する際にMIBが見つからないエラーが発生し"
"た場合、不足しているMIBをダウンロードする必要があります。これを手動で行うか、"
"`snmp-mibs-downloader` DEBパッケージをインストールして行うことができます。"

#. type: Title =====
#, no-wrap
msgid "AgentX Firewall Considerations"
msgstr "AgentX ファイアウォールの考慮事項"

#. type: Plain text
msgid ""
"If you are using a firewall service, you will need to allow TCP traffic via "
"port 705 for the AgentX protocol."
msgstr ""
"ファイアウォールサービスを使用している場合、AgentXプロトコルを利用するために"
"ポート705を介したTCPトラフィックを許可する必要があります。"

#. type: Title =====
#, no-wrap
msgid "Installing the LINBIT DRBD Management Information Base"
msgstr "LINBIT DRBD Management Information Baseのインストール"

#. type: Plain text
msgid ""
"To use the AgentX plugin, download the LINBIT DRBD MIB to `/usr/share/snmp/"
"mibs`."
msgstr ""
"AgentXプラグインを使用するには、LINBIT社のDRBD MIBを `/usr/share/snmp/mibs` "
"にダウンロードしてください。"

#. type: delimited block -
#, no-wrap
msgid ""
"# curl -L https://github.com/LINBIT/drbd-reactor/raw/master/example/LINBIT-DRBD-MIB.mib \\\n"
"-o /usr/share/snmp/mibs/LINBIT-DRBD-MIB.mib\n"
msgstr ""
"# curl -L https://github.com/LINBIT/drbd-reactor/raw/master/example/LINBIT-DRBD-MIB.mib \\\n"
"-o /usr/share/snmp/mibs/LINBIT-DRBD-MIB.mib\n"

#. type: Title =====
#, no-wrap
msgid "Configuring the SNMP Daemon"
msgstr "SNMP デーモンの設定"

#. type: Plain text
msgid ""
"To configure the SNMP service daemon, add the following lines to its "
"configuration file (`/etc/snmp/snmpd.conf`):"
msgstr ""
"SNMPサービスのデーモンを設定するには、その設定ファイル（`/etc/snmp/snmpd."
"conf`）に以下の行を追加してください。"

#. type: delimited block -
#, no-wrap
msgid ""
"# add LINBIT ID to the system view and enable agentx\n"
"view    systemview    included   .1.3.6.1.4.1.23302\n"
"master agentx\n"
"agentXSocket tcp:127.0.0.1:705\n"
msgstr ""
"# add LINBIT ID to the system view and enable agentx\n"
"view    systemview    included   .1.3.6.1.4.1.23302\n"
"master agentx\n"
"agentXSocket tcp:127.0.0.1:705\n"

#. type: Plain text
msgid ""
"Verify that the view name that you use matches a view name that is "
"configured appropriately in the SNMP configuration file. The example above "
"shows `systemview` as the view name used in a RHEL 8 system. For Ubuntu, the "
"view name could be different, for example, in Ubuntu 22.04 it is "
"`systemonly`."
msgstr ""
"使用するビュー名が SNMP 構成ファイルで適切に設定されているビュー名と一致して"
"いるかを確認してください。上記の例では、RHEL 8 システムで使用されているビュー"
"名が `systemview` であることが示されています。Ubuntu の場合、ビュー名は異なる"
"可能性があり、例えば Ubuntu 22.04 では `systemonly` となります。"

#. type: Plain text
msgid ""
"Next, enable and start the service (or restart the service if it was already "
"enabled and running):"
msgstr ""
"次に、サービスを有効にして開始します（または既に有効かつ実行中の場合はサービ"
"スを再起動します）。"

#. type: delimited block -
#, no-wrap
msgid "# systemctl enable --now snmpd.service\n"
msgstr "# systemctl enable --now snmpd.service\n"

#. type: Title =====
#, no-wrap
msgid "Editing the AgentX Plugin Configuration Snippet File"
msgstr "AgentXプラグインの構成スニペットファイルの編集"

#. type: Plain text
msgid ""
"The AgentX plugin needs only minimal configuration in a DRBD Reactor snippet "
"file. Edit the configuration snippet file by entering the following command:"
msgstr ""
"AgentXプラグインは、DRBD Reactorスニペットファイルでの最小限の構成のみを必要"
"とします。次のコマンドを入力して、構成スニペットファイルを編集してください。"

#. type: delimited block -
#, no-wrap
msgid "# drbd-reactorctl edit -t agentx agentx\n"
msgstr "# drbd-reactorctl edit -t agentx agentx\n"

#. type: Plain text
msgid "Then add the following lines:"
msgstr "その後、以下の行を追加してください。"

#. type: delimited block -
#, no-wrap
msgid ""
"[[agentx]]\n"
"address = \"localhost:705\"\n"
"cache-max = 60 # seconds\n"
"agent-timeout = 60 # seconds snmpd waits for an answer\n"
"peer-states = true # include peer connection and disk states\n"
msgstr ""
"[[agentx]]\n"
"address = \"localhost:705\"\n"
"cache-max = 60 # seconds\n"
"agent-timeout = 60 # seconds snmpd waits for an answer\n"
"peer-states = true # include peer connection and disk states\n"

#. type: delimited block =
msgid ""
"If you use the `drbd-reactorctl edit` command to edit a configuration "
"snippet file, DRBD Reactor will reload the service if needed. If you are "
"copying a previously edited snippet file to another node, you will need to "
"reload the DRBD Reactor service on that node, by entering:"
msgstr ""
"`drbd-reactorctl edit` コマンドを使用して構成スニペットファイルを編集すると、"
"必要に応じて DRBD Reactor がサービスを再読み込みします。以前に編集したスニ"
"ペットファイルを別のノードにコピーする場合、そのノードで DRBD Reactor サービ"
"スを再読み込みする必要があります。再読み込みは、以下のように入力して行いま"
"す。"

#. type: delimited block -
#, no-wrap
msgid "# systemctl reload drbd-reactor.service\n"
msgstr "# systemctl reload drbd-reactor.service\n"

#. type: Title =====
#, no-wrap
msgid "Verifying the AgentX Plugin Operation"
msgstr "AgentX プラグインの動作確認"

#. type: delimited block =
msgid ""
"Before verifying the AgentX plugin operation, first verify that the SNMP "
"service exposes a standard, preinstalled MIB, by entering the following "
"command:"
msgstr ""
"AgentXプラグインの動作を確認する前に、次のコマンドを入力して、SNMPサービスが"
"標準の、プリインストールされたMIBを公開しているかを最初に確認してください。"

#. type: delimited block -
#, no-wrap
msgid ""
"# snmpwalk -Os -c public -v 2c localhost iso.3.6.1.2.1.1.1\n"
"sysDescr.0 = STRING: Linux linstor-1 5.14.0-284.30.1.el9_2.x86_64 #1 SMP PREEMPT_DYNAMIC Fri Aug 25 09:13:12 EDT 2023 x86_64\n"
msgstr ""
"# snmpwalk -Os -c public -v 2c localhost iso.3.6.1.2.1.1.1\n"
"sysDescr.0 = STRING: Linux linstor-1 5.14.0-284.30.1.el9_2.x86_64 #1 SMP PREEMPT_DYNAMIC Fri Aug 25 09:13:12 EDT 2023 x86_64\n"

#. type: Plain text
msgid ""
"Next, verify that the AgentX plugin is shown in the output of a `drbd-"
"reactorctl status` command."
msgstr ""
"次に、`drbd-reactorctl status` コマンドの出力に AgentX プラグインが表示されて"
"いるか確認してください。"

#. type: delimited block -
#, no-wrap
msgid ""
"/etc/drbd-reactor.d/agentx.toml:\n"
"AgentX: connecting to main agent at localhost:705\n"
"[...]\n"
msgstr ""
"/etc/drbd-reactor.d/agentx.toml:\n"
"AgentX: connecting to main agent at localhost:705\n"
"[...]\n"

#. type: Plain text
msgid ""
"Next, show the LINBIT MIB table structure by entering the following command:"
msgstr ""
"次に、以下のコマンドを入力して LINBIT MIB テーブルの構造を表示してください。"

#. type: delimited block -
#, no-wrap
msgid "# snmptranslate -Tp -IR -mALL linbit\n"
msgstr "# snmptranslate -Tp -IR -mALL linbit\n"

#. type: Plain text
msgid ""
"Finally, you can use an `snmptable` command to show a table of the values "
"held in the MIB, particular to your current DRBD setup and resources. The "
"example command below starts showing the values for your DRBD resources at "
"the `enterprises.linbit.1.2` (`enterprises.linbit.drbdData.drbdTable`) "
"object identifier (OID) within the LINBIT MIB."
msgstr ""
"最後に、`snmptable` コマンドを使用して、現在のDRBDセットアップおよびリソース"
"に保持されている値のテーブルを表示できます。以下は例として、LINBIT MIB内の"
"`enterprises.linbit.1.2` (`enterprises.linbit.drbdData.drbdTable`) オブジェク"
"ト識別子（OID）でDRBDリソースの値を表示するコマンドを示しています。"

#. type: delimited block -
#, no-wrap
msgid "# snmptable -m ALL -v 2c -c public localhost enterprises.linbit.1.2 | less -S\n"
msgstr "# snmptable -m ALL -v 2c -c public localhost enterprises.linbit.1.2 | less -S\n"

#. type: Title =====
#, no-wrap
msgid "Using the AgentX Plugin With LINSTOR"
msgstr "AgentXプラグインをLINSTORと共に使用する"

#. type: Plain text
msgid ""
"If you are using DRBD Reactor and its AgentX plugin to work with LINSTOR(R)-"
"created DRBD resources, note that these DRBD resources will start from minor "
"number 1000, rather than 1. So, for example, to get the DRBD resource name "
"of the first LINSTOR-created resource on a particular node, enter the "
"following command:"
msgstr ""
"DRBD ReactorとそのAgentXプラグインを使用してLINSTORが作成したDRBDリソースを操"
"作している場合は、これらのDRBDリソースが1ではなく1000のマイナーナンバーから開"
"始することに注意してください。したがって、特定のノードで最初にLINSTORが作成し"
"たリソースのDRBDリソース名を取得するためには、次のコマンドを入力してくださ"
"い。"

#. type: delimited block -
#, no-wrap
msgid ""
"# snmpget -m ALL -v 2c -c public localhost .1.3.6.1.4.1.23302.1.2.1.2.1000\n"
"LINBIT-DRBD-MIB::ResourceName.1000 = STRING: linstor_db\n"
msgstr ""
"# snmpget -m ALL -v 2c -c public localhost .1.3.6.1.4.1.23302.1.2.1.2.1000\n"
"LINBIT-DRBD-MIB::ResourceName.1000 = STRING: linstor_db\n"

#. type: Title ===
#, no-wrap
msgid "Using the DRBD Reactor CLI Utility"
msgstr "DRBD Reactor CLIユーティリティの使用法"

#. type: Plain text
msgid ""
"You can use the DRBD Reactor CLI utility, `drbd-reactorctl`, to control the "
"DRBD Reactor daemon and its plugins."
msgstr ""
"DRBDリアクターCLIユーティリティである `drbd-reactorctl` を使用して、DRBDリア"
"クターデーモンとそのプラグインを制御することができます。"

#. type: Plain text
msgid ""
"This utility only operates on plugin snippets. Any existing plugin "
"configurations in the main configuration file (not advised nor supported) "
"should be moved to snippet files within the snippets directory."
msgstr ""
"このユーティリティは、プラグインの断片にのみ適用されます。メインの構成ファイ"
"ル内にある既存のプラグインの設定（推奨されずサポートされない）は、スニペット"
"ディレクトリ内のスニペットファイルに移動する必要があります。"

#. type: Plain text
msgid "With the `drbd-reactorctl` utility, you can:"
msgstr "`drbd-reactorctl` ユーティリティを使うと、次のことができます。"

#. type: Plain text
msgid ""
"Get the status of the DRBD Reactor daemon and enabled plugins, by using the "
"`drbd-reactorctl status` command."
msgstr ""
"`drbd-reactorctl status` コマンドを使用して、DRBD Reactorデーモンと有効になっ"
"ているプラグインの状態を取得してください。"

#. type: Plain text
msgid ""
"Edit an existing or create a new plugin configuration, by using the `drbd-"
"reactorctl edit -t <plugin_type> <plugin_file>` command."
msgstr ""
"既存のプラグイン設定を編集するか、新しいプラグイン設定を作成するには、`drbd-"
"reactorctl edit -t <plugin_type> <plugin_file>` コマンドを使用します。"

#. type: Plain text
msgid ""
"Display the TOML configuration of a given plugin, by using the `drbd-"
"reactorctl cat <plugin_file>` command."
msgstr ""
"`drbd-reactorctl cat <plugin_file>` コマンドを使用して、指定されたプラグイン"
"の TOML 構成を表示します。"

#. type: Plain text
msgid ""
"Enable or disable a plugin, by using the `drbd-reactorctl enable|disable "
"<plugin_file>` command."
msgstr ""
"`drbd-reactorctl enable|disable <プラグインファイル>` コマンドを使用して、プ"
"ラグインを有効または無効にできます。"

#. type: Plain text
msgid ""
"Evict a promoter plugin resource from the node, by using the `drbd-"
"reactorctl evict <plugin_file>` command."
msgstr ""
"`drbd-reactorctl evict <プラグインファイル>` コマンドを使用して、ノードから"
"Promoterプラグインリソースを削除します。"

#. type: Plain text
msgid ""
"Restart specified plugins (or the DRBD Reactor daemon, if no plugins "
"specified) by using the `drbd-reactorctl restart <plugin_file>` command. "
"Remove an existing plugin and restart the daemon, by using the `drbd-"
"reactorctl rm <plugin_file>` command."
msgstr ""
"指定されたプラグイン（またはプラグインが指定されていない場合は DRBD リアク"
"ターデーモン）を `drbd-reactorctl restart <plugin_file>` コマンドを使用して再"
"起動します。既存のプラグインを削除してデーモンを再起動するには、`drbd-"
"reactorctl rm <plugin_file>` コマンドを使用します。"

#. type: Plain text
msgid ""
"List the activated plugins, or optionally list disabled plugins, by using "
"the `drbd-reactorctl ls [--disabled]` command."
msgstr ""
"`drbd-reactorctl ls [--disabled]` コマンドを使用して、アクティブ化されたプラ"
"グインをリストアップするか、オプションで無効化されたプラグインをリストアップ"
"します。"

#. type: Plain text
msgid ""
"For greater control of some of the above actions, there are additional "
"options available. The `drbd-reactorctl` man page has more details and "
"syntax information."
msgstr ""
"上記のアクションのいくつかをより細かく制御するために、追加のオプションが用意"
"されています。 `drbd-reactorctl` の man ページに詳細とシンタックス情報があり"
"ます。"

#. type: Title ====
#, no-wrap
msgid "Pacemaker CRM Shell Commands and Their DRBD Reactor Client Equivalents"
msgstr "Pacemaker CRMシェルコマンドとDRBD Reactorクライアントコマンドの対応表"

#. type: Plain text
msgid ""
"The following table shows some common CRM tasks and the corresponding "
"Pacemaker CRM shell and the equivalent DRBD Reactor client commands."
msgstr ""
"次の表は、一般的なCRMタスクとそれに対応するPacemaker CRMシェル、および同等の"
"DRBD Reactorクライアントコマンドを示したものです。"

#. type: Table
#, no-wrap
msgid ""
"|CRM task|Pacemaker CRM shell command|DRBD Reactor client command\n"
"\n"
"|Get status\n"
"|`crm_mon`\n"
"|`drbd-reactorctl status`\n"
"\n"
"|Migrate away\n"
"|`crm resource migrate`\n"
"|`drbd-reactorctl evict`\n"
"\n"
"|Unmigrate\n"
"|`crm resource unmigrate`\n"
"|Unnecessary\n"
msgstr ""
"|CRM task|Pacemaker CRM shell command|DRBD Reactor client command\n"
"\n"
"|Get status\n"
"|`crm_mon`\n"
"|`drbd-reactorctl status`\n"
"\n"
"|Migrate away\n"
"|`crm resource migrate`\n"
"|`drbd-reactorctl evict`\n"
"\n"
"|Unmigrate\n"
"|`crm resource unmigrate`\n"
"|Unnecessary\n"

#. type: Plain text
msgid ""
"A DRBD Reactor client command that is equivalent to `crm resource unmigrate` "
"is unnecessary because DRBD Reactor's promoter plugin evicts a DRBD resource "
"in the moment, but it does not prevent the resource from failing back to the "
"node it was evicted from later, should the situation arise. In contrast, the "
"CRM shell `migrate` command inserts a permanent constraint into the cluster "
"information base (CIB) that prevents the resource from running on the node "
"the command is run on. The CRM shell `unmigrate` command is a manual "
"intervention that removes the constraint and allows the resource to fail "
"back to the node the command is run on. A forgotten `unmigrate` command can "
"have dire consequences the next time the node might be needed to host the "
"resource during an HA event."
msgstr ""
"`crm resource unmigrate` に相当するDRBDリアクタークライアントコマンドは不要で"
"す。なぜなら、DRBDリアクターのPromoterプラグインはDRBDリソースを即座に排除し"
"ますが、後で状況が生じた場合にはそのリソースを元のノードにバックフェイルさせ"
"ることを妨げません。それに対して、CRMシェルの `migrate` コマンドは、クラスタ"
"情報ベース（CIB）に永続的な制約を挿入し、コマンドを実行したノード上でリソース"
"が実行されないようにします。CRMシェルの `unmigrate` コマンドは、制約を削除"
"し、リソースがコマンドを実行したノードにバックフェイルすることを可能にする手"
"動介入です。 `unmigrate` コマンドを忘れると、次回のHAイベント中にリソースをホ"
"ストするためにノードが必要になった時に、深刻な影響が生じる可能性があります。"

#. type: Plain text
msgid ""
"If you need to prevent failback to a particular node, you can evict it by "
"using the DRBD Reactor client with the `evict --keep-masked` command and "
"flag. This prevents failback, until the node reboots and the flag gets "
"removed. You can remove the flag sooner than a reboot would, by using the "
"`drbd-reactorctl evict --unmask` command. This command would be the "
"equivalent to CRM shell's `unmigrate` command."
msgstr ""
"特定のノードへのフェイルバックを防ぎたい場合は、DRBD Reactor クライアントで "
"`evict --keep-masked` を使用して、そのノードを取り除くことができます。これに"
"より、ノードが再起動しフラグが削除されるまで、フェイルバックが防止されます。 "
"`drbd-reactorctl evict --unmask` コマンドを使用すると、リブートよりも早くフラ"
"グを削除できます。このコマンドは CRM シェルの `unmigrate` コマンドに相当しま"
"す。"

#. type: Title ===
#, no-wrap
msgid "Using DRBD Reactor’s Promoter Plugin to Create a Highly Available File System Mount"
msgstr "DRBD ReactorのPromoterプラグインを使用して、高可用性のファイルシステムマウントを作成する"

#. type: Plain text
msgid ""
"In this example, you will use DRBD Reactor and the promoter plugin to create "
"a highly available file system mount within a cluster."
msgstr ""
"この例では、DRBD ReactorとPromoterプラグインを使用して、クラスタ内で高可用性"
"のファイルシステムマウントを作成します。"

#. type: Plain text
msgid "Prerequisites:"
msgstr "前提条件:"

#. type: Plain text
msgid "A directory `/mnt/test` created on all of your cluster nodes"
msgstr "すべてのクラスタノードで `/mnt/test` ディレクトリが作成されている。"

#. type: Plain text
msgid ""
"A DRBD configured resource named _ha-mount_ that is backed by a DRBD device "
"on all nodes. The configuration examples that follow use `/dev/drbd1000`."
msgstr ""
"すべてのノードで DRBD デバイスによって構成される _ha-mount_ という名前の "
"DRBD 構成済みリソース。以下の設定例では `/dev/drbd1000` を使用しています。"

#. type: Plain text
msgid ""
"The Cluster Labs \"Filesystem\" OCF resource agent, available through "
"https://github.com/ClusterLabs/resource-agents/blob/main/heartbeat/"
"Filesystem[Cluster Lab's `resource-agents` GitHub] repository, should be "
"present in the `/usr/lib/ocf/resource.d/heartbeat` directory"
msgstr ""
" https://github.com/ClusterLabs/resource-agents/blob/main/heartbeat/"
"Filesystem[Cluster Lab's `resource-agents` GitHub] リポジトリから入手できる "
"Cluster Labs \"Filesystem\" OCF リソースエージェント。 `/usr/lib/ocf/"
"resource.d/heartbeat` ディレクトリに存在している。"

#. type: Plain text
msgid ""
"The DRBD resource, _ha-mount_, should have the following settings configured "
"in its DRBD resource configuration file:"
msgstr ""
"DRBD リソースである _ha-mount_ は、DRBD リソース構成ファイルで次の設定を行う"
"必要があります。"

#. type: delimited block -
#, no-wrap
msgid ""
"resource ha-mount {\n"
"  options {\n"
"    auto-promote no;\n"
"    quorum majority;\n"
"    on-no-quorum suspend-io;\n"
"    on-no-data-accessible suspend-io;\n"
"    [...]\n"
"  }\n"
"[...]\n"
"}\n"
msgstr ""
"resource ha-mount {\n"
"  options {\n"
"    auto-promote no;\n"
"    quorum majority;\n"
"    on-no-quorum suspend-io;\n"
"    on-no-data-accessible suspend-io;\n"
"    [...]\n"
"  }\n"
"[...]\n"
"}\n"

#. type: Plain text
msgid "First, make one of your nodes _Primary_ for the _ha-mount_ resource."
msgstr "まず、いずれかのノードを _ha-mount_ リソースの _Primary_ にします。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm primary ha-mount\n"
msgstr "# drbdadm primary ha-mount\n"

#. type: Plain text
msgid ""
"Then create a file system on the DRBD backed device. The ext4 file system is "
"used in this example."
msgstr ""
"次に、DRBD で構成されたデバイスにファイルシステムを作成します。この例では "
"ext4 ファイルシステムを使用します。"

#. type: delimited block -
#, no-wrap
msgid "# mkfs.ext4 /dev/drbd1000\n"
msgstr "# mkfs.ext4 /dev/drbd1000\n"

#. type: Plain text
msgid ""
"Make the node _Secondary_ because after further configurations, DRBD Reactor "
"and the Promoter plugin will control promoting nodes."
msgstr ""
"追加の構成作業後、DRBD ReactorとPromoterプラグインが昇格ノードの制御を担当す"
"るため、ノードを _Secondary_ に設定してください。"

#. type: delimited block -
#, no-wrap
msgid "# drbdadm secondary ha-mount\n"
msgstr "# drbdadm secondary ha-mount\n"

#. type: Plain text
msgid ""
"On all nodes that should be able to mount the DRBD backed device, create a "
"systemd unit file:"
msgstr ""
"すべてのノードで DRBD で構成されたデバイスをマウントできるよう、systemd ユ"
"ニットファイルを作成します。"

#. type: delimited block -
#, no-wrap
msgid ""
"# cat << EOF > /etc/systemd/system/mnt-test.mount\n"
"[Unit]\n"
"Description=Mount /dev/drbd1000 to /mnt/test\n"
msgstr ""
"# cat << EOF > /etc/systemd/system/mnt-test.mount\n"
"[Unit]\n"
"Description=Mount /dev/drbd1000 to /mnt/test\n"

#. type: delimited block -
#, no-wrap
msgid ""
"[Mount]\n"
"What=/dev/drbd1000\n"
"Where=/mnt/test\n"
"Type=ext4\n"
"EOF\n"
msgstr ""
"[Mount]\n"
"What=/dev/drbd1000\n"
"Where=/mnt/test\n"
"Type=ext4\n"
"EOF\n"

#. type: Plain text
msgid ""
"The systemd unit file name must match the mount location value given by the "
"“Where=” directive, using systemd escape logic. In the example above, `mnt-"
"test.mount` matches the mount location given by `Where=/mnt/test`. You can "
"use the command `systemd-escape -p --suffix=mount /my/mount/point` to "
"convert your mount point to a systemd unit file name."
msgstr ""
"systemd のユニットファイル名は Where= ディレクティブで指定されたマウントロ"
"ケーションの値と、systemd のエスケープロジックで一致しなければなりません。上"
"の例では、`mnt-test.mount` が `Where=/mnt/test` で指定されたマウント位置に"
"マッチしています。コマンド `systemd-escape -p --suffix=mount /my/mount/"
"point` を使って、マウントポイントを systemd のユニットファイル名に変換するこ"
"とができます。"

#. type: Plain text
msgid ""
"Next, on the same nodes as the previous step, create a configuration file "
"for the DRBD Reactor promoter plugin:"
msgstr ""
"次に、前の手順と同じノード上に、DRBD Reactor Promoter プラグインの設定ファイ"
"ルを作成してください。"

#. type: delimited block -
#, no-wrap
msgid ""
"# cat << EOF > /etc/drbd-reactor.d/ha-mount.toml\n"
"[[promoter]]\n"
"id = \"ha-mount\"\n"
"[promoter.resources.ha-mount]\n"
"start = [\n"
"\"\"\"ocf:heartbeat:Filesystem fs_test device=/dev/drbd1000 \\\n"
"directory=/mnt/test fstype=ext4 run_fsck=no\"\"\"\n"
"]\n"
"on-drbd-demote-failure = \"reboot\"\n"
"EOF\n"
msgstr ""
"# cat << EOF > /etc/drbd-reactor.d/ha-mount.toml\n"
"[[promoter]]\n"
"id = \"ha-mount\"\n"
"[promoter.resources.ha-mount]\n"
"start = [\n"
"\"\"\"ocf:heartbeat:Filesystem fs_test device=/dev/drbd1000 \\\n"
"directory=/mnt/test fstype=ext4 run_fsck=no\"\"\"\n"
"]\n"
"on-drbd-demote-failure = \"reboot\"\n"
"EOF\n"

#. type: Plain text
msgid ""
"This promoter plugin configuration uses a start list of services that "
"specifies an OCF resource agent for the file system found at your HA mount "
"point. By using this particular resource agent, you can circumvent "
"situations where systemd might not know about certain users and processes "
"that might hold the mount point open and prevent it from unmounting. This "
"could happen if you specified a systemd mount unit for the mount point, for "
"example, `start = [\"mnt-test.mount\"]`, rather than using the OCF "
"Filesystem resource agent."
msgstr ""
"この promoter プラグインの構成では、HA マウントポイントにあるファイルシステム"
"の OCF リソース エージェントを指定するサービスの開始リストを使用しています。"
"この特定のリソース エージェントを使用することで、systemd がマウントポイントを"
"保持し、アンマウントを妨げる可能性のある特定のユーザーやプロセスについて把握"
"していないときに状況を回避できます。例えば、`start = [\"mnt-test.mount\"]` の"
"ようにマウントポイントのために systemd マウントユニットを指定した場合、OCF "
"ファイルシステムリソースエージェントを使用する代わりにこのような状況が発生す"
"る可能性があります。"

#. type: Plain text
msgid ""
"To apply the configuration, enable and start the DRBD Reactor service on all "
"nodes. If the DRBD Reactor service is already running, reload it instead."
msgstr ""
"構成を適用するには、すべてのノードで DRBD Reactor サービスを有効にして開始し"
"ます。DRBD Reactor サービスがすでに実行されている場合は、代わりにリロードして"
"ください。"

#. type: delimited block -
#, no-wrap
msgid "# systemctl enable drbd-reactor.service --now\n"
msgstr "# systemctl enable drbd-reactor.service --now\n"

#. type: Plain text
msgid ""
"Next, verify which cluster node is in the _Primary_ role for the _ha-mount_ "
"resource and has the backing device mounted."
msgstr ""
"次に、どのクラスタノードが _ha-mount_ リソースの _Primary_ ロールにあり、構成"
"デバイスがマウントされているかを確認します。"

#. type: delimited block -
#, no-wrap
msgid "# drbd-reactorctl status ha-mount\n"
msgstr "# drbd-reactorctl status ha-mount\n"

#. type: Plain text
msgid ""
"Test a simple failover situation on the _Primary_ node by using the DRBD "
"Reactor CLI utility to disable the _ha-mount_ configuration."
msgstr ""
"DRBD Reactor CLI ユーティリティを使用して _ha-mount_ 構成を無効にし、 "
"_primary_ ノードで簡単なフェイルオーバーをテストします。"

#. type: delimited block -
#, no-wrap
msgid "# drbd-reactorctl disable --now ha-mount\n"
msgstr "# drbd-reactorctl disable --now ha-mount\n"

#. type: Plain text
msgid ""
"Run the DRBD Reactor status command again to verify that another node is now "
"in the _Primary_ role and has the file system mounted."
msgstr ""
"DRBD Reactor のステータスコマンドを再度実行して、別のノードが _Primary_ の役"
"割になり、ファイルシステムがマウントされていることを確認します。"

#. type: Plain text
msgid ""
"After testing failover, you can enable the configuration on the node you "
"disabled it on earlier."
msgstr ""
"フェイルオーバーをテストした後、先ほど無効にしたノードで設定を有効にすること"
"ができます。"

#. type: delimited block -
#, no-wrap
msgid "# drbd-reactorctl enable ha-mount\n"
msgstr "# drbd-reactorctl enable ha-mount\n"

#. type: Plain text
msgid ""
"As a next step, you may want to read the https://linbit.com/drbd-user-guide/"
"linstor-guide-1_0-en/#s-linstor_ha[LINSTOR User's Guide section on creating "
"a highly available LINSTOR cluster]. There, DRBD Reactor is used to manage "
"the LINSTOR Controller as a service so that it is highly available within "
"your cluster."
msgstr ""
"次のステップとして、 https://linbit.com/drbd-user-guide/linstor-guide-1_0-en/"
"#s-linstor_ha[LINSTORユーザーズガイドの高可用性LINSTORクラスタの作成に関する"
"セクション] を読むとよいでしょう。DRBD Reactor は、LINSTOR コントローラをサー"
"ビスとして管理し、クラスタ内で高可用性を実現するために使用されます。"

#. type: Title ===
#, no-wrap
msgid "Configuring DRBD Reactor's Prometheus Plugin"
msgstr "DRBD ReactorのPrometheusプラグインの設定"

#. type: Plain text
msgid ""
"DRBD Reactor’s Prometheus monitoring plugin acts as a Prometheus compatible "
"endpoint for DRBD resources and exposes various DRBD metrics. You can find a "
"list of the available metrics in https://github.com/LINBIT/drbd-reactor/blob/"
"master/doc/prometheus.md[the documentation folder] in the project’s GitHub "
"repository."
msgstr ""
"DRBD ReactorのPrometheusモニタリングプラグインは、DRBDリソース向けの"
"Prometheus互換エンドポイントとして機能し、さまざまなDRBDメトリクスを公開しま"
"す。利用可能なメトリクスの一覧は、プロジェクトのGitHubリポジトリ内のドキュメ"
"ントフォルダ（ https://github.com/LINBIT/drbd-reactor/blob/master/doc/"
"prometheus.md ）にあります。"

#. type: Plain text
msgid "Prometheus is installed with its service enabled and running."
msgstr "Prometheus がインストール、サービスが有効で動作している。"

#. type: Plain text
msgid "Grafana is installed with its service enabled and running."
msgstr "Grafana がインストール、サービスが有効で動作している。"

#. type: Plain text
msgid ""
"To enable the Prometheus plugin, create a simple configuration file snippet "
"on all DRBD Reactor nodes that you are monitoring."
msgstr ""
"Prometheusプラグインを有効にするには、監視しているすべてのDRBD Reactorノード"
"に簡単な構成ファイルスニペットを作成してください。"

#. type: delimited block -
#, no-wrap
msgid ""
"# cat << EOF > /etc/drbd-reactor.d/prometheus.toml\n"
"[[prometheus]]\n"
"enums = true\n"
"address = \"0.0.0.0:9942\"\n"
"EOF\n"
msgstr ""
"# cat << EOF > /etc/drbd-reactor.d/prometheus.toml\n"
"[[prometheus]]\n"
"enums = true\n"
"address = \"0.0.0.0:9942\"\n"
"EOF\n"

#. type: Plain text
msgid "Reload the DRBD Reactor service on all nodes that you are monitoring."
msgstr "監視しているすべてのノードで DRBD Reactor サービスを再ロードします。"

#. type: Plain text
msgid ""
"Add the following DRBD Reactor monitoring endpoint to your Prometheus "
"configuration file’s `scrape_configs` section. Replace “node-x” in the "
"`targets` lines below with either hostnames or IP addresses for your DRBD "
"Reactor monitoring endpoint nodes. Hostnames must be resolvable from your "
"Prometheus monitoring node."
msgstr ""
"Prometheus 設定ファイルの `scrape_configs` セクションに、以下の DRBD Reactor "
"監視エンドポイントを追加します。以下の `targets` 行の node-x を、DRBD "
"Reactor 監視エンドポイントノードのホスト名または IP アドレスに置き換えます。"
"ホスト名はPrometheus 監視ノードから解決可能である必要があります。"

#. type: delimited block -
#, no-wrap
msgid ""
"  - job_name: drbd_reactor_endpoint\n"
"    static_configs:\n"
"      - targets: ['node-0:9942']\n"
"        labels:\n"
"          instance: 'node-0'\n"
"      - targets: ['node-1:9942']\n"
"        labels:\n"
"          instance: 'node-1'\n"
"      - targets: ['node-2:9942']\n"
"        labels:\n"
"          instance: 'node-2'\n"
"       [...]\n"
msgstr ""
"  - job_name: drbd_reactor_endpoint\n"
"    static_configs:\n"
"      - targets: ['node-0:9942']\n"
"        labels:\n"
"          instance: 'node-0'\n"
"      - targets: ['node-1:9942']\n"
"        labels:\n"
"          instance: 'node-1'\n"
"      - targets: ['node-2:9942']\n"
"        labels:\n"
"          instance: 'node-2'\n"
"       [...]\n"

#. type: Plain text
msgid ""
"Then, assuming it is already enabled and running, reload the Prometheus "
"service by entering `sudo systemctl reload prometheus.service`."
msgstr ""
"次に、Prometheus サービスが既に有効で実行中であると仮定して、 `sudo "
"systemctl reload prometheus.service` と入力して、Prometheus サービスをリロー"
"ドします。"

#. type: Plain text
msgid ""
"Next, you can open your Grafana server’s URL with a web browser. If the "
"Grafana server service is running on the same node as your Prometheus "
"monitoring service, the URL would look like: `http://"
"<node_IP_address_or_hostname>:3000`."
msgstr ""
"次に、Web ブラウザで Grafana サーバーの URL を開きます。Grafanaサーバーサービ"
"スが Prometheus モニタリングサービスと同じノードで稼働している場合、URL は次"
"のようになります。 `http://<node_IP_address_or_hostname>:3000` となります。"

#. type: Plain text
msgid ""
"You can then log into the Grafana server web UI, add a Prometheus data "
"source, and then add or import a Grafana dashboard that uses your Prometheus "
"data source. An example dashboard is available at the https://grafana.com/"
"grafana/dashboards/14339[Grafana Labs dashboards marketplace]. An example "
"dashboard is also available as a downloadable JSON file https://raw."
"githubusercontent.com/LINBIT/drbd-reactor/master/example/grafana-dashboard."
"json[here], at the DRBD Reactor GitHub project site."
msgstr ""
"その後、Grafana サーバーの Web UI にログインし、Prometheus データソースを追加"
"し、Prometheus データソースを使用する Grafana ダッシュボードを追加またはイン"
"ポートすることが可能です。ダッシュボード例は、 https://grafana.com/grafana/"
"dashboards/14339[Grafana Labs dashboards marketplace] で公開されています。ま"
"た、ダッシュボードの例は、ダウンロード可能な JSON ファイルとして https://raw."
"githubusercontent.com/LINBIT/drbd-reactor/master/example/grafana-dashboard."
"json[こちら], DRBD Reactor GitHub プロジェクトサイトで入手可能です。"
