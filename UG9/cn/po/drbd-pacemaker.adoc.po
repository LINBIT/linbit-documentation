# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: documentation@linbit.com\n"
"POT-Creation-Date: 2023-10-31 19:39+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Plain text
#: UG9/en/drbd-administration-manual.adoc:1573 UG9/en/drbd-pacemaker.adoc:238
#, fuzzy
msgid ""
"Stacking is deprecated in DRBD version 9.x, as more nodes can be implemented "
"on a single level. See <<s-drbdconf-conns>> for details."
msgstr ""
"#-#-#-#-#  drbd-administration-manual.adoc.po  #-#-#-#-#\n"
"在DRBD版本9.x中，堆叠是不推荐使用的，因为可以在单个级别上实现更多节点。有关详"
"细信息，请参见<<s-drbdconf-conns>>。\n"
"#-#-#-#-#  drbd-pacemaker.adoc.po (PACKAGE VERSION)  #-#-#-#-#\n"
"DRBD版本9.x中不建议使用堆栈，因为可以在单个级别上实现更多节点。有关详细信息，"
"请参见<<s-drbdconf-conns>>。"

#.  FIXME
#. type: Title ==
#: UG9/en/drbd-pacemaker.adoc:3
#, fuzzy, no-wrap
#| msgid "Integrating DRBD with Pacemaker clusters"
msgid "Integrating DRBD with Pacemaker Clusters"
msgstr "将DRBD与Pacemaker集成"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:9
msgid ""
"indexterm:[Pacemaker]Using DRBD in conjunction with the Pacemaker cluster "
"stack is arguably DRBD's most frequently found use case. Pacemaker is also "
"one of the applications that make DRBD extremely powerful in a wide variety "
"of usage scenarios."
msgstr ""
"indexterm:[Pacemaker]结合使用DRBD和Pacemaker集群栈可以说是DRBD最常见的用例。"
"Pacemaker也是使DRBD在各种各样的使用场景中非常强大的应用程序之一。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:11
#, fuzzy
#| msgid "DRBD can be used in Pacemaker clusters in two ways:"
msgid "DRBD can be used in Pacemaker clusters in different ways:"
msgstr "DRBD可通过两种方式用于Pacemaker集群:"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:13
msgid "DRBD running as a background-service, used like a SAN; or"
msgstr "作为后台服务运行的DRBD，用作SAN;或"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:14
#, fuzzy
#| msgid "DRBD completely managed by Pacemaker."
msgid ""
"DRBD completely managed by Pacemaker through the DRBD OCF resource agent"
msgstr "完全由Pacemaker管理的DRBD."

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:16
msgid ""
"Both have a few advantages and disadvantages, these will be discussed below."
msgstr "两者都有一些优点和缺点，这些将在下面讨论。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:23
#, fuzzy
#| msgid ""
#| "It's recommended to have some fencing configured.  If your cluster has "
#| "communication issues (e.g. network switch loses power) and gets split, "
#| "the parts might start the services (failover)  and cause a *Split-Brain* "
#| "when the communication resumes again."
msgid ""
"It's recommended to have either fencing configured or quorum enabled.  (But "
"not both. External fencing handler results may interact in conflicting ways "
"with DRBD internal quorum.)  If your cluster has communication issues (for "
"example, a network switch loses power) and gets split, the parts might start "
"the services (failover)  and cause a *Split-Brain* when the communication "
"resumes again."
msgstr ""
"建议配置一些围栏。如果集群有通信问题（如网络交换机断电）并被分割，那么当通信"
"再次恢复时，这些部分可能会启动服务（故障转移）并导致 *裂脑*  。"

#. type: Title ===
#: UG9/en/drbd-pacemaker.adoc:25
#, fuzzy, no-wrap
#| msgid "Introduction to DRBD"
msgid "Introduction to Pacemaker"
msgstr "DRBD简介"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:31
#, fuzzy
#| msgid ""
#| "Pacemaker is a sophisticated, feature-rich, and widely deployed cluster "
#| "resource manager for the Linux platform. It comes with a rich set of "
#| "documentation. In order to understand this chapter, reading the following "
#| "documents is highly recommended:"
msgid ""
"Pacemaker is a sophisticated, feature-rich, and widely deployed cluster "
"resource manager for the Linux platform. It includes a rich set of "
"documentation. To understand this chapter, reading the following documents "
"is highly recommended:"
msgstr ""
"Pacemaker是一个复杂的、功能丰富的、广泛部署的Linux平台集群资源管理器。它附带"
"了一组丰富的文档。为了理解本章，强烈建议阅读以下文件："

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:34
#, fuzzy
#| msgid ""
#| "https://www.clusterlabs.org/pacemaker/doc/2.1/Pacemaker_Explained/"
#| "singlehtml/[[Clusters From Scratch], a step-by-step guide to configuring "
#| "high availability clusters;"
msgid ""
"https://www.clusterlabs.org/pacemaker/doc/2.1/Pacemaker_Explained/singlehtml/"
"[Clusters From Scratch] , a step-by-step guide to configuring high-"
"availability clusters;"
msgstr ""
"http://www.clusterlabs.org/doc/Cluster_from_Scratch.pdf[Clusters from "
"Scratch]，配置高可用性集群的分步指南；"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:38
msgid ""
"http://crmsh.github.io/documentation/index.html[CRM CLI (command line "
"interface) tool], a manual for the CRM shell, a simple and intuitive command "
"line interface bundled with Pacemaker;"
msgstr ""
"http://crmsh.github.io/documentation/index.html[CRM CLI（命令行界面）工具]，"
"CRM shell手册，一个与Pacemaker捆绑在一起的简单直观的命令行界面；"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:42
msgid ""
"http://clusterlabs.org/doc/en-US/Pacemaker/1.1/html/Pacemaker_Explained/"
"[Pacemaker Configuration Explained], a reference document explaining the "
"concept and design behind Pacemaker."
msgstr ""
"http://clusterlabs.org/doc/en-US/Pacemaker/1.1/html/Pacemaker_Explained/[解释"
"Pacemaker配置]，解释Pacemaker背后的概念和设计的参考文件。"

#. type: Title ===
#: UG9/en/drbd-pacemaker.adoc:45
#, fuzzy, no-wrap
#| msgid "Using DRBD as a background service in a pacemaker cluster"
msgid "Using DRBD as a Background Service in a Pacemaker Cluster"
msgstr "在Pacemaker集群中使用DRBD作为后台服务"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:50
msgid ""
"In this section you will see that using autonomous DRBD storage can look "
"like local storage; so integrating in a Pacemaker cluster is done by "
"pointing your mount points at DRBD."
msgstr ""
"在本节中，您将看到使用自主DRBD存储看起来像本地存储；因此，在Pacemaker集群中集"
"成是通过将挂载点指向DRBD来完成的。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:55
#, fuzzy
#| msgid ""
#| "First of all, we will use the `auto-promote` feature of DRBD, so that "
#| "DRBD automatically sets itself _Primary_ when needed. This will probably "
#| "apply to all of your resources, so setting that a default in the `common` "
#| "section makes sense:"
msgid ""
"First of all, we will use the `auto-promote` feature of DRBD, so that DRBD "
"automatically sets itself _Primary_ when needed. This will probably apply to "
"all of your resources, so setting that as a default \"yes\" in the `common` "
"section makes sense:"
msgstr ""
"首先，我们将使用DRBD的 `auto-promote` 特性，以便DRBD在需要时自动设置自己的 "
"_Primary_ 。这可能适用于您的所有资源，因此设置 `common` 部分中的默认值是有意"
"义的："

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:64
#, no-wrap
msgid ""
"common {\n"
"  options {\n"
"    auto-promote yes;\n"
"    ...\n"
"  }\n"
"}\n"
msgstr ""
"common {\n"
"  options {\n"
"    auto-promote yes;\n"
"    ...\n"
"  }\n"
"}\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:67
#, fuzzy
#| msgid "Now you just need to use your storage, e.g. via a filesystem:"
msgid ""
"Now you just need to use your storage, for example, through a filesystem:"
msgstr "现在您只需要使用存储，例如通过文件系统："

#. type: Block title
#: UG9/en/drbd-pacemaker.adoc:68
#, no-wrap
msgid "Pacemaker configuration for DRBD-backed MySQL service, using `auto-promote`"
msgstr "使用 `auto promote` 为DRBD支持的MySQL服务配置Pacemaker"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:81
#, no-wrap
msgid ""
"crm configure\n"
"crm(live)configure# primitive fs_mysql ocf:heartbeat:Filesystem \\\n"
"                    params device=\"/dev/drbd/by-res/mysql/0\" \\\n"
"                      directory=\"/var/lib/mysql\" fstype=\"ext3\"\n"
"crm(live)configure# primitive ip_mysql ocf:heartbeat:IPaddr2 \\\n"
"                    params ip=\"10.9.42.1\" nic=\"eth0\"\n"
"crm(live)configure# primitive mysqld lsb:mysqld\n"
"crm(live)configure# group mysql fs_mysql ip_mysql mysqld\n"
"crm(live)configure# commit\n"
"crm(live)configure# exit\n"
"bye\n"
msgstr ""
"crm configure\n"
"crm(live)configure# primitive fs_mysql ocf:heartbeat:Filesystem \\\n"
"                    params device=\"/dev/drbd/by-res/mysql/0\" \\\n"
"                      directory=\"/var/lib/mysql\" fstype=\"ext3\"\n"
"crm(live)configure# primitive ip_mysql ocf:heartbeat:IPaddr2 \\\n"
"                    params ip=\"10.9.42.1\" nic=\"eth0\"\n"
"crm(live)configure# primitive mysqld lsb:mysqld\n"
"crm(live)configure# group mysql fs_mysql ip_mysql mysqld\n"
"crm(live)configure# commit\n"
"crm(live)configure# exit\n"
"bye\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:85
msgid ""
"Essentially all that is needed is a mountpoint (`/var/lib/mysql` in this "
"example) where the DRBD resource gets mounted."
msgstr ""
"实际上，所需要的只是一个挂载点（在本例中为`/var/lib/mysql`），DRBD资源在这里"
"挂载。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:88
#, fuzzy
#| msgid ""
#| "As long as Pacemaker has control, it will only allow a single instance of "
#| "that mount across your cluster."
msgid ""
"Provided that Pacemaker has control, it will only allow a single instance of "
"that mount across your cluster."
msgstr "只要Pacemaker有控制权，它就只允许在集群中安装一个实例。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:91
msgid ""
"See also <<s-pacemaker-drbd-attr>> for additional information about ordering "
"constraints for system startup and more."
msgstr ""

#. type: Title ===
#: UG9/en/drbd-pacemaker.adoc:93
#, fuzzy, no-wrap
#| msgid "Adding a DRBD-backed service to the cluster configuration, including a master-slave resource"
msgid "Adding a DRBD-backed Service to the Cluster Configuration, Including a Master-Slave Resource"
msgstr "向集群配置添加DRBD支持的服务，包括主-从资源"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:97
msgid ""
"This section explains how to enable a DRBD-backed service in a Pacemaker "
"cluster."
msgstr "本节介绍如何在Pacemaker集群中启用DRBD支持的服务。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:102
msgid ""
"If you are employing the DRBD OCF resource agent, it is recommended that you "
"defer DRBD startup, shutdown, promotion, and demotion _exclusively_ to the "
"OCF resource agent. That means that you should disable the DRBD init script:"
msgstr ""
"如果您使用的是DRBD OCF资源代理，建议您将DRBD的启动、关闭、升级和降级 _专门_ "
"推迟到OCF资源代理。这意味着您应该禁用DRBD init脚本："

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:105
#, no-wrap
msgid "chkconfig drbd off\n"
msgstr "chkconfig drbd off\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:113
msgid ""
"The `ocf:linbit:drbd` OCF resource agent provides Master/Slave capability, "
"allowing Pacemaker to start and monitor the DRBD resource on multiple nodes "
"and promoting and demoting as needed. You must, however, understand that the "
"DRBD RA disconnects and detaches all DRBD resources it manages on Pacemaker "
"shutdown, and also upon enabling standby mode for a node."
msgstr ""
"`ocf:linbit:drbd` ocf资源代理提供主/从功能，允许Pacemaker启动和监视多个节点上"
"的drbd资源，并根据需要进行升级和降级。但是，您必须了解，DRBD RA在Pacemaker关"
"闭时，以及在为节点启用待机模式时，会断开并分离它管理的所有DRBD资源。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:122
#, fuzzy
#| msgid ""
#| "The OCF resource agent which ships with DRBD belongs to the `linbit` "
#| "provider, and hence installs as `/usr/lib/ocf/resource.d/linbit/drbd`. "
#| "There is a legacy resource agent that ships as part of the OCF resource "
#| "agents package, which uses the `heartbeat` provider and installs into `/"
#| "usr/lib/ocf/resource.d/heartbeat/drbd`. The legacy OCF RA is deprecated "
#| "and should no longer be used."
msgid ""
"The OCF resource agent which ships with DRBD belongs to the `linbit` "
"provider, and therefore installs as `/usr/lib/ocf/resource.d/linbit/drbd`. "
"There is a legacy resource agent that is included with the OCF resource "
"agents package, which uses the `heartbeat` provider and installs into `/usr/"
"lib/ocf/resource.d/heartbeat/drbd`. The legacy OCF RA is deprecated and "
"should no longer be used."
msgstr ""
"DRBD附带的OCF资源代理属于 `linbit` 提供程序，因此安装为`/usr/lib/OCF/"
"resource.d/linbit/DRBD`。有一个遗留资源代理作为OCF资源代理包的一部分提供，它"
"使用 `heartbeat` 提供程序并安装到 `/usr/lib/OCF/resource.d/heartbeat/drbd` 。"
"旧的OCF RA已弃用，不应再使用。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:129
#, fuzzy
#| msgid ""
#| "In order to enable a DRBD-backed configuration for a MySQL database in a "
#| "Pacemaker CRM cluster with the `drbd` OCF resource agent, you must create "
#| "both the necessary resources, and Pacemaker constraints to ensure your "
#| "service only starts on a previously promoted DRBD resource. You may do so "
#| "using the `crm` shell, as outlined in the following example:"
msgid ""
"To enable a DRBD-backed configuration for a MySQL database in a Pacemaker "
"CRM cluster with the `drbd` OCF resource agent, you must create both the "
"necessary resources, and Pacemaker constraints to ensure your service only "
"starts on a previously promoted DRBD resource. You may do so using the `crm` "
"shell, as outlined in the following example:"
msgstr ""
"为了使用 `DRBD` OCF资源代理为Pacemaker CRM集群中的MySQL数据库启用DRBD支持的配"
"置，必须同时创建必要的资源和Pacemaker约束，以确保您的服务仅在以前升级的DRBD资"
"源上启动。您可以使用 `crm` shell执行此操作，如下例所示："

#. type: Block title
#: UG9/en/drbd-pacemaker.adoc:130
#, no-wrap
msgid "Pacemaker configuration for DRBD-backed MySQL service, using a `master-slave` resource"
msgstr "使用 `master-slave` 资源为DRBD支持的MySQL服务配置Pacemaker"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:155
#, no-wrap
msgid ""
"crm configure\n"
"crm(live)configure# primitive drbd_mysql ocf:linbit:drbd \\\n"
"                    params drbd_resource=\"mysql\" \\\n"
"                    op monitor interval=\"29s\" role=\"Master\" \\\n"
"                    op monitor interval=\"31s\" role=\"Slave\"\n"
"crm(live)configure# ms ms_drbd_mysql drbd_mysql \\\n"
"                    meta master-max=\"1\" master-node-max=\"1\" \\\n"
"                         clone-max=\"2\" clone-node-max=\"1\" \\\n"
"                         notify=\"true\"\n"
"crm(live)configure# primitive fs_mysql ocf:heartbeat:Filesystem \\\n"
"                    params device=\"/dev/drbd/by-res/mysql/0\" \\\n"
"                      directory=\"/var/lib/mysql\" fstype=\"ext3\"\n"
"crm(live)configure# primitive ip_mysql ocf:heartbeat:IPaddr2 \\\n"
"                    params ip=\"10.9.42.1\" nic=\"eth0\"\n"
"crm(live)configure# primitive mysqld lsb:mysqld\n"
"crm(live)configure# group mysql fs_mysql ip_mysql mysqld\n"
"crm(live)configure# colocation mysql_on_drbd \\\n"
"                      inf: mysql ms_drbd_mysql:Master\n"
"crm(live)configure# order mysql_after_drbd \\\n"
"                      inf: ms_drbd_mysql:promote mysql:start\n"
"crm(live)configure# commit\n"
"crm(live)configure# exit\n"
"bye\n"
msgstr ""
"crm configure\n"
"crm(live)configure# primitive drbd_mysql ocf:linbit:drbd \\\n"
"                    params drbd_resource=\"mysql\" \\\n"
"                    op monitor interval=\"29s\" role=\"Master\" \\\n"
"                    op monitor interval=\"31s\" role=\"Slave\"\n"
"crm(live)configure# ms ms_drbd_mysql drbd_mysql \\\n"
"                    meta master-max=\"1\" master-node-max=\"1\" \\\n"
"                         clone-max=\"2\" clone-node-max=\"1\" \\\n"
"                         notify=\"true\"\n"
"crm(live)configure# primitive fs_mysql ocf:heartbeat:Filesystem \\\n"
"                    params device=\"/dev/drbd/by-res/mysql/0\" \\\n"
"                      directory=\"/var/lib/mysql\" fstype=\"ext3\"\n"
"crm(live)configure# primitive ip_mysql ocf:heartbeat:IPaddr2 \\\n"
"                    params ip=\"10.9.42.1\" nic=\"eth0\"\n"
"crm(live)configure# primitive mysqld lsb:mysqld\n"
"crm(live)configure# group mysql fs_mysql ip_mysql mysqld\n"
"crm(live)configure# colocation mysql_on_drbd \\\n"
"                      inf: mysql ms_drbd_mysql:Master\n"
"crm(live)configure# order mysql_after_drbd \\\n"
"                      inf: ms_drbd_mysql:promote mysql:start\n"
"crm(live)configure# commit\n"
"crm(live)configure# exit\n"
"bye\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:160
msgid ""
"After this, your configuration should be enabled. Pacemaker now selects a "
"node on which it promotes the DRBD resource, and then starts the DRBD-backed "
"resource group on that same node."
msgstr ""
"在此之后，应启用配置。Pacemaker现在选择一个节点，在该节点上提升DRBD资源，然后"
"在同一节点上启动DRBD支持的资源组。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:163
msgid ""
"See also <<s-pacemaker-drbd-attr>> for additional information about location "
"contraints for placing the Master role."
msgstr ""

#. type: Title ===
#: UG9/en/drbd-pacemaker.adoc:165
#, fuzzy, no-wrap
#| msgid "Using resource-level fencing in Pacemaker clusters"
msgid "Using Resource-level Fencing in Pacemaker Clusters"
msgstr "在Pacemaker集群中使用资源级围栏"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:172
msgid ""
"This section outlines the steps necessary to prevent Pacemaker from "
"promoting a DRBD Master/Slave resource when its DRBD replication link has "
"been interrupted. This keeps Pacemaker from starting a service with outdated "
"data and causing an unwanted \"time warp\" in the process."
msgstr ""
"本节概述了在DRBD复制链接中断时防止Pacemaker升级DRBD主/从资源所需的步骤。这使"
"得Pacemaker不会使用过时的数据启动服务，也不会在启动过程中造成不必要的 `时间扭"
"曲` 。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:175
#, fuzzy
#| msgid ""
#| "In order to enable any resource-level fencing for DRBD, you must add the "
#| "following lines to your resource configuration:"
msgid ""
"To enable any resource-level fencing for DRBD, you must add the following "
"lines to your resource configuration:"
msgstr "要为DRBD启用任何资源级围栏，必须在资源配置中添加以下行："

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:184
#, no-wrap
msgid ""
"resource <resource> {\n"
"  net {\n"
"    fencing resource-only;\n"
"    ...\n"
"  }\n"
"}\n"
msgstr ""
"resource <resource> {\n"
"  net {\n"
"    fencing resource-only;\n"
"    ...\n"
"  }\n"
"}\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:188
#, fuzzy
#| msgid ""
#| "You will also have to make changes to the `handlers` section depending on "
#| "the cluster infrastructure being used:"
msgid ""
"You will also have to make changes to the `handlers` section depending on "
"the cluster infrastructure being used."
msgstr "您还必须根据使用的集群基础结构更改 `handlers` 部分："

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:191
#, fuzzy
#| msgid ""
#| "Both Corosync- and Heartbeat-based clusters can use the functionality "
#| "explained in <<s-pacemaker-fencing-cib>>."
msgid ""
"Corosync-based Pacemaker clusters can use the functionality explained in <<s-"
"pacemaker-fencing-cib>>."
msgstr ""
"基于Corosync和Heartbeat的集群都可以使用<<s-pacemaker-fencing-cib>>中解释的功"
"能。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:196
#, fuzzy
#| msgid ""
#| "It is absolutely vital to configure at least two independent cluster "
#| "communications channels for this functionality to work correctly. "
#| "Heartbeat-based Pacemaker clusters should define at least two cluster "
#| "communication links in their `ha.cf` configuration files. Corosync "
#| "clusters should list at least two redundant rings in `corosync.conf`."
msgid ""
"It is absolutely vital to configure at least two independent cluster "
"communications channels for this functionality to work correctly. Corosync "
"clusters should list at least two redundant rings in `corosync.conf`, "
"respectively several paths for knet."
msgstr ""
"配置至少两个独立的集群通信通道以使此功能正常工作是绝对重要的。基于心跳的"
"Pacemaker集群应该在其 `ha.cf` 配置文件中定义至少两个集群通信链路。Corosync集"
"群应该在 `Corosync.conf` 中列出至少两个冗余环。"

#. type: Title ====
#: UG9/en/drbd-pacemaker.adoc:199
#, fuzzy, no-wrap
#| msgid "Resource-level fencing using the Cluster Information Base (CIB)"
msgid "Resource-level Fencing Using the Cluster Information Base (CIB)"
msgstr "使用集群信息库（CIB）的资源级围栏"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:203
#, fuzzy
#| msgid ""
#| "In order to enable resource-level fencing for Pacemaker, you will have to "
#| "set two options in `drbd.conf`:"
msgid ""
"To enable resource-level fencing for Pacemaker, you will have to set two "
"options in `drbd.conf`:"
msgstr "要为Pacemaker启用资源级围栏，必须在 `drbd.conf` 中设置两个选项："

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:221
#, no-wrap
msgid ""
"resource <resource> {\n"
"  net {\n"
"    fencing resource-only;\n"
"    ...\n"
"  }\n"
"  handlers {\n"
"    fence-peer \"/usr/lib/drbd/crm-fence-peer.9.sh\";\n"
"    unfence-peer \"/usr/lib/drbd/crm-unfence-peer.9.sh\";\n"
"    # Note: we used to abuse the after-resync-target handler to do the\n"
"    # unfence, but since 2016 have a dedicated unfence-peer handler.\n"
"    # Using the after-resync-target handler is wrong in some corner cases.\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"
msgstr ""
"resource <resource> {\n"
"  net {\n"
"    fencing resource-only;\n"
"    ...\n"
"  }\n"
"  handlers {\n"
"    fence-peer \"/usr/lib/drbd/crm-fence-peer.9.sh\";\n"
"    unfence-peer \"/usr/lib/drbd/crm-unfence-peer.9.sh\";\n"
"    # Note: we used to abuse the after-resync-target handler to do the\n"
"    # unfence, but since 2016 have a dedicated unfence-peer handler.\n"
"    # Using the after-resync-target handler is wrong in some corner cases.\n"
"    ...\n"
"  }\n"
"  ...\n"
"}\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:231
#, fuzzy
#| msgid ""
#| "Thus, if the DRBD replication link becomes disconnected, the `crm-fence-"
#| "peer.9.sh` script contacts the cluster manager, determines the Pacemaker "
#| "Master/Slave resource associated with this DRBD resource, and ensures "
#| "that the Master/Slave resource no longer gets promoted on any node other "
#| "than the currently active one. Conversely, when the connection is re-"
#| "established and DRBD completes its synchronization process, then that "
#| "constraint is removed and the cluster manager is free to promote the "
#| "resource on any node again."
msgid ""
"Therefore, if the DRBD replication link becomes disconnected, the `crm-fence-"
"peer.9.sh` script contacts the cluster manager, determines the Pacemaker "
"Master/Slave resource associated with this DRBD resource, and ensures that "
"the Master/Slave resource no longer gets promoted on any node other than the "
"currently active one. Conversely, when the connection is re-established and "
"DRBD completes its synchronization process, then that constraint is removed "
"and the cluster manager is free to promote the resource on any node again."
msgstr ""
"因此，如果DRBD复制链接断开连接， `crm-fence-peer.9.sh` 脚本将联系集群管理器，"
"确定与此DRBD资源关联的Pacemaker主/从资源，并确保主/从资源不再在当前活动的节点"
"以外的任何节点上升级。相反，当重新建立连接并且DRBD完成其同步过程时，则移除该"
"约束，并且集群管理器可以自由地再次提升任何节点上的资源。"

#. type: Title ===
#: UG9/en/drbd-pacemaker.adoc:233
#, fuzzy, no-wrap
#| msgid "Using stacked DRBD resources in Pacemaker clusters"
msgid "Using Stacked DRBD Resources in Pacemaker Clusters"
msgstr "在Pacemaker集群中使用堆叠的DRBD资源"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:243
msgid ""
"Stacked resources allow DRBD to be used for multi-level redundancy in "
"multiple-node clusters, or to establish off-site disaster recovery "
"capability. This section describes how to configure DRBD and Pacemaker in "
"such configurations."
msgstr ""
"堆叠资源允许DRBD用于多节点集群中的多级冗余，或建立非现场灾难恢复能力。本节描"
"述如何在这种配置中配置DRBD和Pacemaker。"

#. type: Title ====
#: UG9/en/drbd-pacemaker.adoc:246
#, fuzzy, no-wrap
#| msgid "Adding off-site disaster recovery to Pacemaker clusters"
msgid "Adding Off-site Disaster Recovery to Pacemaker Clusters"
msgstr "将异地灾难恢复添加到Pacemaker集群"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:253
msgid ""
"In this configuration scenario, we would deal with a two-node high "
"availability cluster in one site, plus a separate node which would "
"presumably be housed off-site. The third node acts as a disaster recovery "
"node and is a standalone server. Consider the following illustration to "
"describe the concept."
msgstr ""
"在这个配置场景中，我们将在一个站点中处理一个两节点高可用性集群，外加一个单独"
"的节点，该节点可能位于异地。第三个节点充当灾难恢复节点，是一个独立的服务器。"
"考虑下面的插图来描述这个概念。"

#. type: Block title
#: UG9/en/drbd-pacemaker.adoc:254 UG9/en/drbd-pacemaker.adoc:345
#, no-wrap
msgid "DRBD resource stacking in Pacemaker clusters"
msgstr "Pacemaker集群中的DRBD资源叠加"

#. type: Target for macro image
#: UG9/en/drbd-pacemaker.adoc:255
#, no-wrap
msgid "images/drbd-resource-stacking-pacemaker-3nodes.svg"
msgstr "images/drbd-resource-stacking-pacemaker-3nodes.svg"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:259
msgid ""
"In this example, 'alice' and 'bob' form a two-node Pacemaker cluster, "
"whereas 'charlie' is an off-site node not managed by Pacemaker."
msgstr ""
"在本例中， `alice` 和 `bob` 组成了一个两节点Pacemaker集群，而 `charlie` 是一"
"个非现场节点，不由Pacemaker管理。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:263
msgid ""
"To create such a configuration, you would first configure and initialize "
"DRBD resources as described in <<s-three-nodes>>. Then, configure Pacemaker "
"with the following CRM configuration:"
msgstr ""
"要创建这样的配置，首先要配置和初始化DRBD资源，如<<s-three-nodes>>中所述。然"
"后，使用以下CRM配置配置Pacemaker："

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:268
#, no-wrap
msgid ""
"primitive p_drbd_r0 ocf:linbit:drbd \\\n"
"\tparams drbd_resource=\"r0\"\n"
msgstr ""
"primitive p_drbd_r0 ocf:linbit:drbd \\\n"
"\tparams drbd_resource=\"r0\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:271
#, no-wrap
msgid ""
"primitive p_drbd_r0-U ocf:linbit:drbd \\\n"
"\tparams drbd_resource=\"r0-U\"\n"
msgstr ""
"primitive p_drbd_r0-U ocf:linbit:drbd \\\n"
"\tparams drbd_resource=\"r0-U\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:274
#, no-wrap
msgid ""
"primitive p_ip_stacked ocf:heartbeat:IPaddr2 \\\n"
"\tparams ip=\"192.168.42.1\" nic=\"eth0\"\n"
msgstr ""
"primitive p_ip_stacked ocf:heartbeat:IPaddr2 \\\n"
"\tparams ip=\"192.168.42.1\" nic=\"eth0\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:279
#, no-wrap
msgid ""
"ms ms_drbd_r0 p_drbd_r0 \\\n"
"\tmeta master-max=\"1\" master-node-max=\"1\" \\\n"
"        clone-max=\"2\" clone-node-max=\"1\" \\\n"
"        notify=\"true\" globally-unique=\"false\"\n"
msgstr ""
"ms ms_drbd_r0 p_drbd_r0 \\\n"
"\tmeta master-max=\"1\" master-node-max=\"1\" \\\n"
"        clone-max=\"2\" clone-node-max=\"1\" \\\n"
"        notify=\"true\" globally-unique=\"false\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:284
#, no-wrap
msgid ""
"ms ms_drbd_r0-U p_drbd_r0-U \\\n"
"\tmeta master-max=\"1\" clone-max=\"1\" \\\n"
"        clone-node-max=\"1\" master-node-max=\"1\" \\\n"
"        notify=\"true\" globally-unique=\"false\"\n"
msgstr ""
"ms ms_drbd_r0-U p_drbd_r0-U \\\n"
"\tmeta master-max=\"1\" clone-max=\"1\" \\\n"
"        clone-node-max=\"1\" master-node-max=\"1\" \\\n"
"        notify=\"true\" globally-unique=\"false\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:287
#, no-wrap
msgid ""
"colocation c_drbd_r0-U_on_drbd_r0 \\\n"
"        inf: ms_drbd_r0-U ms_drbd_r0:Master\n"
msgstr ""
"colocation c_drbd_r0-U_on_drbd_r0 \\\n"
"        inf: ms_drbd_r0-U ms_drbd_r0:Master\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:290
#, no-wrap
msgid ""
"colocation c_drbd_r0-U_on_ip \\\n"
"        inf: ms_drbd_r0-U p_ip_stacked\n"
msgstr ""
"colocation c_drbd_r0-U_on_ip \\\n"
"        inf: ms_drbd_r0-U p_ip_stacked\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:293
#, no-wrap
msgid ""
"colocation c_ip_on_r0_master \\\n"
"        inf: p_ip_stacked ms_drbd_r0:Master\n"
msgstr ""
"colocation c_ip_on_r0_master \\\n"
"        inf: p_ip_stacked ms_drbd_r0:Master\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:296
#, no-wrap
msgid ""
"order o_ip_before_r0-U \\\n"
"        inf: p_ip_stacked ms_drbd_r0-U:start\n"
msgstr ""
"order o_ip_before_r0-U \\\n"
"        inf: p_ip_stacked ms_drbd_r0-U:start\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:299
#, no-wrap
msgid ""
"order o_drbd_r0_before_r0-U \\\n"
"        inf: ms_drbd_r0:promote ms_drbd_r0-U:start\n"
msgstr ""
"order o_drbd_r0_before_r0-U \\\n"
"        inf: ms_drbd_r0:promote ms_drbd_r0-U:start\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:304 UG9/en/drbd-pacemaker.adoc:405
msgid ""
"Assuming you created this configuration in a temporary file named `/tmp/crm."
"txt`, you may import it into the live cluster configuration with the "
"following command:"
msgstr ""
"假设您在名为 `/tmp/crm.txt` 的临时文件中创建了此配置，则可以使用以下命令将其"
"导入实时集群配置："

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:307 UG9/en/drbd-pacemaker.adoc:408
#, no-wrap
msgid "crm configure < /tmp/crm.txt\n"
msgstr "crm configure < /tmp/crm.txt\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:311
msgid ""
"This configuration will ensure that the following actions occur in the "
"correct order on the 'alice'/'bob' cluster:"
msgstr "此配置将确保在 `alice` / `bob` 集群上按正确顺序执行以下操作："

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:314
msgid ""
"Pacemaker starts the DRBD resource `r0` on both cluster nodes, and promotes "
"one node to the Master (DRBD Primary) role."
msgstr ""
"Pacemaker在两个集群节点上启动DRBD资源 `r0` ，并将一个节点提升为Master（DRBD "
"Primary）角色。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:319
msgid ""
"Pacemaker then starts the IP address 192.168.42.1, which the stacked "
"resource is to use for replication to the third node. It does so on the node "
"it has previously promoted to the Master role for `r0` DRBD resource."
msgstr ""
"Pacemaker然后启动IP地址192.168.42.1，堆叠的资源将用于复制到第三个节点。它在先"
"前提升为 `r0` DRBD资源的Master角色的节点上执行此操作。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:324
msgid ""
"On the node which now has the Primary role for `r0` and also the replication "
"IP address for `r0-U`, Pacemaker now starts the `r0-U` DRBD resource, which "
"connects and replicates to the off-site node."
msgstr ""
"在现在具有 `r0` 的主要角色和 `r0-U` 的复制IP地址的节点上，Pacemaker现在启动 "
"`r0-U` DRBD资源，该资源连接并复制到非站点节点。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:327
msgid ""
"Pacemaker then promotes the `r0-U` resource to the Primary role too, so it "
"can be used by an application."
msgstr "然后Pacemaker也将 `r0-U` 资源提升为主要角色，以便应用程序可以使用它。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:331
#, fuzzy
#| msgid ""
#| "Thus, this Pacemaker configuration ensures that there is not only full "
#| "data redundancy between cluster nodes, but also to the third, off-site "
#| "node."
msgid ""
"Therefore, this Pacemaker configuration ensures that there is not only full "
"data redundancy between cluster nodes, but also to the third, off-site node."
msgstr ""
"因此，这种Pacemaker配置确保集群节点之间不仅有完全的数据冗余，而且还有到第三个"
"非现场节点的数据冗余。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:334
msgid ""
"This type of setup is usually deployed together with <<s-drbd-proxy,DRBD "
"Proxy>>."
msgstr "这种设置通常与<<s-drbd-proxy,DRBD Proxy>>一起部署。"

#. type: Title ====
#: UG9/en/drbd-pacemaker.adoc:336
#, fuzzy, no-wrap
#| msgid "Using stacked resources to achieve 4-way redundancy in Pacemaker clusters"
msgid "Using Stacked Resources to Achieve Four-way Redundancy in Pacemaker Clusters"
msgstr "利用堆叠资源实现Pacemaker集群的4路冗余"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:342
#, fuzzy
#| msgid ""
#| "In this configuration, a total of three DRBD resources (two unstacked, "
#| "one stacked) are used to achieve 4-way storage redundancy. This means "
#| "that of a 4-node cluster, up to three nodes can fail while still "
#| "providing service availability."
msgid ""
"In this configuration, a total of three DRBD resources (two unstacked, one "
"stacked) are used to achieve 4-way storage redundancy. This means that of a "
"four-node cluster, up to three nodes can fail while still providing service "
"availability."
msgstr ""
"在这种配置中，总共使用三个DRBD资源（两个未堆叠，一个堆叠）来实现4路存储冗余。"
"这意味着，对于一个4节点集群，最多有3个节点在仍然提供服务可用性的情况下可能会"
"出现故障。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:344
msgid "Consider the following illustration to explain the concept."
msgstr "考虑下面的插图来解释这个概念。"

#. type: Target for macro image
#: UG9/en/drbd-pacemaker.adoc:346
#, no-wrap
msgid "images/drbd-resource-stacking-pacemaker-4nodes.svg"
msgstr "images/drbd-resource-stacking-pacemaker-4nodes.svg"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:354
msgid ""
"In this example, 'alice', 'bob', 'charlie', and 'daisy' form two two-node "
"Pacemaker clusters. 'alice' and 'bob' form the cluster named `left` and "
"replicate data using a DRBD resource between them, while 'charlie' and "
"'daisy' do the same with a separate DRBD resource, in a cluster named "
"`right`. A third, stacked DRBD resource connects the two clusters."
msgstr ""
"在本例中， `alice` 、 `bob` 、 `charlie` 和 `daisy` 构成两个双节点Pacemaker集"
"群alice和bob组成了名为 `left` 的集群，并在它们之间使用DRBD资源复制数据，而"
"charlie和daisy在名为 `right` 的集群中使用单独的DRBD资源复制数据。第三者，堆叠"
"的DRBD资源连接两个集群。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:360
msgid ""
"Due to limitations in the Pacemaker cluster manager as of Pacemaker version "
"1.0.5, it is not possible to create this setup in a single four-node cluster "
"without disabling CIB validation, which is an advanced process not "
"recommended for general-purpose use. It is anticipated that this is being "
"addressed in future Pacemaker releases."
msgstr ""
"由于Pacemaker集群管理器自Pacemaker 1.0.5版起的限制，在不禁用CIB验证的情况下无"
"法在单个四节点集群中创建此设置，这是一个高级过程，不建议用于一般用途。预计这"
"将在未来的Pacemaker版本中得到解决。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:366
msgid ""
"To create such a configuration, you would first configure and initialize "
"DRBD resources as described in <<s-three-nodes>> (except that the remote "
"half of the DRBD configuration is also stacked, not just the local cluster). "
"Then, configure Pacemaker with the following CRM configuration, starting "
"with the cluster `left`:"
msgstr ""
"要创建这样的配置，您首先要配置和初始化DRBD资源，如<<s-three-nodes>>中所述（除"
"了DRBD配置的远程部分也是堆叠的，而不仅仅是本地集群）。然后，使用以下CRM配置配"
"置Pacemaker，从集群 `left` 开始："

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:371
#, no-wrap
msgid ""
"primitive p_drbd_left ocf:linbit:drbd \\\n"
"\tparams drbd_resource=\"left\"\n"
msgstr ""
"primitive p_drbd_left ocf:linbit:drbd \\\n"
"\tparams drbd_resource=\"left\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:374 UG9/en/drbd-pacemaker.adoc:435
#, no-wrap
msgid ""
"primitive p_drbd_stacked ocf:linbit:drbd \\\n"
"\tparams drbd_resource=\"stacked\"\n"
msgstr ""
"primitive p_drbd_stacked ocf:linbit:drbd \\\n"
"\tparams drbd_resource=\"stacked\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:377
#, no-wrap
msgid ""
"primitive p_ip_stacked_left ocf:heartbeat:IPaddr2 \\\n"
"\tparams ip=\"10.9.9.100\" nic=\"eth0\"\n"
msgstr ""
"primitive p_ip_stacked_left ocf:heartbeat:IPaddr2 \\\n"
"\tparams ip=\"10.9.9.100\" nic=\"eth0\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:382
#, no-wrap
msgid ""
"ms ms_drbd_left p_drbd_left \\\n"
"\tmeta master-max=\"1\" master-node-max=\"1\" \\\n"
"        clone-max=\"2\" clone-node-max=\"1\" \\\n"
"        notify=\"true\"\n"
msgstr ""
"ms ms_drbd_left p_drbd_left \\\n"
"\tmeta master-max=\"1\" master-node-max=\"1\" \\\n"
"        clone-max=\"2\" clone-node-max=\"1\" \\\n"
"        notify=\"true\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:387
#, no-wrap
msgid ""
"ms ms_drbd_stacked p_drbd_stacked \\\n"
"\tmeta master-max=\"1\" clone-max=\"1\" \\\n"
"        clone-node-max=\"1\" master-node-max=\"1\" \\\n"
"        notify=\"true\" target-role=\"Master\"\n"
msgstr ""
"ms ms_drbd_stacked p_drbd_stacked \\\n"
"\tmeta master-max=\"1\" clone-max=\"1\" \\\n"
"        clone-node-max=\"1\" master-node-max=\"1\" \\\n"
"        notify=\"true\" target-role=\"Master\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:390
#, no-wrap
msgid ""
"colocation c_ip_on_left_master \\\n"
"        inf: p_ip_stacked_left ms_drbd_left:Master\n"
msgstr ""
"colocation c_ip_on_left_master \\\n"
"        inf: p_ip_stacked_left ms_drbd_left:Master\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:393
#, no-wrap
msgid ""
"colocation c_drbd_stacked_on_ip_left \\\n"
"        inf: ms_drbd_stacked p_ip_stacked_left\n"
msgstr ""
"colocation c_drbd_stacked_on_ip_left \\\n"
"        inf: ms_drbd_stacked p_ip_stacked_left\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:396
#, no-wrap
msgid ""
"order o_ip_before_stacked_left \\\n"
"        inf: p_ip_stacked_left ms_drbd_stacked:start\n"
msgstr ""
"order o_ip_before_stacked_left \\\n"
"        inf: p_ip_stacked_left ms_drbd_stacked:start\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:399
#, no-wrap
msgid ""
"order o_drbd_left_before_stacked_left \\\n"
"        inf: ms_drbd_left:promote ms_drbd_stacked:start\n"
msgstr ""
"order o_drbd_left_before_stacked_left \\\n"
"        inf: ms_drbd_left:promote ms_drbd_stacked:start\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:412 UG9/en/drbd-pacemaker.adoc:464
#: UG9/en/drbd-pacemaker.adoc:575 UG9/en/drbd-pacemaker.adoc:604
msgid ""
"After adding this configuration to the CIB, Pacemaker will execute the "
"following actions:"
msgstr "将此配置添加到CIB后，Pacemaker将执行以下操作："

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:415
msgid ""
"Bring up the DRBD resource `left` replicating between 'alice' and 'bob' "
"promoting the resource to the Master role on one of these nodes."
msgstr ""
"调出DRBD资源 `left` ，在 `alice` 和 `bob` 之间复制，将资源提升到其中一个节点"
"上的Master角色。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:419
msgid ""
"Bring up the IP address 10.9.9.100 (on either 'alice' or 'bob', depending on "
"which of these holds the Master role for the resource `left`)."
msgstr ""
"调出IP地址10.9.9.100（在 `alice` 或 `bob` 上，具体取决于其中哪一个拥有资源 "
"`left` 的主角色）。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:422 UG9/en/drbd-pacemaker.adoc:475
msgid ""
"Bring up the DRBD resource `stacked` on the same node that holds the just-"
"configured IP address."
msgstr "将DRBD资源 `stacked` 调到保存刚才配置的IP地址的同一节点上。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:424
msgid "Promote the stacked DRBD resource to the Primary role."
msgstr "将堆叠的DRBD资源提升为主角色。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:427
msgid ""
"Now, proceed on the cluster `right` by creating the following configuration:"
msgstr "现在，在集群 `right` 上继续创建以下配置："

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:432
#, no-wrap
msgid ""
"primitive p_drbd_right ocf:linbit:drbd \\\n"
"\tparams drbd_resource=\"right\"\n"
msgstr ""
"primitive p_drbd_right ocf:linbit:drbd \\\n"
"\tparams drbd_resource=\"right\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:438
#, no-wrap
msgid ""
"primitive p_ip_stacked_right ocf:heartbeat:IPaddr2 \\\n"
"\tparams ip=\"10.9.10.101\" nic=\"eth0\"\n"
msgstr ""
"primitive p_ip_stacked_right ocf:heartbeat:IPaddr2 \\\n"
"\tparams ip=\"10.9.10.101\" nic=\"eth0\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:443
#, no-wrap
msgid ""
"ms ms_drbd_right p_drbd_right \\\n"
"\tmeta master-max=\"1\" master-node-max=\"1\" \\\n"
"        clone-max=\"2\" clone-node-max=\"1\" \\\n"
"        notify=\"true\"\n"
msgstr ""
"ms ms_drbd_right p_drbd_right \\\n"
"\tmeta master-max=\"1\" master-node-max=\"1\" \\\n"
"        clone-max=\"2\" clone-node-max=\"1\" \\\n"
"        notify=\"true\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:448
#, no-wrap
msgid ""
"ms ms_drbd_stacked p_drbd_stacked \\\n"
"\tmeta master-max=\"1\" clone-max=\"1\" \\\n"
"        clone-node-max=\"1\" master-node-max=\"1\" \\\n"
"        notify=\"true\" target-role=\"Slave\"\n"
msgstr ""
"ms ms_drbd_stacked p_drbd_stacked \\\n"
"\tmeta master-max=\"1\" clone-max=\"1\" \\\n"
"        clone-node-max=\"1\" master-node-max=\"1\" \\\n"
"        notify=\"true\" target-role=\"Slave\"\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:451
#, no-wrap
msgid ""
"colocation c_drbd_stacked_on_ip_right \\\n"
"        inf: ms_drbd_stacked p_ip_stacked_right\n"
msgstr ""
"colocation c_drbd_stacked_on_ip_right \\\n"
"        inf: ms_drbd_stacked p_ip_stacked_right\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:454
#, no-wrap
msgid ""
"colocation c_ip_on_right_master \\\n"
"        inf: p_ip_stacked_right ms_drbd_right:Master\n"
msgstr ""
"colocation c_ip_on_right_master \\\n"
"        inf: p_ip_stacked_right ms_drbd_right:Master\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:457
#, no-wrap
msgid ""
"order o_ip_before_stacked_right \\\n"
"        inf: p_ip_stacked_right ms_drbd_stacked:start\n"
msgstr ""
"order o_ip_before_stacked_right \\\n"
"        inf: p_ip_stacked_right ms_drbd_stacked:start\n"

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:460
#, no-wrap
msgid ""
"order o_drbd_right_before_stacked_right \\\n"
"        inf: ms_drbd_right:promote ms_drbd_stacked:start\n"
msgstr ""
"order o_drbd_right_before_stacked_right \\\n"
"        inf: ms_drbd_right:promote ms_drbd_stacked:start\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:468
msgid ""
"Bring up the DRBD resource `right` replicating between 'charlie' and "
"'daisy', promoting the resource to the Master role on one of these nodes."
msgstr ""
"在 `charlie` 和 `daisy` 之间启动DRBD资源 `right` 复制，将资源提升到其中一个节"
"点上的Master角色。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:472
msgid ""
"Bring up the IP address 10.9.10.101 (on either 'charlie' or 'daisy', "
"depending on which of these holds the Master role for the resource `right`)."
msgstr ""
"调出IP地址10.9.10.101（在 `charlie` 或 `daisy` 上，具体取决于其中哪个拥有资"
"源 `right` 的主角色）。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:478
msgid ""
"Leave the stacked DRBD resource in the Secondary role (due to `target-"
"role=\"Slave\"`)."
msgstr "将堆叠的DRBD资源保留在次要角色中（由于 `target role=` Slave ``）。"

#. type: Title ===
#: UG9/en/drbd-pacemaker.adoc:481
#, fuzzy, no-wrap
#| msgid "Configuring DRBD to replicate between two SAN-backed Pacemaker clusters"
msgid "Configuring DRBD to Replicate Between Two SAN-backed Pacemaker Clusters"
msgstr "配置DRBD以在两个支持SAN的Pacemaker集群之间进行复制"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:488
msgid ""
"indexterm:[IP address, floating peers]This is a somewhat advanced setup "
"usually employed in split-site configurations. It involves two separate "
"Pacemaker clusters, where each cluster has access to a separate Storage Area "
"Network (SAN). DRBD is then used to replicate data stored on that SAN, "
"across an IP link between sites."
msgstr ""
"indexterm:[IP address, floating peers]这是一种比较高级的设置，通常用于拆分站"
"点配置。它包括两个独立的Pacemaker集群，每个集群都可以访问单独的存储区域网络"
"（SAN）。然后使用DRBD通过站点之间的IP链路复制存储在该SAN上的数据。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:490
msgid "Consider the following illustration to describe the concept."
msgstr "考虑下面的插图来描述这个概念。"

#. type: Block title
#: UG9/en/drbd-pacemaker.adoc:491
#, no-wrap
msgid "Using DRBD to replicate between SAN-based clusters"
msgstr "使用DRBD在基于SAN的集群之间进行复制"

#. type: Target for macro image
#: UG9/en/drbd-pacemaker.adoc:492
#, no-wrap
msgid "images/drbd-pacemaker-floating-peers.svg"
msgstr "images/drbd-pacemaker-floating-peers.svg"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:498
msgid ""
"Which of the individual nodes in each site currently acts as the DRBD peer "
"is not explicitly defined -- the DRBD peers <<s-floating-peers,are said to "
"_float_>>; that is, DRBD binds to virtual IP addresses not tied to a "
"specific physical machine."
msgstr ""
"每个站点中当前充当DRBD对等点的单个节点中的哪一个没有明确定义 - DRBD对等点<<s-"
"floating-peers, 被称为是 _浮动的_>>,；也就是说，DRBD绑定到没有绑定到特定物理"
"机的虚拟IP地址。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:503
#, fuzzy
#| msgid ""
#| "This type of setup is usually deployed together with <<s-drbd-proxy,DRBD "
#| "Proxy>> and/or <<s-truck-based-replication,truck based replication>>."
msgid ""
"This type of setup is usually deployed together with <<s-drbd-proxy,DRBD "
"Proxy>> or <<s-truck-based-replication,truck based replication>>, or both."
msgstr ""
"这种类型的设置通常与<<s-drbd-proxy,DRBD Proxy>>和/或<<s-truck-based-"
"replication,truck based replication>>一起部署。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:506
msgid ""
"Since this type of setup deals with shared storage, configuring and testing "
"STONITH is absolutely vital for it to work properly."
msgstr ""
"由于这种类型的设置处理共享存储，因此对STONITH进行配置和测试对于它的正常工作至"
"关重要。"

#. type: Title ====
#: UG9/en/drbd-pacemaker.adoc:509
#, fuzzy, no-wrap
#| msgid "DRBD resource configuration"
msgid "DRBD Resource Configuration"
msgstr "DRBD资源配置"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:513
msgid ""
"To enable your DRBD resource to float, configure it in `drbd.conf` in the "
"following fashion:"
msgstr "要使DRBD资源浮动，请按以下方式在 `DRBD.conf` 中配置它："

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:524
#, no-wrap
msgid ""
"resource <resource> {\n"
"  ...\n"
"  device /dev/drbd0;\n"
"  disk /dev/sda1;\n"
"  meta-disk internal;\n"
"  floating 10.9.9.100:7788;\n"
"  floating 10.9.10.101:7788;\n"
"}\n"
msgstr ""
"resource <resource> {\n"
"  ...\n"
"  device /dev/drbd0;\n"
"  disk /dev/sda1;\n"
"  meta-disk internal;\n"
"  floating 10.9.9.100:7788;\n"
"  floating 10.9.10.101:7788;\n"
"}\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:535
#, fuzzy
#| msgid ""
#| "The `floating` keyword replaces the `on <host>` sections normally found "
#| "in the resource configuration. In this mode, DRBD identifies peers by IP "
#| "address and TCP port, rather than by host name. It is important to note "
#| "that the addresses specified must be virtual cluster IP addresses, rather "
#| "than physical node IP addresses, for floating to function properly. As "
#| "shown in the example, in split-site configurations the two floating "
#| "addresses can be expected to belong to two separate IP networks -- it is "
#| "thus vital for routers and firewalls to properly allow DRBD replication "
#| "traffic between the nodes."
msgid ""
"The `floating` keyword replaces the `on <host>` sections normally found in "
"the resource configuration. In this mode, DRBD identifies peers by IP "
"address and TCP port, rather than by host name. It is important to note that "
"the addresses specified must be virtual cluster IP addresses, rather than "
"physical node IP addresses, for floating to function properly. As shown in "
"the example, in split-site configurations the two floating addresses can be "
"expected to belong to two separate IP networks -- it is therefore vital for "
"routers and firewalls to properly allow DRBD replication traffic between the "
"nodes."
msgstr ""
"`floating` 关键字替换通常在资源配置中找到的 `on <host>` 部分。在这种模式下，"
"DRBD通过IP地址和TCP端口而不是主机名来标识对等点。需要注意的是，指定的地址必须"
"是虚拟集群IP地址，而不是物理节点IP地址，才能使浮点正常工作。如示例所示，在拆"
"分站点配置中，这两个浮动地址可能属于两个独立的IP网络——因此，路由器和防火墙必"
"须正确地允许节点之间的DRBD复制通信。"

#. type: Title ====
#: UG9/en/drbd-pacemaker.adoc:538
#, fuzzy, no-wrap
#| msgid "Pacemaker resource configuration"
msgid "Pacemaker Resource Configuration"
msgstr "Pacemaker资源配置"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:543
msgid ""
"A DRBD floating peers setup, in terms of Pacemaker configuration, involves "
"the following items (in each of the two Pacemaker clusters involved):"
msgstr ""
"就Pacemaker配置而言，DRBD浮动对等点设置包括以下各项（在涉及的两个Pacemaker集"
"群中的每一个中）："

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:545
msgid "A virtual cluster IP address."
msgstr "虚拟集群IP地址。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:547
msgid "A master/slave DRBD resource (using the DRBD OCF resource agent)."
msgstr "主/从DRBD资源（使用DRBD OCF资源代理）。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:550
msgid ""
"Pacemaker constraints ensuring that resources are started on the correct "
"nodes, and in the correct order."
msgstr "Pacemaker约束确保资源以正确的顺序在正确的节点上启动。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:554
msgid ""
"To configure a resource named `mysql` in a floating peers configuration in a "
"2-node cluster, using the replication address `10.9.9.100`, configure "
"Pacemaker with the following `crm` commands:"
msgstr ""
"要使用复制地址 `10.9.9.100` 在2节点集群的浮动对等配置中配置名为 `mysql` 的资"
"源，请使用以下 `crm` 命令配置Pacemaker："

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:571
#, no-wrap
msgid ""
"crm configure\n"
"crm(live)configure# primitive p_ip_float_left ocf:heartbeat:IPaddr2 \\\n"
"                    params ip=10.9.9.100\n"
"crm(live)configure# primitive p_drbd_mysql ocf:linbit:drbd \\\n"
"                    params drbd_resource=mysql\n"
"crm(live)configure# ms ms_drbd_mysql drbd_mysql \\\n"
"                    meta master-max=\"1\" master-node-max=\"1\" \\\n"
"                         clone-max=\"1\" clone-node-max=\"1\" \\\n"
"                         notify=\"true\" target-role=\"Master\"\n"
"crm(live)configure# order drbd_after_left \\\n"
"                      inf: p_ip_float_left ms_drbd_mysql\n"
"crm(live)configure# colocation drbd_on_left \\\n"
"                      inf: ms_drbd_mysql p_ip_float_left\n"
"crm(live)configure# commit\n"
"bye\n"
msgstr ""
"crm configure\n"
"crm(live)configure# primitive p_ip_float_left ocf:heartbeat:IPaddr2 \\\n"
"                    params ip=10.9.9.100\n"
"crm(live)configure# primitive p_drbd_mysql ocf:linbit:drbd \\\n"
"                    params drbd_resource=mysql\n"
"crm(live)configure# ms ms_drbd_mysql drbd_mysql \\\n"
"                    meta master-max=\"1\" master-node-max=\"1\" \\\n"
"                         clone-max=\"1\" clone-node-max=\"1\" \\\n"
"                         notify=\"true\" target-role=\"Master\"\n"
"crm(live)configure# order drbd_after_left \\\n"
"                      inf: p_ip_float_left ms_drbd_mysql\n"
"crm(live)configure# colocation drbd_on_left \\\n"
"                      inf: ms_drbd_mysql p_ip_float_left\n"
"crm(live)configure# commit\n"
"bye\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:577
msgid "Bring up the IP address 10.9.9.100 (on either 'alice' or 'bob')."
msgstr "调出IP地址10.9.9.100（在 `alice` 或 `bob` 上）。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:578 UG9/en/drbd-pacemaker.adoc:608
msgid "Bring up the DRBD resource according to the IP address configured."
msgstr "根据配置的IP地址调出DRBD资源。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:579
msgid "Promote the DRBD resource to the Primary role."
msgstr "将DRBD资源提升为主要角色。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:583
#, fuzzy
#| msgid ""
#| "Then, in order to create the matching configuration in the other cluster, "
#| "configure _that_ Pacemaker instance with the following commands:"
msgid ""
"Then, to create the matching configuration in the other cluster, configure "
"_that_ Pacemaker instance with the following commands:"
msgstr ""
"然后，为了在另一个集群中创建匹配的配置，请使用以下命令配置Pacemaker实例："

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:600
#, no-wrap
msgid ""
"crm configure\n"
"crm(live)configure# primitive p_ip_float_right ocf:heartbeat:IPaddr2 \\\n"
"                    params ip=10.9.10.101\n"
"crm(live)configure# primitive drbd_mysql ocf:linbit:drbd \\\n"
"                    params drbd_resource=mysql\n"
"crm(live)configure# ms ms_drbd_mysql drbd_mysql \\\n"
"                    meta master-max=\"1\" master-node-max=\"1\" \\\n"
"                         clone-max=\"1\" clone-node-max=\"1\" \\\n"
"                         notify=\"true\" target-role=\"Slave\"\n"
"crm(live)configure# order drbd_after_right \\\n"
"                      inf: p_ip_float_right ms_drbd_mysql\n"
"crm(live)configure# colocation drbd_on_right\n"
"                      inf: ms_drbd_mysql p_ip_float_right\n"
"crm(live)configure# commit\n"
"bye\n"
msgstr ""
"crm configure\n"
"crm(live)configure# primitive p_ip_float_right ocf:heartbeat:IPaddr2 \\\n"
"                    params ip=10.9.10.101\n"
"crm(live)configure# primitive drbd_mysql ocf:linbit:drbd \\\n"
"                    params drbd_resource=mysql\n"
"crm(live)configure# ms ms_drbd_mysql drbd_mysql \\\n"
"                    meta master-max=\"1\" master-node-max=\"1\" \\\n"
"                         clone-max=\"1\" clone-node-max=\"1\" \\\n"
"                         notify=\"true\" target-role=\"Slave\"\n"
"crm(live)configure# order drbd_after_right \\\n"
"                      inf: p_ip_float_right ms_drbd_mysql\n"
"crm(live)configure# colocation drbd_on_right\n"
"                      inf: ms_drbd_mysql p_ip_float_right\n"
"crm(live)configure# commit\n"
"bye\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:607
msgid "Bring up the IP address 10.9.10.101 (on either 'charlie' or 'daisy')."
msgstr "调出IP地址10.9.10.101（在 `charlie` 或 `daisy` 上）。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:610
msgid ""
"Leave the DRBD resource in the Secondary role (due to `target-"
"role=\"Slave\"`)."
msgstr "将DRBD资源保留在次要角色中（由于 `target role=\"Slave\" `）。"

#. type: Title ====
#: UG9/en/drbd-pacemaker.adoc:613
#, fuzzy, no-wrap
#| msgid "Site fail-over"
msgid "Site Failover"
msgstr "站点故障转移"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:619
#, fuzzy
#| msgid ""
#| "In split-site configurations, it may be necessary to transfer services "
#| "from one site to another. This may be a consequence of a scheduled "
#| "transition, or of a disastrous event. In case the transition is a normal, "
#| "anticipated event, the recommended course of action is this:"
msgid ""
"In split-site configurations, it may be necessary to transfer services from "
"one site to another. This may be a consequence of a scheduled migration, or "
"of a disastrous event. In case the migration is a normal, anticipated event, "
"the recommended course of action is this:"
msgstr ""
"在拆分站点配置中，可能需要将服务从一个站点传输到另一个站点。这可能是计划过渡"
"的结果，也可能是灾难性事件的结果。如果转换是正常的预期事件，建议采取以下行"
"动："

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:625
msgid ""
"Connect to the cluster on the site about to relinquish resources, and change "
"the affected DRBD resource's `target-role` attribute from `Master` to "
"`Slave`. This will shut down any resources depending on the Primary role of "
"the DRBD resource, demote it, and continue to run, ready to receive updates "
"from a new Primary."
msgstr ""
"连接到站点上即将放弃资源的集群，并将受影响的DRBD资源的 `target role` 属性从 "
"`Master` 更改为 `Slave` 。这将根据DRBD资源的主要角色关闭所有资源，将其降级并"
"继续运行，以便从新的主要资源接收更新。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:631
msgid ""
"Connect to the cluster on the site about to take over resources, and change "
"the affected DRBD resource's `target-role` attribute from `Slave` to "
"`Master`. This will promote the DRBD resources, start any other Pacemaker "
"resources depending on the Primary role of the DRBD resource, and replicate "
"updates to the remote site."
msgstr ""
"连接到站点上即将接管资源的集群，并将受影响的DRBD资源的 `target role` 属性从 "
"`Slave` 更改为 `Master` 。这将提升DRBD资源，根据DRBD资源的主要角色启动任何其"
"他Pacemaker资源，并将更新复制到远程站点。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:633
msgid "To fail back, simply reverse the procedure."
msgstr "若要退回，只需颠倒程序即可。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:637
#, fuzzy
#| msgid ""
#| "In the event that of a catastrophic outage on the active site, it can be "
#| "expected that the site is off line and no longer replicated to the backup "
#| "site. In such an event:"
msgid ""
"In case of a catastrophic outage on the active site, it can be expected that "
"the site is offline and no longer replicated to the backup site. In such an "
"event:"
msgstr ""
"在活动站点发生灾难性停机的情况下，可以预期该站点已脱机，不再复制到备份站点。"
"在这种情况下："

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:643
msgid ""
"Connect to the cluster on the still-functioning site resources, and change "
"the affected DRBD resource's `target-role` attribute from `Slave` to "
"`Master`. This will promote the DRBD resources, and start any other "
"Pacemaker resources depending on the Primary role of the DRBD resource."
msgstr ""
"连接到仍在运行的站点资源上的集群，并将受影响的DRBD资源的 `target role` 属性"
"从 `Slave` 更改为 `Master` 。这将提升DRBD资源，并根据DRBD资源的主要角色启动任"
"何其他Pacemaker资源。"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:647
msgid ""
"When the original site is restored or rebuilt, you may connect the DRBD "
"resources again, and subsequently fail back using the reverse procedure."
msgstr ""
"还原或重建原始站点时，可以再次连接DRBD资源，然后使用相反的过程进行故障恢复。"

#. type: Title ===
#: UG9/en/drbd-pacemaker.adoc:649
#, no-wrap
msgid "Importing DRBD's Promotion Scores into the CIB"
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:655
msgid ""
"Everything described in this section depends on the `drbd-attr` OCF resource "
"agent. It is available since drbd-utils version 9.15.0. On Debian/Ubuntu "
"systems this is part of the `drbd-utils` package. On RPM based Linux "
"distributions you need to install the `drbd-pacemaker` package."
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:662
msgid ""
"Every DRBD resource exposes a _promotion score_ on each node where it is "
"configured. It is a numeric value that might be 0 or positive. The value "
"reflects how desirable it is to promote the resource to master on this "
"particular node. A node that has an _UpToDate_ disk and two _UpToDate_ "
"replicas has a higher score than a node with an _UpToDate_ disk and just one "
"_UpToDate_ replica."
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:667
msgid ""
"During startup, the _promotion score_ is 0.  E.g., before the DRBD device "
"has its backing device attached, or, if quorum is enabled, before quorum is "
"gained. A value of 0 indicates that a promotion request will fail, and is "
"mapped to a pacemaker score that indicates _must not run here_."
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:670
msgid ""
"The `drbd-attr` OCF resource agent imports these promotion scores into node "
"attributes of a Pacemaker cluster. It needs to be configured like this:"
msgstr ""

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:675
#, fuzzy, no-wrap
#| msgid ""
#| "primitive p_drbd_r0 ocf:linbit:drbd \\\n"
#| "\tparams drbd_resource=\"r0\"\n"
msgid ""
"primitive drbd-attr ocf:linbit:drbd-attr\n"
"clone drbd-attr-clone drbd-attr\n"
msgstr ""
"primitive p_drbd_r0 ocf:linbit:drbd \\\n"
"\tparams drbd_resource=\"r0\"\n"

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:680
msgid ""
"These are _transient_ attributes (have a _lifetime_ of _reboot_ in pacemaker "
"speak). That means, after a _reboot_ of the node, or local restart of "
"pacemaker, those attributes will not exist until an instance of `drbd-attr` "
"is started on that node."
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:682
msgid "You can inspect the generated attributes with `crm_mon -A -1`."
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:686
msgid ""
"These attributed can be used in constraints for services that depend on the "
"DRBD devices, or, when managing DRBD with the `ocf:linbit:drbd` resource "
"agent, for the _Master_ role of that DRBD instance."
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:688
msgid ""
"Here is an example location constraint for the example resource from <<s-"
"pacemaker-drbd-background>>"
msgstr ""

#. type: delimited block -
#: UG9/en/drbd-pacemaker.adoc:693
#, no-wrap
msgid ""
"location lo_fs_mysql fs_mysql \\\n"
"        rule -inf: not_defined drbd-promotion-score-mysql \\\n"
"        rule drbd-promotion-score-mysql: defined drbd-promotion-score-mysql\n"
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:697
msgid ""
"This means, provided that the attribute is not defined, the fs_mysql file "
"system cannot be mounted here. When the attribute is defined, its value "
"becomes the score of the location constraint."
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:702
msgid ""
"This can also be used to cause Pacemaker to migrate a service away when DRBD "
"loses a local backing device. Because a failed backing block device causes "
"the promotion score to drop, other nodes with working backing devices will "
"expose higher promotion scores."
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:705
msgid ""
"The attributes are updated live, independent of the resource-agent's monitor "
"operation, with a dampening delay of 5 seconds by default."
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:708
msgid ""
"The resource agent has these optional parameters, see also its man page "
"`ocf_linbit_drbd-attr(7)`:"
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:710
msgid "`dampening_delay`"
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:711
msgid "`attr_name_prefix`"
msgstr ""

#. type: Plain text
#: UG9/en/drbd-pacemaker.adoc:712
msgid "`record_event_details`"
msgstr ""
